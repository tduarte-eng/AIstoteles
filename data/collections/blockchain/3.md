# [Extending Contracts - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/extending-contracts) 
 _https://docs.openzeppelin.com/contracts/5.x/extending-contracts_

Inheritance is often used to add the parent contract’s functionality to your own contract, but that’s not all it can do. You can also _change_ how some parts of the parent behave using _overrides_.
For example, imagine you want to change [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) so that [`revokeRole`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl-revokeRole-bytes32-address-) can no longer be called. This can be achieved using overrides:
 // contracts/AccessControlModified.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";
 
 contract AccessControlModified is AccessControl {
 error AccessControlNonRevocable();
 
 // Override the revokeRole function
 function revokeRole(bytes32, address) public pure override {
 revert AccessControlNonRevocable();
 }
 }
The old `revokeRole` is then replaced by our override, and any calls to it will immediately revert. We cannot _remove_ the function from the contract, but reverting on all calls is good enough.
### [](#calling_super)Calling `super`
Sometimes you want to _extend_ a parent’s behavior, instead of outright changing it to something else. This is where `super` comes in.
The `super` keyword will let you call functions defined in a parent contract, even if they are overridden. This mechanism can be used to add additional checks to a function, emit events, or otherwise add functionality as you see fit.
Here is a modified version of [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) where [`revokeRole`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl-revokeRole-bytes32-address-) cannot be used to revoke the `DEFAULT_ADMIN_ROLE`:
 // contracts/AccessControlNonRevokableAdmin.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";
 
 contract AccessControlNonRevokableAdmin is AccessControl {
 error AccessControlNonRevokable();
 
 function revokeRole(bytes32 role, address account) public override {
 if (role == DEFAULT_ADMIN_ROLE) {
 revert AccessControlNonRevokable();
 }
 
 super.revokeRole(role, account);
 }
 }
The `super.revokeRole` statement at the end will invoke `AccessControl`'s original version of `revokeRole`, the same code that would’ve run if there were no overrides in place.
The same rule is implemented and extended in [`AccessControlDefaultAdminRules`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControlDefaultAdminRules), an extension that also adds enforced security measures for the `DEFAULT_ADMIN_ROLE`.

# [ERC-20 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/erc20) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/erc20_

This set of interfaces, contracts, and utilities are all related to the [ERC-20 Token Standard](https://eips.ethereum.org/EIPS/eip-20).
For an overview of ERC-20 tokens and a walk through on how to create a token contract read our [ERC-20 guide](https://docs.openzeppelin.com/contracts/5.x/erc20).
There are a few core contracts that implement the behavior specified in the ERC-20 standard:
* [`IERC20`](#IERC20): the interface all ERC-20 implementations should conform to.
 
* [`IERC20Metadata`](#IERC20Metadata): the extended ERC-20 interface including the [`name`](#ERC20-name--), [`symbol`](#ERC20-symbol--) and [`decimals`](#ERC20-decimals--) functions.
 
* [`ERC20`](#ERC20): the implementation of the ERC-20 interface, including the [`name`](#ERC20-name--), [`symbol`](#ERC20-symbol--) and [`decimals`](#ERC20-decimals--) optional extensions to the standard interface.
 
Additionally there are multiple custom extensions, including:
* [`ERC20Permit`](#ERC20Permit): gasless approval of tokens (standardized as ERC-2612).
 
* [`ERC20Burnable`](#ERC20Burnable): destruction of own tokens.
 
* [`ERC20Capped`](#ERC20Capped): enforcement of a cap to the total supply when minting tokens.
 
* [`ERC20Pausable`](#ERC20Pausable): ability to pause token transfers.
 
* [`ERC20FlashMint`](#ERC20FlashMint): token level support for flash loans through the minting and burning of ephemeral tokens (standardized as ERC-3156).
 
* [`ERC20Votes`](#ERC20Votes): support for voting and vote delegation.
 
* [`ERC20Wrapper`](#ERC20Wrapper): wrapper to create an ERC-20 backed by another ERC-20, with deposit and withdraw methods. Useful in conjunction with [`ERC20Votes`](#ERC20Votes).
 
* [`ERC20TemporaryApproval`](#ERC20TemporaryApproval): support for approvals lasting for only one transaction, as defined in ERC-7674.
 
* [`ERC1363`](#ERC1363): support for calling the target of a transfer or approval, enabling code execution on the receiver within a single transaction.
 
* [`ERC4626`](#ERC4626): tokenized vault that manages shares (represented as ERC-20) that are backed by assets (another ERC-20).
 
Finally, there are some utilities to interact with ERC-20 contracts in various ways:
* [`SafeERC20`](#SafeERC20): a wrapper around the interface that eliminates the need to handle boolean return values.
 
Other utilities that support ERC-20 assets can be found in the codebase:
* ERC-20 tokens can be timelocked (held for a beneficiary until a specified time) or vested (released following a given schedule) using a [`VestingWallet`](https://docs.openzeppelin.com/contracts/5.x/api/finance#VestingWallet).
 
This core set of contracts is designed to be unopinionated, allowing developers to access the internal functions in ERC-20 (such as [`_mint`](#ERC20-_mint-address-uint256-)) and expose them as external functions in the way they prefer.
## [](#core)Core
### [](#IERC20)`IERC20`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/IERC20.sol)
 import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
Interface of the ERC-20 standard as defined in the ERC.
Functions
* [`totalSupply()`](#IERC20-totalSupply--)
 
* [`balanceOf(account)`](#IERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#IERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#IERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#IERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#IERC20-transferFrom-address-address-uint256-)
 
#### [](#IERC20-totalSupply--)`totalSupply() → uint256` external
Returns the value of tokens in existence.
#### [](#IERC20-balanceOf-address-)`balanceOf(address account) → uint256` external
Returns the value of tokens owned by `account`.
#### [](#IERC20-transfer-address-uint256-)`transfer(address to, uint256 value) → bool` external
Moves a `value` amount of tokens from the caller’s account to `to`.
Returns a boolean value indicating whether the operation succeeded.
Emits a [`transfer`](#IERC20-transfer-address-uint256-) event.
#### [](#IERC20-allowance-address-address-)`allowance(address owner, address spender) → uint256` external
Returns the remaining number of tokens that `spender` will be allowed to spend on behalf of `owner` through [`transferFrom`](#IERC20-transferFrom-address-address-uint256-). This is zero by default.
This value changes when [`approve`](#IERC20-approve-address-uint256-) or [`transferFrom`](#IERC20-transferFrom-address-address-uint256-) are called.
#### [](#IERC20-approve-address-uint256-)`approve(address spender, uint256 value) → bool` external
Sets a `value` amount of tokens as the allowance of `spender` over the caller’s tokens.
Returns a boolean value indicating whether the operation succeeded.
Beware that changing an allowance with this method brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this race condition is to first reduce the spender’s allowance to 0 and set the desired value afterwards: [https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729](https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729)
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
#### [](#IERC20-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 value) → bool` external
Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism. `value` is then deducted from the caller’s allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a [`transfer`](#IERC20-transfer-address-uint256-) event.
#### [](#IERC20-Transfer-address-address-uint256-)`Transfer(address indexed from, address indexed to, uint256 value)` event
Emitted when `value` tokens are moved from one account (`from`) to another (`to`).
Note that `value` may be zero.
#### [](#IERC20-Approval-address-address-uint256-)`Approval(address indexed owner, address indexed spender, uint256 value)` event
Emitted when the allowance of a `spender` for an `owner` is set by a call to [`approve`](#IERC20-approve-address-uint256-). `value` is the new allowance.
### [](#IERC20Metadata)`IERC20Metadata`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/IERC20Metadata.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol";
Interface for the optional metadata functions from the ERC-20 standard.
#### [](#IERC20Metadata-name--)`name() → string` external
Returns the name of the token.
#### [](#IERC20Metadata-symbol--)`symbol() → string` external
Returns the symbol of the token.
#### [](#IERC20Metadata-decimals--)`decimals() → uint8` external
Returns the decimals places of the token.
### [](#ERC20)`ERC20`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/ERC20.sol)
 import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
Implementation of the [`IERC20`](#IERC20) interface.
This implementation is agnostic to the way tokens are created. This means that a supply mechanism has to be added in a derived contract using [`_mint`](#ERC20-_mint-address-uint256-).
The default value of [`decimals`](#ERC20-decimals--) is 18. To change this, you should override this function so it returns a different value.
We have followed general OpenZeppelin Contracts guidelines: functions revert instead returning `false` on failure. This behavior is nonetheless conventional and does not conflict with the expectations of ERC-20 applications.
Functions
* [`constructor(name_, symbol_)`](#ERC20-constructor-string-string-)
 
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20-constructor-string-string-)`constructor(string name_, string symbol_)` internal
Sets the values for [`name`](#ERC20-name--) and [`symbol`](#ERC20-symbol--).
Both values are immutable: they can only be set once during construction.
#### [](#ERC20-name--)`name() → string` public
Returns the name of the token.
#### [](#ERC20-symbol--)`symbol() → string` public
Returns the symbol of the token, usually a shorter version of the name.
#### [](#ERC20-decimals--)`decimals() → uint8` public
Returns the number of decimals used to get its user representation. For example, if `decimals` equals `2`, a balance of `505` tokens should be displayed to a user as `5.05` (`505 / 10 ** 2`).
Tokens usually opt for a value of 18, imitating the relationship between Ether and Wei. This is the default value returned by this function, unless it’s overridden.
This information is only used for _display_ purposes: it in no way affects any of the arithmetic of the contract, including [`IERC20.balanceOf`](#IERC20-balanceOf-address-) and [`IERC20.transfer`](#IERC20-transfer-address-uint256-).
#### [](#ERC20-totalSupply--)`totalSupply() → uint256` public
See [`IERC20.totalSupply`](#IERC20-totalSupply--).
#### [](#ERC20-balanceOf-address-)`balanceOf(address account) → uint256` public
See [`IERC20.balanceOf`](#IERC20-balanceOf-address-).
#### [](#ERC20-transfer-address-uint256-)`transfer(address to, uint256 value) → bool` public
See [`IERC20.transfer`](#IERC20-transfer-address-uint256-).
Requirements:
* `to` cannot be the zero address.
 
* the caller must have a balance of at least `value`.
 
#### [](#ERC20-allowance-address-address-)`allowance(address owner, address spender) → uint256` public
See [`IERC20.allowance`](#IERC20-allowance-address-address-).
#### [](#ERC20-approve-address-uint256-)`approve(address spender, uint256 value) → bool` public
See [`IERC20.approve`](#IERC20-approve-address-uint256-).
If `value` is the maximum `uint256`, the allowance is not updated on `transferFrom`. This is semantically equivalent to an infinite approval.
Requirements:
* `spender` cannot be the zero address.
 
#### [](#ERC20-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 value) → bool` public
See [`IERC20.transferFrom`](#IERC20-transferFrom-address-address-uint256-).
Skips emitting an [`Approval`](#IERC20-Approval-address-address-uint256-) event indicating an allowance update. This is not required by the ERC. See [\_approve](#ERC20-_approve-address-address-uint256-bool-).
Does not update the allowance if the current allowance is the maximum `uint256`.
Requirements:
* `from` and `to` cannot be the zero address.
 
* `from` must have a balance of at least `value`.
 
* the caller must have allowance for `from`'s tokens of at least `value`.
 
#### [](#ERC20-_transfer-address-address-uint256-)`_transfer(address from, address to, uint256 value)` internal
Moves a `value` amount of tokens from `from` to `to`.
This internal function is equivalent to [`transfer`](#ERC20-transfer-address-uint256-), and can be used to e.g. implement automatic token fees, slashing mechanisms, etc.
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event.
This function is not virtual, [`_update`](#ERC20-_update-address-address-uint256-) should be overridden instead.
#### [](#ERC20-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
Transfers a `value` amount of tokens from `from` to `to`, or alternatively mints (or burns) if `from` (or `to`) is the zero address. All customizations to transfers, mints, and burns should be done by overriding this function.
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event.
#### [](#ERC20-_mint-address-uint256-)`_mint(address account, uint256 value)` internal
Creates a `value` amount of tokens and assigns them to `account`, by transferring it from address(0). Relies on the `_update` mechanism
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event with `from` set to the zero address.
This function is not virtual, [`_update`](#ERC20-_update-address-address-uint256-) should be overridden instead.
#### [](#ERC20-_burn-address-uint256-)`_burn(address account, uint256 value)` internal
Destroys a `value` amount of tokens from `account`, lowering the total supply. Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event with `to` set to the zero address.
This function is not virtual, [`_update`](#ERC20-_update-address-address-uint256-) should be overridden instead
#### [](#ERC20-_approve-address-address-uint256-)`_approve(address owner, address spender, uint256 value)` internal
Sets `value` as the allowance of `spender` over the \`owner’s tokens.
This internal function is equivalent to `approve`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
Requirements:
* `owner` cannot be the zero address.
 
* `spender` cannot be the zero address.
 
Overrides to this logic should be done to the variant with an additional `bool emitEvent` argument.
#### [](#ERC20-_approve-address-address-uint256-bool-)`_approve(address owner, address spender, uint256 value, bool emitEvent)` internal
Variant of [`_approve`](#ERC20-_approve-address-address-uint256-bool-) with an optional flag to enable or disable the [`Approval`](#IERC20-Approval-address-address-uint256-) event.
By default (when calling [`_approve`](#ERC20-_approve-address-address-uint256-bool-)) the flag is set to true. On the other hand, approval changes made by `_spendAllowance` during the `transferFrom` operation set the flag to false. This saves gas by not emitting any `Approval` event during `transferFrom` operations.
Anyone who wishes to continue emitting `Approval` events on the\`transferFrom\` operation can force the flag to true using the following override:
 function _approve(address owner, address spender, uint256 value, bool) internal virtual override {
 super._approve(owner, spender, value, true);
 }
Requirements are the same as [`_approve`](#ERC20-_approve-address-address-uint256-bool-).
#### [](#ERC20-_spendAllowance-address-address-uint256-)`_spendAllowance(address owner, address spender, uint256 value)` internal
Updates ``owner’s allowance for `spender`` based on spent `value`.
Does not update the allowance value in case of infinite allowance. Revert if not enough allowance is available.
Does not emit an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
## [](#extensions)Extensions
### [](#IERC20Permit)`IERC20Permit`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/IERC20Permit.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol";
Interface of the ERC-20 Permit extension allowing approvals to be made via signatures, as defined in [ERC-2612](https://eips.ethereum.org/EIPS/eip-2612).
Adds the [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) method, which can be used to change an account’s ERC-20 allowance (see [`IERC20.allowance`](#IERC20-allowance-address-address-)) by presenting a message signed by the account. By not relying on [`IERC20.approve`](#IERC20-approve-address-uint256-), the token holder account doesn’t need to send a transaction, and thus is not required to hold Ether at all.
#### [](#security_considerations)Security Considerations
There are two important considerations concerning the use of `permit`. The first is that a valid permit signature expresses an allowance, and it should not be assumed to convey additional meaning. In particular, it should not be considered as an intention to spend the allowance in any specific way. The second is that because permits have built-in replay protection and can be submitted by anyone, they can be frontrun. A protocol that uses permits should take this into consideration and allow a `permit` call to fail. Combining these two aspects, a pattern that may be generally recommended is:
 function doThingWithPermit(..., uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) public {
 try token.permit(msg.sender, address(this), value, deadline, v, r, s) {} catch {}
 doThing(..., value);
 }
 
 function doThing(..., uint256 value) public {
 token.safeTransferFrom(msg.sender, address(this), value);
 ...
 }
Observe that: 1) `msg.sender` is used as the owner, leaving no ambiguity as to the signer intent, and 2) the use of `try/catch` allows the permit to fail and makes the code tolerant to frontrunning. (See also [`SafeERC20.safeTransferFrom`](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-)).
Additionally, note that smart contract wallets (such as Argent or Safe) are not able to produce permit signatures, so contracts should have entry points that don’t rely on permit.
#### [](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-)`permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)` external
Sets `value` as the allowance of `spender` over `owner`'s tokens, given `owner`'s signed approval.
The same issues [`IERC20.approve`](#IERC20-approve-address-uint256-) has related to transaction ordering also apply here.
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
Requirements:
* `spender` cannot be the zero address.
 
* `deadline` must be a timestamp in the future.
 
* `v`, `r` and `s` must be a valid `secp256k1` signature from `owner` over the EIP712-formatted function arguments.
 
* the signature must use `owner`'s current nonce (see [`nonces`](#IERC20Permit-nonces-address-)).
 
See Security Considerations above.
#### [](#IERC20Permit-nonces-address-)`nonces(address owner) → uint256` external
Returns the current nonce for `owner`. This value must be included whenever a signature is generated for [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-).
Every successful call to [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) increases `owner`'s nonce by one. This prevents a signature from being used multiple times.
#### [](#IERC20Permit-DOMAIN_SEPARATOR--)`DOMAIN_SEPARATOR() → bytes32` external
Returns the domain separator used in the encoding of the signature for [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-), as defined by [`EIP712`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712).
### [](#ERC20Permit)`ERC20Permit`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Permit.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Permit.sol";
Implementation of the ERC-20 Permit extension allowing approvals to be made via signatures, as defined in [ERC-2612](https://eips.ethereum.org/EIPS/eip-2612).
Adds the [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) method, which can be used to change an account’s ERC-20 allowance (see [`IERC20.allowance`](#IERC20-allowance-address-address-)) by presenting a message signed by the account. By not relying on ``[`IERC20.approve`](#IERC20-approve-address-uint256-)``, the token holder account doesn’t need to send a transaction, and thus is not required to hold Ether at all.
Functions
* [`constructor(name)`](#ERC20Permit-constructor-string-)
 
* [`permit(owner, spender, value, deadline, v, r, s)`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-)
 
* [`nonces(owner)`](#ERC20Permit-nonces-address-)
 
* [`DOMAIN_SEPARATOR()`](#ERC20Permit-DOMAIN_SEPARATOR--)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Permit-constructor-string-)`constructor(string name)` internal
Initializes the [`EIP712`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712) domain separator using the `name` parameter, and setting `version` to `"1"`.
It’s a good idea to use the same `name` that is defined as the ERC-20 token name.
#### [](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-)`permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)` public
Sets `value` as the allowance of `spender` over `owner`'s tokens, given `owner`'s signed approval.
The same issues [`IERC20.approve`](#IERC20-approve-address-uint256-) has related to transaction ordering also apply here.
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
Requirements:
* `spender` cannot be the zero address.
 
* `deadline` must be a timestamp in the future.
 
* `v`, `r` and `s` must be a valid `secp256k1` signature from `owner` over the EIP712-formatted function arguments.
 
* the signature must use `owner`'s current nonce (see [`nonces`](#ERC20Permit-nonces-address-)).
 
See Security Considerations above.
#### [](#ERC20Permit-nonces-address-)`nonces(address owner) → uint256` public
Returns the current nonce for `owner`. This value must be included whenever a signature is generated for [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-).
Every successful call to [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) increases `owner`'s nonce by one. This prevents a signature from being used multiple times.
#### [](#ERC20Permit-DOMAIN_SEPARATOR--)`DOMAIN_SEPARATOR() → bytes32` external
Returns the domain separator used in the encoding of the signature for [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-), as defined by [`EIP712`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712).
#### [](#ERC20Permit-ERC2612ExpiredSignature-uint256-)`ERC2612ExpiredSignature(uint256 deadline)` error
Permit deadline has expired.
#### [](#ERC20Permit-ERC2612InvalidSigner-address-address-)`ERC2612InvalidSigner(address signer, address owner)` error
Mismatched signature.
### [](#ERC20Burnable)`ERC20Burnable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Burnable.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Burnable.sol";
Extension of [`ERC20`](#ERC20) that allows token holders to destroy both their own tokens and those that they have an allowance for, in a way that can be recognized off-chain (via event analysis).
Functions
* [`burn(value)`](#ERC20Burnable-burn-uint256-)
 
* [`burnFrom(account, value)`](#ERC20Burnable-burnFrom-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Burnable-burn-uint256-)`burn(uint256 value)` public
Destroys a `value` amount of tokens from the caller.
See [`ERC20._burn`](#ERC20-_burn-address-uint256-).
#### [](#ERC20Burnable-burnFrom-address-uint256-)`burnFrom(address account, uint256 value)` public
Destroys a `value` amount of tokens from `account`, deducting from the caller’s allowance.
See [`ERC20._burn`](#ERC20-_burn-address-uint256-) and [`ERC20.allowance`](#ERC20-allowance-address-address-).
Requirements:
* the caller must have allowance for `accounts`'s tokens of at least `value`.
 
### [](#ERC20Capped)`ERC20Capped`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Capped.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Capped.sol";
Extension of [`ERC20`](#ERC20) that adds a cap to the supply of tokens.
Functions
* [`constructor(cap_)`](#ERC20Capped-constructor-uint256-)
 
* [`cap()`](#ERC20Capped-cap--)
 
* [`_update(from, to, value)`](#ERC20Capped-_update-address-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Capped-constructor-uint256-)`constructor(uint256 cap_)` internal
Sets the value of the `cap`. This value is immutable, it can only be set once during construction.
#### [](#ERC20Capped-cap--)`cap() → uint256` public
Returns the cap on the token’s total supply.
#### [](#ERC20Capped-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
See [`ERC20._update`](#ERC20-_update-address-address-uint256-).
#### [](#ERC20Capped-ERC20ExceededCap-uint256-uint256-)`ERC20ExceededCap(uint256 increasedSupply, uint256 cap)` error
Total supply cap has been exceeded.
#### [](#ERC20Capped-ERC20InvalidCap-uint256-)`ERC20InvalidCap(uint256 cap)` error
The supplied cap is not a valid cap.
### [](#ERC20Pausable)`ERC20Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Pausable.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Pausable.sol";
ERC-20 token with pausable token transfers, minting and burning.
Useful for scenarios such as preventing trades until the end of an evaluation period, or having an emergency switch for freezing all token transfers in the event of a large bug.
This contract does not include public pause and unpause functions. In addition to inheriting this contract, you must define both functions, invoking the [`Pausable._pause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_pause--) and [`Pausable._unpause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_unpause--) internal functions, with appropriate access control, e.g. using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) or [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable). Not doing so will make the contract pause mechanism of the contract unreachable, and thus unusable.
Functions
* [`_update(from, to, value)`](#ERC20Pausable-_update-address-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Pausable-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
See [`ERC20._update`](#ERC20-_update-address-address-uint256-).
Requirements:
* the contract must not be paused.
 
### [](#ERC20Votes)`ERC20Votes`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Votes.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
Extension of ERC-20 to support Compound-like voting and delegation. This version is more generic than Compound’s, and supports token supply up to 2208 - 1, while COMP is limited to 296 - 1.
This contract does not provide interface compatibility with Compound’s COMP token.
This extension keeps a history (checkpoints) of each account’s vote power. Vote power can be delegated either by calling the [`Votes.delegate`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegate-address-) function directly, or by providing a signature to be used with [`Votes.delegateBySig`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-). Voting power can be queried through the public accessors [`Votes.getVotes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getVotes-address-) and [`Votes.getPastVotes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastVotes-address-uint256-).
By default, token balance does not account for voting power. This makes transfers cheaper. The downside is that it requires users to delegate to themselves in order to activate checkpoints and have their voting power tracked.
Functions
* [`_maxSupply()`](#ERC20Votes-_maxSupply--)
 
* [`_update(from, to, value)`](#ERC20Votes-_update-address-address-uint256-)
 
* [`_getVotingUnits(account)`](#ERC20Votes-_getVotingUnits-address-)
 
* [`numCheckpoints(account)`](#ERC20Votes-numCheckpoints-address-)
 
* [`checkpoints(account, pos)`](#ERC20Votes-checkpoints-address-uint32-)
 
Votes
* [`clock()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-clock--)
 
* [`CLOCK_MODE()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-CLOCK_MODE--)
 
* [`_validateTimepoint(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_validateTimepoint-uint256-)
 
* [`getVotes(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getVotes-address-)
 
* [`getPastVotes(account, timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastVotes-address-uint256-)
 
* [`getPastTotalSupply(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastTotalSupply-uint256-)
 
* [`_getTotalSupply()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_getTotalSupply--)
 
* [`delegates(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegates-address-)
 
* [`delegate(delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegate-address-)
 
* [`delegateBySig(delegatee, nonce, expiry, v, r, s)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-)
 
* [`_delegate(account, delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_delegate-address-address-)
 
* [`_transferVotingUnits(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_transferVotingUnits-address-address-uint256-)
 
* [`_moveDelegateVotes(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_moveDelegateVotes-address-address-uint256-)
 
* [`_numCheckpoints(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_numCheckpoints-address-)
 
* [`_checkpoints(account, pos)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_checkpoints-address-uint32-)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Votes-_maxSupply--)`_maxSupply() → uint256` internal
Maximum token supply. Defaults to `type(uint208).max` (2208 - 1).
This maximum is enforced in [`_update`](#ERC20Votes-_update-address-address-uint256-). It limits the total supply of the token, which is otherwise a uint256, so that checkpoints can be stored in the Trace208 structure used by [`Votes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes). Increasing this value will not remove the underlying limitation, and will cause [`_update`](#ERC20Votes-_update-address-address-uint256-) to fail because of a math overflow in [`Votes._transferVotingUnits`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_transferVotingUnits-address-address-uint256-). An override could be used to further restrict the total supply (to a lower value) if additional logic requires it. When resolving override conflicts on this function, the minimum should be returned.
#### [](#ERC20Votes-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
Move voting power when tokens are transferred.
#### [](#ERC20Votes-_getVotingUnits-address-)`_getVotingUnits(address account) → uint256` internal
Returns the voting units of an `account`.
Overriding this function may compromise the internal vote accounting. `ERC20Votes` assumes tokens map to voting units 1:1 and this is not easy to change.
#### [](#ERC20Votes-numCheckpoints-address-)`numCheckpoints(address account) → uint32` public
Get number of checkpoints for `account`.
#### [](#ERC20Votes-checkpoints-address-uint32-)`checkpoints(address account, uint32 pos) → struct Checkpoints.Checkpoint208` public
Get the `pos`\-th checkpoint for `account`.
#### [](#ERC20Votes-ERC20ExceededSafeSupply-uint256-uint256-)`ERC20ExceededSafeSupply(uint256 increasedSupply, uint256 cap)` error
Total supply cap has been exceeded, introducing a risk of votes overflowing.
### [](#ERC20Wrapper)`ERC20Wrapper`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Wrapper.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Wrapper.sol";
Extension of the ERC-20 token contract to support token wrapping.
Users can deposit and withdraw "underlying tokens" and receive a matching number of "wrapped tokens". This is useful in conjunction with other modules. For example, combining this wrapping mechanism with [`ERC20Votes`](#ERC20Votes) will allow the wrapping of an existing "basic" ERC-20 into a governance token.
Any mechanism in which the underlying token changes the [`balanceOf`](#ERC20-balanceOf-address-) of an account without an explicit transfer may desynchronize this contract’s supply and its underlying balance. Please exercise caution when wrapping tokens that may undercollateralize the wrapper (i.e. wrapper’s total supply is higher than its underlying balance). See [`_recover`](#ERC20Wrapper-_recover-address-) for recovering value accrued to the wrapper.
Functions
* [`constructor(underlyingToken)`](#ERC20Wrapper-constructor-contract-IERC20-)
 
* [`decimals()`](#ERC20Wrapper-decimals--)
 
* [`underlying()`](#ERC20Wrapper-underlying--)
 
* [`depositFor(account, value)`](#ERC20Wrapper-depositFor-address-uint256-)
 
* [`withdrawTo(account, value)`](#ERC20Wrapper-withdrawTo-address-uint256-)
 
* [`_recover(account)`](#ERC20Wrapper-_recover-address-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Wrapper-constructor-contract-IERC20-)`constructor(contract IERC20 underlyingToken)` internal
#### [](#ERC20Wrapper-decimals--)`decimals() → uint8` public
See [`ERC20.decimals`](#ERC20-decimals--).
#### [](#ERC20Wrapper-underlying--)`underlying() → contract IERC20` public
Returns the address of the underlying ERC-20 token that is being wrapped.
#### [](#ERC20Wrapper-depositFor-address-uint256-)`depositFor(address account, uint256 value) → bool` public
Allow a user to deposit underlying tokens and mint the corresponding number of wrapped tokens.
#### [](#ERC20Wrapper-withdrawTo-address-uint256-)`withdrawTo(address account, uint256 value) → bool` public
Allow a user to burn a number of wrapped tokens and withdraw the corresponding number of underlying tokens.
#### [](#ERC20Wrapper-_recover-address-)`_recover(address account) → uint256` internal
Mint wrapped token to cover any underlyingTokens that would have been transferred by mistake or acquired from rebasing mechanisms. Internal function that can be exposed with access control if desired.
#### [](#ERC20Wrapper-ERC20InvalidUnderlying-address-)`ERC20InvalidUnderlying(address token)` error
The underlying token couldn’t be wrapped.
### [](#ERC20FlashMint)`ERC20FlashMint`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20FlashMint.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20FlashMint.sol";
Implementation of the ERC-3156 Flash loans extension, as defined in [ERC-3156](https://eips.ethereum.org/EIPS/eip-3156).
Adds the [`flashLoan`](#ERC20FlashMint-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-) method, which provides flash loan support at the token level. By default there is no fee, but this can be changed by overriding [`flashFee`](#ERC20FlashMint-flashFee-address-uint256-).
When this extension is used along with the [`ERC20Capped`](#ERC20Capped) or [`ERC20Votes`](#ERC20Votes) extensions, [`maxFlashLoan`](#ERC20FlashMint-maxFlashLoan-address-) will not correctly reflect the maximum that can be flash minted. We recommend overriding [`maxFlashLoan`](#ERC20FlashMint-maxFlashLoan-address-) so that it correctly reflects the supply cap.
Functions
* [`maxFlashLoan(token)`](#ERC20FlashMint-maxFlashLoan-address-)
 
* [`flashFee(token, value)`](#ERC20FlashMint-flashFee-address-uint256-)
 
* [`_flashFee(token, value)`](#ERC20FlashMint-_flashFee-address-uint256-)
 
* [`_flashFeeReceiver()`](#ERC20FlashMint-_flashFeeReceiver--)
 
* [`flashLoan(receiver, token, value, data)`](#ERC20FlashMint-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20FlashMint-maxFlashLoan-address-)`maxFlashLoan(address token) → uint256` public
Returns the maximum amount of tokens available for loan.
#### [](#ERC20FlashMint-flashFee-address-uint256-)`flashFee(address token, uint256 value) → uint256` public
Returns the fee applied when doing flash loans. This function calls the [`_flashFee`](#ERC20FlashMint-_flashFee-address-uint256-) function which returns the fee applied when doing flash loans.
#### [](#ERC20FlashMint-_flashFee-address-uint256-)`_flashFee(address token, uint256 value) → uint256` internal
Returns the fee applied when doing flash loans. By default this implementation has 0 fees. This function can be overloaded to make the flash loan mechanism deflationary.
#### [](#ERC20FlashMint-_flashFeeReceiver--)`_flashFeeReceiver() → address` internal
Returns the receiver address of the flash fee. By default this implementation returns the address(0) which means the fee amount will be burnt. This function can be overloaded to change the fee receiver.
#### [](#ERC20FlashMint-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-)`flashLoan(contract IERC3156FlashBorrower receiver, address token, uint256 value, bytes data) → bool` public
Performs a flash loan. New tokens are minted and sent to the `receiver`, who is required to implement the [`IERC3156FlashBorrower`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC3156FlashBorrower) interface. By the end of the flash loan, the receiver is expected to own value + fee tokens and have them approved back to the token contract itself so they can be burned.
#### [](#ERC20FlashMint-ERC3156UnsupportedToken-address-)`ERC3156UnsupportedToken(address token)` error
The loan token is not valid.
#### [](#ERC20FlashMint-ERC3156ExceededMaxLoan-uint256-)`ERC3156ExceededMaxLoan(uint256 maxLoan)` error
The requested loan exceeds the max loan value for `token`.
#### [](#ERC20FlashMint-ERC3156InvalidReceiver-address-)`ERC3156InvalidReceiver(address receiver)` error
### [](#ERC20TemporaryApproval)`ERC20TemporaryApproval`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/draft-ERC20TemporaryApproval.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/draft-ERC20TemporaryApproval.sol";
Extension of [`ERC20`](#ERC20) that adds support for temporary allowances following ERC-7674.
This is a draft contract. The corresponding ERC is still subject to changes.
_Available since v5.1._
Functions
* [`allowance(owner, spender)`](#ERC20TemporaryApproval-allowance-address-address-)
 
* [`_temporaryAllowance(owner, spender)`](#ERC20TemporaryApproval-_temporaryAllowance-address-address-)
 
* [`temporaryApprove(spender, value)`](#ERC20TemporaryApproval-temporaryApprove-address-uint256-)
 
* [`_temporaryApprove(owner, spender, value)`](#ERC20TemporaryApproval-_temporaryApprove-address-address-uint256-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20TemporaryApproval-_spendAllowance-address-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
#### [](#ERC20TemporaryApproval-allowance-address-address-)`allowance(address owner, address spender) → uint256` public
[`allowance`](#ERC20TemporaryApproval-allowance-address-address-) override that includes the temporary allowance when looking up the current allowance. If adding up the persistent and the temporary allowances result in an overflow, type(uint256).max is returned.
#### [](#ERC20TemporaryApproval-_temporaryAllowance-address-address-)`_temporaryAllowance(address owner, address spender) → uint256` internal
Internal getter for the current temporary allowance that `spender` has over `owner` tokens.
#### [](#ERC20TemporaryApproval-temporaryApprove-address-uint256-)`temporaryApprove(address spender, uint256 value) → bool` public
Alternative to [`approve`](#ERC20-approve-address-uint256-) that sets a `value` amount of tokens as the temporary allowance of `spender` over the caller’s tokens.
Returns a boolean value indicating whether the operation succeeded.
Requirements: - `spender` cannot be the zero address.
Does NOT emit an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
#### [](#ERC20TemporaryApproval-_temporaryApprove-address-address-uint256-)`_temporaryApprove(address owner, address spender, uint256 value)` internal
Sets `value` as the temporary allowance of `spender` over the \`owner’s tokens.
This internal function is equivalent to `temporaryApprove`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Requirements: - `owner` cannot be the zero address. - `spender` cannot be the zero address.
Does NOT emit an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
#### [](#ERC20TemporaryApproval-_spendAllowance-address-address-uint256-)`_spendAllowance(address owner, address spender, uint256 value)` internal
[`_spendAllowance`](#ERC20TemporaryApproval-_spendAllowance-address-address-uint256-) override that consumes the temporary allowance (if any) before eventually falling back to consuming the persistent allowance. NOTE: This function skips calling `super._spendAllowance` if the temporary allowance is enough to cover the spending.
### [](#ERC1363)`ERC1363`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC1363.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC1363.sol";
Extension of [`ERC20`](#ERC20) tokens that adds support for code execution after transfers and approvals on recipient contracts. Calls after transfers are enabled through the [`ERC1363.transferAndCall`](#ERC1363-transferAndCall-address-uint256-bytes-) and [`ERC1363.transferFromAndCall`](#ERC1363-transferFromAndCall-address-address-uint256-bytes-) methods while calls after approvals can be made with [`ERC1363.approveAndCall`](#ERC1363-approveAndCall-address-uint256-bytes-)
_Available since v5.1._
Functions
* [`supportsInterface(interfaceId)`](#ERC1363-supportsInterface-bytes4-)
 
* [`transferAndCall(to, value)`](#ERC1363-transferAndCall-address-uint256-)
 
* [`transferAndCall(to, value, data)`](#ERC1363-transferAndCall-address-uint256-bytes-)
 
* [`transferFromAndCall(from, to, value)`](#ERC1363-transferFromAndCall-address-address-uint256-)
 
* [`transferFromAndCall(from, to, value, data)`](#ERC1363-transferFromAndCall-address-address-uint256-bytes-)
 
* [`approveAndCall(spender, value)`](#ERC1363-approveAndCall-address-uint256-)
 
* [`approveAndCall(spender, value, data)`](#ERC1363-approveAndCall-address-uint256-bytes-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC1363-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding [ERC section](https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified) to learn more about how these ids are created.
This function call must use less than 30 000 gas.
#### [](#ERC1363-transferAndCall-address-uint256-)`transferAndCall(address to, uint256 value) → bool` public
Moves a `value` amount of tokens from the caller’s account to `to` and then calls [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`. Returns a flag that indicates if the call succeeded.
Requirements:
* The target has code (i.e. is a contract).
 
* The target `to` must implement the [`IERC1363Receiver`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver) interface.
 
* The target must return the [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) selector to accept the transfer.
 
* The internal [`transfer`](#ERC20-transfer-address-uint256-) must succeed (returned `true`).
 
#### [](#ERC1363-transferAndCall-address-uint256-bytes-)`transferAndCall(address to, uint256 value, bytes data) → bool` public
Variant of [`transferAndCall`](#ERC1363-transferAndCall-address-uint256-bytes-) that accepts an additional `data` parameter with no specified format.
#### [](#ERC1363-transferFromAndCall-address-address-uint256-)`transferFromAndCall(address from, address to, uint256 value) → bool` public
Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism and then calls [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`. Returns a flag that indicates if the call succeeded.
Requirements:
* The target has code (i.e. is a contract).
 
* The target `to` must implement the [`IERC1363Receiver`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver) interface.
 
* The target must return the [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) selector to accept the transfer.
 
* The internal [`transferFrom`](#ERC20-transferFrom-address-address-uint256-) must succeed (returned `true`).
 
#### [](#ERC1363-transferFromAndCall-address-address-uint256-bytes-)`transferFromAndCall(address from, address to, uint256 value, bytes data) → bool` public
Variant of [`transferFromAndCall`](#ERC1363-transferFromAndCall-address-address-uint256-bytes-) that accepts an additional `data` parameter with no specified format.
#### [](#ERC1363-approveAndCall-address-uint256-)`approveAndCall(address spender, uint256 value) → bool` public
Sets a `value` amount of tokens as the allowance of `spender` over the caller’s tokens and then calls [`IERC1363Spender.onApprovalReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) on `spender`. Returns a flag that indicates if the call succeeded.
Requirements:
* The target has code (i.e. is a contract).
 
* The target `spender` must implement the [`IERC1363Spender`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender) interface.
 
* The target must return the [`IERC1363Spender.onApprovalReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) selector to accept the approval.
 
* The internal [`approve`](#ERC20-approve-address-uint256-) must succeed (returned `true`).
 
#### [](#ERC1363-approveAndCall-address-uint256-bytes-)`approveAndCall(address spender, uint256 value, bytes data) → bool` public
Variant of [`approveAndCall`](#ERC1363-approveAndCall-address-uint256-bytes-) that accepts an additional `data` parameter with no specified format.
#### [](#ERC1363-ERC1363TransferFailed-address-uint256-)`ERC1363TransferFailed(address receiver, uint256 value)` error
Indicates a failure within the [`transfer`](#ERC20-transfer-address-uint256-) part of a transferAndCall operation.
#### [](#ERC1363-ERC1363TransferFromFailed-address-address-uint256-)`ERC1363TransferFromFailed(address sender, address receiver, uint256 value)` error
Indicates a failure within the [`transferFrom`](#ERC20-transferFrom-address-address-uint256-) part of a transferFromAndCall operation.
#### [](#ERC1363-ERC1363ApproveFailed-address-uint256-)`ERC1363ApproveFailed(address spender, uint256 value)` error
Indicates a failure within the [`approve`](#ERC20-approve-address-uint256-) part of a approveAndCall operation.
### [](#ERC4626)`ERC4626`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC4626.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC4626.sol";
Implementation of the ERC-4626 "Tokenized Vault Standard" as defined in [ERC-4626](https://eips.ethereum.org/EIPS/eip-4626).
This extension allows the minting and burning of "shares" (represented using the ERC-20 inheritance) in exchange for underlying "assets" through standardized [`deposit`](#ERC4626-deposit-uint256-address-), [`mint`](#ERC4626-mint-uint256-address-), [`redeem`](#ERC4626-redeem-uint256-address-address-) and [`burn`](#ERC20Burnable-burn-uint256-) workflows. This contract extends the ERC-20 standard. Any additional extensions included along it would affect the "shares" token represented by this contract and not the "assets" token which is an independent contract.
In empty (or nearly empty) ERC-4626 vaults, deposits are at high risk of being stolen through frontrunning with a "donation" to the vault that inflates the price of a share. This is variously known as a donation or inflation attack and is essentially a problem of slippage. Vault deployers can protect against this attack by making an initial deposit of a non-trivial amount of the asset, such that price manipulation becomes infeasible. Withdrawals may similarly be affected by slippage. Users can protect against this attack as well as unexpected slippage in general by verifying the amount received is as expected, using a wrapper that performs these checks such as [ERC4626Router](https://github.com/fei-protocol/ERC4626#erc4626router-and-base).
Since v4.9, this implementation introduces configurable virtual assets and shares to help developers mitigate that risk. The `_decimalsOffset()` corresponds to an offset in the decimal representation between the underlying asset’s decimals and the vault decimals. This offset also determines the rate of virtual shares to virtual assets in the vault, which itself determines the initial exchange rate. While not fully preventing the attack, analysis shows that the default offset (0) makes it non-profitable even if an attacker is able to capture value from multiple user deposits, as a result of the value being captured by the virtual shares (out of the attacker’s donation) matching the attacker’s expected gains. With a larger offset, the attack becomes orders of magnitude more expensive than it is profitable. More details about the underlying math can be found [here](https://docs.openzeppelin.com/contracts/5.x/erc4626#inflation-attack).
The drawback of this approach is that the virtual shares do capture (a very small) part of the value being accrued to the vault. Also, if the vault experiences losses, the users try to exit the vault, the virtual shares and assets will cause the first user to exit to experience reduced losses in detriment to the last users that will experience bigger losses. Developers willing to revert back to the pre-v4.9 behavior just need to override the `_convertToShares` and `_convertToAssets` functions.
Functions
* [`constructor(asset_)`](#ERC4626-constructor-contract-IERC20-)
 
* [`decimals()`](#ERC4626-decimals--)
 
* [`asset()`](#ERC4626-asset--)
 
* [`totalAssets()`](#ERC4626-totalAssets--)
 
* [`convertToShares(assets)`](#ERC4626-convertToShares-uint256-)
 
* [`convertToAssets(shares)`](#ERC4626-convertToAssets-uint256-)
 
* [`maxDeposit()`](#ERC4626-maxDeposit-address-)
 
* [`maxMint()`](#ERC4626-maxMint-address-)
 
* [`maxWithdraw(owner)`](#ERC4626-maxWithdraw-address-)
 
* [`maxRedeem(owner)`](#ERC4626-maxRedeem-address-)
 
* [`previewDeposit(assets)`](#ERC4626-previewDeposit-uint256-)
 
* [`previewMint(shares)`](#ERC4626-previewMint-uint256-)
 
* [`previewWithdraw(assets)`](#ERC4626-previewWithdraw-uint256-)
 
* [`previewRedeem(shares)`](#ERC4626-previewRedeem-uint256-)
 
* [`deposit(assets, receiver)`](#ERC4626-deposit-uint256-address-)
 
* [`mint(shares, receiver)`](#ERC4626-mint-uint256-address-)
 
* [`withdraw(assets, receiver, owner)`](#ERC4626-withdraw-uint256-address-address-)
 
* [`redeem(shares, receiver, owner)`](#ERC4626-redeem-uint256-address-address-)
 
* [`_convertToShares(assets, rounding)`](#ERC4626-_convertToShares-uint256-enum-Math-Rounding-)
 
* [`_convertToAssets(shares, rounding)`](#ERC4626-_convertToAssets-uint256-enum-Math-Rounding-)
 
* [`_deposit(caller, receiver, assets, shares)`](#ERC4626-_deposit-address-address-uint256-uint256-)
 
* [`_withdraw(caller, receiver, owner, assets, shares)`](#ERC4626-_withdraw-address-address-address-uint256-uint256-)
 
* [`_decimalsOffset()`](#ERC4626-_decimalsOffset--)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
Errors
* [`ERC4626ExceededMaxDeposit(receiver, assets, max)`](#ERC4626-ERC4626ExceededMaxDeposit-address-uint256-uint256-)
 
* [`ERC4626ExceededMaxMint(receiver, shares, max)`](#ERC4626-ERC4626ExceededMaxMint-address-uint256-uint256-)
 
* [`ERC4626ExceededMaxWithdraw(owner, assets, max)`](#ERC4626-ERC4626ExceededMaxWithdraw-address-uint256-uint256-)
 
* [`ERC4626ExceededMaxRedeem(owner, shares, max)`](#ERC4626-ERC4626ExceededMaxRedeem-address-uint256-uint256-)
 
IERC20Errors
* [`ERC20InsufficientBalance(sender, balance, needed)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InsufficientBalance-address-uint256-uint256-)
 
* [`ERC20InvalidSender(sender)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidSender-address-)
 
* [`ERC20InvalidReceiver(receiver)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidReceiver-address-)
 
* [`ERC20InsufficientAllowance(spender, allowance, needed)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InsufficientAllowance-address-uint256-uint256-)
 
* [`ERC20InvalidApprover(approver)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidApprover-address-)
 
* [`ERC20InvalidSpender(spender)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidSpender-address-)
 
#### [](#ERC4626-constructor-contract-IERC20-)`constructor(contract IERC20 asset_)` internal
Set the underlying asset contract. This must be an ERC20-compatible contract (ERC-20 or ERC-777).
#### [](#ERC4626-decimals--)`decimals() → uint8` public
Decimals are computed by adding the decimal offset on top of the underlying asset’s decimals. This "original" value is cached during construction of the vault contract. If this read operation fails (e.g., the asset has not been created yet), a default of 18 is used to represent the underlying asset’s decimals.
See [`IERC20Metadata.decimals`](#IERC20Metadata-decimals--).
#### [](#ERC4626-asset--)`asset() → address` public
#### [](#ERC4626-totalAssets--)`totalAssets() → uint256` public
#### [](#ERC4626-convertToShares-uint256-)`convertToShares(uint256 assets) → uint256` public
#### [](#ERC4626-convertToAssets-uint256-)`convertToAssets(uint256 shares) → uint256` public
#### [](#ERC4626-maxDeposit-address-)`maxDeposit(address) → uint256` public
#### [](#ERC4626-maxMint-address-)`maxMint(address) → uint256` public
#### [](#ERC4626-maxWithdraw-address-)`maxWithdraw(address owner) → uint256` public
#### [](#ERC4626-maxRedeem-address-)`maxRedeem(address owner) → uint256` public
#### [](#ERC4626-previewDeposit-uint256-)`previewDeposit(uint256 assets) → uint256` public
#### [](#ERC4626-previewMint-uint256-)`previewMint(uint256 shares) → uint256` public
#### [](#ERC4626-previewWithdraw-uint256-)`previewWithdraw(uint256 assets) → uint256` public
#### [](#ERC4626-previewRedeem-uint256-)`previewRedeem(uint256 shares) → uint256` public
#### [](#ERC4626-deposit-uint256-address-)`deposit(uint256 assets, address receiver) → uint256` public
#### [](#ERC4626-mint-uint256-address-)`mint(uint256 shares, address receiver) → uint256` public
#### [](#ERC4626-withdraw-uint256-address-address-)`withdraw(uint256 assets, address receiver, address owner) → uint256` public
#### [](#ERC4626-redeem-uint256-address-address-)`redeem(uint256 shares, address receiver, address owner) → uint256` public
#### [](#ERC4626-_convertToShares-uint256-enum-Math-Rounding-)`_convertToShares(uint256 assets, enum Math.Rounding rounding) → uint256` internal
Internal conversion function (from assets to shares) with support for rounding direction.
#### [](#ERC4626-_convertToAssets-uint256-enum-Math-Rounding-)`_convertToAssets(uint256 shares, enum Math.Rounding rounding) → uint256` internal
Internal conversion function (from shares to assets) with support for rounding direction.
#### [](#ERC4626-_deposit-address-address-uint256-uint256-)`_deposit(address caller, address receiver, uint256 assets, uint256 shares)` internal
Deposit/mint common workflow.
#### [](#ERC4626-_withdraw-address-address-address-uint256-uint256-)`_withdraw(address caller, address receiver, address owner, uint256 assets, uint256 shares)` internal
Withdraw/redeem common workflow.
#### [](#ERC4626-_decimalsOffset--)`_decimalsOffset() → uint8` internal
#### [](#ERC4626-ERC4626ExceededMaxDeposit-address-uint256-uint256-)`ERC4626ExceededMaxDeposit(address receiver, uint256 assets, uint256 max)` error
Attempted to deposit more assets than the max amount for `receiver`.
#### [](#ERC4626-ERC4626ExceededMaxMint-address-uint256-uint256-)`ERC4626ExceededMaxMint(address receiver, uint256 shares, uint256 max)` error
Attempted to mint more shares than the max amount for `receiver`.
#### [](#ERC4626-ERC4626ExceededMaxWithdraw-address-uint256-uint256-)`ERC4626ExceededMaxWithdraw(address owner, uint256 assets, uint256 max)` error
Attempted to withdraw more assets than the max amount for `receiver`.
#### [](#ERC4626-ERC4626ExceededMaxRedeem-address-uint256-uint256-)`ERC4626ExceededMaxRedeem(address owner, uint256 shares, uint256 max)` error
Attempted to redeem more shares than the max amount for `receiver`.
## [](#utilities)Utilities
### [](#SafeERC20)`SafeERC20`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/utils/SafeERC20.sol)
 import "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";
Wrappers around ERC-20 operations that throw on failure (when the token contract returns false). Tokens that return no value (and instead revert or throw on failure) are also supported, non-reverting calls are assumed to be successful. To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract, which allows you to call the safe operations as `token.safeTransfer(…​)`, etc.
Functions
* [`safeTransfer(token, to, value)`](#SafeERC20-safeTransfer-contract-IERC20-address-uint256-)
 
* [`safeTransferFrom(token, from, to, value)`](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-)
 
* [`trySafeTransfer(token, to, value)`](#SafeERC20-trySafeTransfer-contract-IERC20-address-uint256-)
 
* [`trySafeTransferFrom(token, from, to, value)`](#SafeERC20-trySafeTransferFrom-contract-IERC20-address-address-uint256-)
 
* [`safeIncreaseAllowance(token, spender, value)`](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-)
 
* [`safeDecreaseAllowance(token, spender, requestedDecrease)`](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-)
 
* [`forceApprove(token, spender, value)`](#SafeERC20-forceApprove-contract-IERC20-address-uint256-)
 
* [`transferAndCallRelaxed(token, to, value, data)`](#SafeERC20-transferAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)
 
* [`transferFromAndCallRelaxed(token, from, to, value, data)`](#SafeERC20-transferFromAndCallRelaxed-contract-IERC1363-address-address-uint256-bytes-)
 
* [`approveAndCallRelaxed(token, to, value, data)`](#SafeERC20-approveAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)
 
Errors
* [`SafeERC20FailedOperation(token)`](#SafeERC20-SafeERC20FailedOperation-address-)
 
* [`SafeERC20FailedDecreaseAllowance(spender, currentAllowance, requestedDecrease)`](#SafeERC20-SafeERC20FailedDecreaseAllowance-address-uint256-uint256-)
 
#### [](#SafeERC20-safeTransfer-contract-IERC20-address-uint256-)`safeTransfer(contract IERC20 token, address to, uint256 value)` internal
Transfer `value` amount of `token` from the calling contract to `to`. If `token` returns no value, non-reverting calls are assumed to be successful.
#### [](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-)`safeTransferFrom(contract IERC20 token, address from, address to, uint256 value)` internal
Transfer `value` amount of `token` from `from` to `to`, spending the approval given by `from` to the calling contract. If `token` returns no value, non-reverting calls are assumed to be successful.
#### [](#SafeERC20-trySafeTransfer-contract-IERC20-address-uint256-)`trySafeTransfer(contract IERC20 token, address to, uint256 value) → bool` internal
Variant of [`safeTransfer`](#SafeERC20-safeTransfer-contract-IERC20-address-uint256-) that returns a bool instead of reverting if the operation is not successful.
#### [](#SafeERC20-trySafeTransferFrom-contract-IERC20-address-address-uint256-)`trySafeTransferFrom(contract IERC20 token, address from, address to, uint256 value) → bool` internal
Variant of [`safeTransferFrom`](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-) that returns a bool instead of reverting if the operation is not successful.
#### [](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-)`safeIncreaseAllowance(contract IERC20 token, address spender, uint256 value)` internal
Increase the calling contract’s allowance toward `spender` by `value`. If `token` returns no value, non-reverting calls are assumed to be successful.
If the token implements ERC-7674 (ERC-20 with temporary allowance), and if the "client" smart contract uses ERC-7674 to set temporary allowances, then the "client" smart contract should avoid using this function. Performing a [`safeIncreaseAllowance`](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-) or [`safeDecreaseAllowance`](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-) operation on a token contract that has a non-zero temporary allowance (for that particular owner-spender) will result in unexpected behavior.
#### [](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-)`safeDecreaseAllowance(contract IERC20 token, address spender, uint256 requestedDecrease)` internal
Decrease the calling contract’s allowance toward `spender` by `requestedDecrease`. If `token` returns no value, non-reverting calls are assumed to be successful.
If the token implements ERC-7674 (ERC-20 with temporary allowance), and if the "client" smart contract uses ERC-7674 to set temporary allowances, then the "client" smart contract should avoid using this function. Performing a [`safeIncreaseAllowance`](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-) or [`safeDecreaseAllowance`](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-) operation on a token contract that has a non-zero temporary allowance (for that particular owner-spender) will result in unexpected behavior.
#### [](#SafeERC20-forceApprove-contract-IERC20-address-uint256-)`forceApprove(contract IERC20 token, address spender, uint256 value)` internal
Set the calling contract’s allowance toward `spender` to `value`. If `token` returns no value, non-reverting calls are assumed to be successful. Meant to be used with tokens that require the approval to be set to zero before setting it to a non-zero value, such as USDT.
If the token implements ERC-7674, this function will not modify any temporary allowance. This function only sets the "standard" allowance. Any temporary allowance will remain active, in addition to the value being set here.
#### [](#SafeERC20-transferAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)`transferAndCallRelaxed(contract IERC1363 token, address to, uint256 value, bytes data)` internal
Performs an [`ERC1363`](#ERC1363) transferAndCall, with a fallback to the simple [`ERC20`](#ERC20) transfer if the target has no code. This can be used to implement an [`ERC721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721)\-like safe transfer that rely on [`ERC1363`](#ERC1363) checks when targeting contracts.
Reverts if the returned value is other than `true`.
#### [](#SafeERC20-transferFromAndCallRelaxed-contract-IERC1363-address-address-uint256-bytes-)`transferFromAndCallRelaxed(contract IERC1363 token, address from, address to, uint256 value, bytes data)` internal
Performs an [`ERC1363`](#ERC1363) transferFromAndCall, with a fallback to the simple [`ERC20`](#ERC20) transferFrom if the target has no code. This can be used to implement an [`ERC721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721)\-like safe transfer that rely on [`ERC1363`](#ERC1363) checks when targeting contracts.
Reverts if the returned value is other than `true`.
#### [](#SafeERC20-approveAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)`approveAndCallRelaxed(contract IERC1363 token, address to, uint256 value, bytes data)` internal
Performs an [`ERC1363`](#ERC1363) approveAndCall, with a fallback to the simple [`ERC20`](#ERC20) approve if the target has no code. This can be used to implement an [`ERC721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721)\-like safe transfer that rely on [`ERC1363`](#ERC1363) checks when targeting contracts.
When the recipient address (`to`) has no code (i.e. is an EOA), this function behaves as [`forceApprove`](#SafeERC20-forceApprove-contract-IERC20-address-uint256-). Opposedly, when the recipient address (`to`) has code, this function only attempts to call [`ERC1363.approveAndCall`](#ERC1363-approveAndCall-address-uint256-bytes-) once without retrying, and relies on the returned value to be true.
Reverts if the returned value is other than `true`.
#### [](#SafeERC20-SafeERC20FailedOperation-address-)`SafeERC20FailedOperation(address token)` error
An operation with an ERC-20 token failed.
#### [](#SafeERC20-SafeERC20FailedDecreaseAllowance-address-uint256-uint256-)`SafeERC20FailedDecreaseAllowance(address spender, uint256 currentAllowance, uint256 requestedDecrease)` error
Indicates a failed `decreaseAllowance` request.
### [](#ERC1363Utils)`ERC1363Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/utils/ERC1363Utils.sol)
 import "@openzeppelin/contracts/token/ERC20/utils/ERC1363Utils.sol";
Library that provides common ERC-1363 utility functions.
Functions
* [`checkOnERC1363TransferReceived(operator, from, to, value, data)`](#ERC1363Utils-checkOnERC1363TransferReceived-address-address-address-uint256-bytes-)
 
* [`checkOnERC1363ApprovalReceived(operator, spender, value, data)`](#ERC1363Utils-checkOnERC1363ApprovalReceived-address-address-uint256-bytes-)
 
#### [](#ERC1363Utils-checkOnERC1363TransferReceived-address-address-address-uint256-bytes-)`checkOnERC1363TransferReceived(address operator, address from, address to, uint256 value, bytes data)` internal
Requirements:
* The target has code (i.e. is a contract).
 
* The target `to` must implement the [`IERC1363Receiver`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver) interface.
 
* The target must return the [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) selector to accept the transfer.
 
#### [](#ERC1363Utils-checkOnERC1363ApprovalReceived-address-address-uint256-bytes-)`checkOnERC1363ApprovalReceived(address operator, address spender, uint256 value, bytes data)` internal
Requirements:
* The target has code (i.e. is a contract).
 
* The target `spender` must implement the [`IERC1363Spender`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender) interface.
 
* The target must return the [`IERC1363Spender.onApprovalReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) selector to accept the approval.
 
#### [](#ERC1363Utils-ERC1363InvalidReceiver-address-)`ERC1363InvalidReceiver(address receiver)` error
Indicates a failure with the token `receiver`. Used in transfers.
#### [](#ERC1363Utils-ERC1363InvalidSpender-address-)`ERC1363InvalidSpender(address spender)` error
Indicates a failure with the token `spender`. Used in approvals.

# [ERC-6909 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC6909) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/ERC6909_

### [](#ERC6909)`ERC6909`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC6909/draft-ERC6909.sol)
 import "@openzeppelin/contracts/token/ERC6909/draft-ERC6909.sol";
Functions
* [`supportsInterface(interfaceId)`](#ERC6909-supportsInterface-bytes4-)
 
* [`balanceOf(owner, id)`](#ERC6909-balanceOf-address-uint256-)
 
* [`allowance(owner, spender, id)`](#ERC6909-allowance-address-address-uint256-)
 
* [`isOperator(owner, spender)`](#ERC6909-isOperator-address-address-)
 
* [`approve(spender, id, amount)`](#ERC6909-approve-address-uint256-uint256-)
 
* [`setOperator(spender, approved)`](#ERC6909-setOperator-address-bool-)
 
* [`transfer(receiver, id, amount)`](#ERC6909-transfer-address-uint256-uint256-)
 
* [`transferFrom(sender, receiver, id, amount)`](#ERC6909-transferFrom-address-address-uint256-uint256-)
 
* [`_mint(to, id, amount)`](#ERC6909-_mint-address-uint256-uint256-)
 
* [`_transfer(from, to, id, amount)`](#ERC6909-_transfer-address-address-uint256-uint256-)
 
* [`_burn(from, id, amount)`](#ERC6909-_burn-address-uint256-uint256-)
 
* [`_update(from, to, id, amount)`](#ERC6909-_update-address-address-uint256-uint256-)
 
* [`_approve(owner, spender, id, amount)`](#ERC6909-_approve-address-address-uint256-uint256-)
 
* [`_setOperator(owner, spender, approved)`](#ERC6909-_setOperator-address-address-bool-)
 
* [`_spendAllowance(owner, spender, id, amount)`](#ERC6909-_spendAllowance-address-address-uint256-uint256-)
 
Errors
* [`ERC6909InsufficientBalance(sender, balance, needed, id)`](#ERC6909-ERC6909InsufficientBalance-address-uint256-uint256-uint256-)
 
* [`ERC6909InsufficientAllowance(spender, allowance, needed, id)`](#ERC6909-ERC6909InsufficientAllowance-address-uint256-uint256-uint256-)
 
* [`ERC6909InvalidApprover(approver)`](#ERC6909-ERC6909InvalidApprover-address-)
 
* [`ERC6909InvalidReceiver(receiver)`](#ERC6909-ERC6909InvalidReceiver-address-)
 
* [`ERC6909InvalidSender(sender)`](#ERC6909-ERC6909InvalidSender-address-)
 
* [`ERC6909InvalidSpender(spender)`](#ERC6909-ERC6909InvalidSpender-address-)
 
#### [](#ERC6909-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding [ERC section](https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified) to learn more about how these ids are created.
This function call must use less than 30 000 gas.
#### [](#ERC6909-balanceOf-address-uint256-)`balanceOf(address owner, uint256 id) → uint256` public
Returns the amount of tokens of type `id` owned by `owner`.
#### [](#ERC6909-allowance-address-address-uint256-)`allowance(address owner, address spender, uint256 id) → uint256` public
Returns the amount of tokens of type `id` that `spender` is allowed to spend on behalf of `owner`.
Does not include operator allowances.
#### [](#ERC6909-isOperator-address-address-)`isOperator(address owner, address spender) → bool` public
Returns true if `spender` is set as an operator for `owner`.
#### [](#ERC6909-approve-address-uint256-uint256-)`approve(address spender, uint256 id, uint256 amount) → bool` public
Sets an approval to `spender` for `amount` of tokens of type `id` from the caller’s tokens. An `amount` of `type(uint256).max` signifies an unlimited approval.
Must return true.
#### [](#ERC6909-setOperator-address-bool-)`setOperator(address spender, bool approved) → bool` public
Grants or revokes unlimited transfer permission of any token id to `spender` for the caller’s tokens.
Must return true.
#### [](#ERC6909-transfer-address-uint256-uint256-)`transfer(address receiver, uint256 id, uint256 amount) → bool` public
Transfers `amount` of token type `id` from the caller’s account to `receiver`.
Must return true.
#### [](#ERC6909-transferFrom-address-address-uint256-uint256-)`transferFrom(address sender, address receiver, uint256 id, uint256 amount) → bool` public
Transfers `amount` of token type `id` from `sender` to `receiver`.
Must return true.
#### [](#ERC6909-_mint-address-uint256-uint256-)`_mint(address to, uint256 id, uint256 amount)` internal
Creates `amount` of token `id` and assigns them to `account`, by transferring it from address(0). Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event with `from` set to the zero address.
This function is not virtual, [`_update`](#ERC6909-_update-address-address-uint256-uint256-) should be overridden instead.
#### [](#ERC6909-_transfer-address-address-uint256-uint256-)`_transfer(address from, address to, uint256 id, uint256 amount)` internal
Moves `amount` of token `id` from `from` to `to` without checking for approvals. This function verifies that neither the sender nor the receiver are address(0), which means it cannot mint or burn tokens. Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event.
This function is not virtual, [`_update`](#ERC6909-_update-address-address-uint256-uint256-) should be overridden instead.
#### [](#ERC6909-_burn-address-uint256-uint256-)`_burn(address from, uint256 id, uint256 amount)` internal
Destroys a `amount` of token `id` from `account`. Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event with `to` set to the zero address.
This function is not virtual, [`_update`](#ERC6909-_update-address-address-uint256-uint256-) should be overridden instead
#### [](#ERC6909-_update-address-address-uint256-uint256-)`_update(address from, address to, uint256 id, uint256 amount)` internal
Transfers `amount` of token `id` from `from` to `to`, or alternatively mints (or burns) if `from` (or `to`) is the zero address. All customizations to transfers, mints, and burns should be done by overriding this function.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event.
#### [](#ERC6909-_approve-address-address-uint256-uint256-)`_approve(address owner, address spender, uint256 id, uint256 amount)` internal
Sets `amount` as the allowance of `spender` over the ``owner’s `id`` tokens.
This internal function is equivalent to `approve`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Emits an {Approval} event.
Requirements:
* `owner` cannot be the zero address.
 
* `spender` cannot be the zero address.
 
#### [](#ERC6909-_setOperator-address-address-bool-)`_setOperator(address owner, address spender, bool approved)` internal
Approve `spender` to operate on all of \`owner’s tokens
This internal function is equivalent to `setOperator`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Emits an {OperatorSet} event.
Requirements:
* `owner` cannot be the zero address.
 
* `spender` cannot be the zero address.
 
#### [](#ERC6909-_spendAllowance-address-address-uint256-uint256-)`_spendAllowance(address owner, address spender, uint256 id, uint256 amount)` internal
Updates ``owner’s allowance for `spender`` based on spent `amount`.
Does not update the allowance value in case of infinite allowance. Revert if not enough allowance is available.
Does not emit an {Approval} event.
#### [](#ERC6909-ERC6909InsufficientBalance-address-uint256-uint256-uint256-)`ERC6909InsufficientBalance(address sender, uint256 balance, uint256 needed, uint256 id)` error
#### [](#ERC6909-ERC6909InsufficientAllowance-address-uint256-uint256-uint256-)`ERC6909InsufficientAllowance(address spender, uint256 allowance, uint256 needed, uint256 id)` error
#### [](#ERC6909-ERC6909InvalidApprover-address-)`ERC6909InvalidApprover(address approver)` error
#### [](#ERC6909-ERC6909InvalidReceiver-address-)`ERC6909InvalidReceiver(address receiver)` error
#### [](#ERC6909-ERC6909InvalidSender-address-)`ERC6909InvalidSender(address sender)` error
#### [](#ERC6909-ERC6909InvalidSpender-address-)`ERC6909InvalidSpender(address spender)` error

# [Creating ERC-20 Supply - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/erc20-supply) 
 _https://docs.openzeppelin.com/contracts/5.x/erc20-supply_

In this guide, you will learn how to create an ERC-20 token with a custom supply mechanism. We will showcase two idiomatic ways to use OpenZeppelin Contracts for this purpose that you will be able to apply to your smart contract development practice.
The standard interface implemented by tokens built on Ethereum is called ERC-20, and Contracts includes a widely used implementation of it: the aptly named [`ERC20`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20) contract. This contract, like the standard itself, is quite simple and bare-bones. In fact, if you try to deploy an instance of `ERC20` as-is it will be quite literally useless…​ it will have no supply! What use is a token with no supply?
The way that supply is created is not defined in the ERC-20 document. Every token is free to experiment with its own mechanisms, ranging from the most decentralized to the most centralized, from the most naive to the most researched, and more.
## [](#fixed-supply)Fixed Supply
Let’s say we want a token with a fixed supply of 1000, initially allocated to the account that deploys the contract. If you’ve used Contracts v1, you may have written code like the following:
 contract ERC20FixedSupply is ERC20 {
 constructor() {
 totalSupply += 1000;
 balances[msg.sender] += 1000;
 }
 }
Starting with Contracts v2, this pattern is not only discouraged, but disallowed. The variables `totalSupply` and `balances` are now private implementation details of `ERC20`, and you can’t directly write to them. Instead, there is an internal [`_mint`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-_mint-address-uint256-) function that will do exactly this:
 contract ERC20FixedSupply is ERC20 {
 constructor() ERC20("Fixed", "FIX") {
 _mint(msg.sender, 1000);
 }
 }
Encapsulating state like this makes it safer to extend contracts. For instance, in the first example we had to manually keep the `totalSupply` in sync with the modified balances, which is easy to forget. In fact, we omitted something else that is also easily forgotten: the `Transfer` event that is required by the standard, and which is relied on by some clients. The second example does not have this bug, because the internal `_mint` function takes care of it.
## [](#rewarding-miners)Rewarding Miners
The internal [`_mint`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-_mint-address-uint256-) function is the key building block that allows us to write ERC-20 extensions that implement a supply mechanism.
The mechanism we will implement is a token reward for the miners that produce Ethereum blocks. In Solidity, we can access the address of the current block’s miner in the global variable `block.coinbase`. We will mint a token reward to this address whenever someone calls the function `mintMinerReward()` on our token. The mechanism may sound silly, but you never know what kind of dynamic this might result in, and it’s worth analyzing and experimenting with!
 contract ERC20WithMinerReward is ERC20 {
 constructor() ERC20("Reward", "RWD") {}
 
 function mintMinerReward() public {
 _mint(block.coinbase, 1000);
 }
 }
As we can see, `_mint` makes it super easy to do this correctly.
## [](#automating-the-reward)Automating the Reward
So far our supply mechanism was triggered manually, but `ERC20` also allows us to extend the core functionality of the token through the [`_update`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-_update-address-address-uint256-) function.
Adding to the supply mechanism from the previous section, we can use this function to mint a miner reward for every token transfer that is included in the blockchain.
 // SPDX-License-Identifier: MIT
 
 pragma solidity ^0.8.20;
 
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 
 contract ERC20WithAutoMinerReward is ERC20 {
 constructor() ERC20("Reward", "RWD") {
 _mintMinerReward();
 }
 
 function _mintMinerReward() internal {
 _mint(block.coinbase, 1000);
 }
 
 function _update(address from, address to, uint256 value) internal virtual override {
 if (!(from == address(0) && to == block.coinbase)) {
 _mintMinerReward();
 }
 super._update(from, to, value);
 }
 }
## [](#wrapping-up)Wrapping Up
We’ve seen how to implement an ERC-20 supply mechanism: internally through `_mint`. Hopefully this has helped you understand how to use OpenZeppelin Contracts and some of the design principles behind it, and you can apply them to your own smart contracts.

# [Contracts - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/) 
 _https://docs.openzeppelin.com/contracts/5.x/_

**A library for secure smart contract development.** Build on a solid foundation of community-vetted code.
* Implementations of standards like [ERC20](https://docs.openzeppelin.com/contracts/5.x/erc20) and [ERC721](https://docs.openzeppelin.com/contracts/5.x/erc721).
 
* Flexible [role-based permissioning](https://docs.openzeppelin.com/contracts/5.x/access-control) scheme.
 
* Reusable [Solidity components](https://docs.openzeppelin.com/contracts/5.x/utilities) to build custom contracts and complex decentralized systems.
 
OpenZeppelin Contracts uses semantic versioning to communicate backwards compatibility of its API and storage layout. For upgradeable contracts, the storage layout of different major versions should be assumed incompatible, for example, it is unsafe to upgrade from 4.9.3 to 5.0.0. Learn more at [Backwards Compatibility](https://docs.openzeppelin.com/contracts/5.x/backwards-compatibility).
## [](#overview)Overview
### [](#install)Installation
#### [](#hardhat_npm)Hardhat (npm)
 $ npm install @openzeppelin/contracts
#### [](#foundry_git)Foundry (git)
When installing via git, it is a common error to use the `master` branch. This is a development branch that should be avoided in favor of tagged releases. The release process involves security measures that the `master` branch does not guarantee.
Foundry installs the latest version initially, but subsequent `forge update` commands will use the `master` branch.
 $ forge install OpenZeppelin/openzeppelin-contracts
Add `@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/` in `remappings.txt.`
### [](#usage)Usage
Once installed, you can use the contracts in the library by importing them:
 // contracts/MyNFT.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC721} from "@openzeppelin/contracts/token/ERC721/ERC721.sol";
 
 contract MyNFT is ERC721 {
 constructor() ERC721("MyNFT", "MNFT") {}
 }
If you’re new to smart contract development, head to [Developing Smart Contracts](https://docs.openzeppelin.com/learn/developing-smart-contracts) to learn about creating a new project and compiling your contracts.
To keep your system secure, you should **always** use the installed code as-is, and neither copy-paste it from online sources, nor modify it yourself. The library is designed so that only the contracts and functions you use are deployed, so you don’t need to worry about it needlessly increasing gas costs.
## [](#security)Security
The [Security Center](https://contracts.openzeppelin.com/security) contains more details about the secure development process.
## [](#next-steps)Learn More
The guides in the sidebar will teach about different concepts, and how to use the related contracts that OpenZeppelin Contracts provides:
* [Access Control](https://docs.openzeppelin.com/contracts/5.x/access-control): decide who can perform each of the actions on your system.
 
* [Tokens](https://docs.openzeppelin.com/contracts/5.x/tokens): create tradable assets or collectibles, like the well known [ERC20](https://docs.openzeppelin.com/contracts/5.x/erc20) and [ERC721](https://docs.openzeppelin.com/contracts/5.x/erc721) standards.
 
* [Utilities](https://docs.openzeppelin.com/contracts/5.x/utilities): generic useful tools, including non-overflowing math, signature verification, and trustless paying systems.
 
The [full API](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20) is also thoroughly documented, and serves as a great reference when developing your smart contract application. You can also ask for help or follow Contracts' development in the [community forum](https://forum.openzeppelin.com/).
The following articles provide great background reading, though please note, some of the referenced tools have changed as the tooling in the ecosystem continues to rapidly evolve.
* [The Hitchhiker’s Guide to Smart Contracts in Ethereum](https://blog.openzeppelin.com/the-hitchhikers-guide-to-smart-contracts-in-ethereum-848f08001f05) will help you get an overview of the various tools available for smart contract development, and help you set up your environment.
 
* [A Gentle Introduction to Ethereum Programming, Part 1](https://blog.openzeppelin.com/a-gentle-introduction-to-ethereum-programming-part-1-783cc7796094) provides very useful information on an introductory level, including many basic concepts from the Ethereum platform.
 
* For a more in-depth dive, you may read the guide [Designing the architecture for your Ethereum application](https://blog.openzeppelin.com/designing-the-architecture-for-your-ethereum-application-9cec086f8317), which discusses how to better structure your application and its relationship to the real world.

# [ERC-721 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721_

For a walk through on how to create an ERC-721 token read our [ERC-721 guide](https://docs.openzeppelin.com/contracts/5.x/erc721).
The ERC specifies four interfaces:
* [`IERC721`](#IERC721): Core functionality required in all compliant implementation.
 
* [`IERC721Metadata`](#IERC721Metadata): Optional extension that adds name, symbol, and token URI, almost always included.
 
* [`IERC721Enumerable`](#IERC721Enumerable): Optional extension that allows enumerating the tokens on chain, often not included since it requires large gas overhead.
 
* [`IERC721Receiver`](#IERC721Receiver): An interface that must be implemented by contracts if they want to accept tokens through `safeTransferFrom`.
 
OpenZeppelin Contracts provides implementations of all four interfaces:
* [`ERC721`](#ERC721): The core and metadata extensions, with a base URI mechanism.
 
* [`ERC721Enumerable`](#ERC721Enumerable): The enumerable extension.
 
* [`ERC721Holder`](#ERC721Holder): A bare bones implementation of the receiver interface.
 
Additionally there are a few of other extensions:
* [`ERC721Consecutive`](#ERC721Consecutive): An implementation of [ERC-2309](https://eips.ethereum.org/EIPS/eip-2309) for minting batches of tokens during construction, in accordance with ERC-721.
 
* [`ERC721URIStorage`](#ERC721URIStorage): A more flexible but more expensive way of storing metadata.
 
* [`ERC721Votes`](#ERC721Votes): Support for voting and vote delegation.
 
* [`ERC721Royalty`](#ERC721Royalty): A way to signal royalty information following ERC-2981.
 
* [`ERC721Pausable`](#ERC721Pausable): A primitive to pause contract operation.
 
* [`ERC721Burnable`](#ERC721Burnable): A way for token holders to burn their own tokens.
 
* [`ERC721Wrapper`](#ERC721Wrapper): Wrapper to create an ERC-721 backed by another ERC-721, with deposit and withdraw methods. Useful in conjunction with [`ERC721Votes`](#ERC721Votes).
 
This core set of contracts is designed to be unopinionated, allowing developers to access the internal functions in ERC-721 (such as [`_mint`](#ERC721-_mint-address-uint256-)) and expose them as external functions in the way they prefer.
## [](#core)Core
### [](#IERC721)`IERC721`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/IERC721.sol)
 import "@openzeppelin/contracts/token/ERC721/IERC721.sol";
Required interface of an ERC-721 compliant contract.
Functions
* [`balanceOf(owner)`](#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](#IERC721-isApprovedForAll-address-address-)
 
Events
* [`Transfer(from, to, tokenId)`](#IERC721-Transfer-address-address-uint256-)
 
* [`Approval(owner, approved, tokenId)`](#IERC721-Approval-address-address-uint256-)
 
* [`ApprovalForAll(owner, operator, approved)`](#IERC721-ApprovalForAll-address-address-bool-)
 
#### [](#IERC721-balanceOf-address-)`balanceOf(address owner) → uint256 balance` external
Returns the number of tokens in `owner`'s account.
#### [](#IERC721-ownerOf-uint256-)`ownerOf(uint256 tokenId) → address owner` external
Returns the owner of the `tokenId` token.
Requirements:
* `tokenId` must exist.
 
#### [](#IERC721-safeTransferFrom-address-address-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 tokenId, bytes data)` external
Safely transfers `tokenId` token from `from` to `to`.
Requirements:
* `from` cannot be the zero address.
 
* `to` cannot be the zero address.
 
* `tokenId` token must exist and be owned by `from`.
 
* If the caller is not `from`, it must be approved to move this token by either [`approve`](#IERC721-approve-address-uint256-) or [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#IERC721-safeTransferFrom-address-address-uint256-)`safeTransferFrom(address from, address to, uint256 tokenId)` external
Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients are aware of the ERC-721 protocol to prevent tokens from being forever locked.
Requirements:
* `from` cannot be the zero address.
 
* `to` cannot be the zero address.
 
* `tokenId` token must exist and be owned by `from`.
 
* If the caller is not `from`, it must have been allowed to move this token by either [`approve`](#IERC721-approve-address-uint256-) or [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#IERC721-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 tokenId)` external
Transfers `tokenId` token from `from` to `to`.
Note that the caller is responsible to confirm that the recipient is capable of receiving ERC-721 or else they may be permanently lost. Usage of [`safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-) prevents loss, though the caller must understand this adds an external call which potentially creates a reentrancy vulnerability.
Requirements:
* `from` cannot be the zero address.
 
* `to` cannot be the zero address.
 
* `tokenId` token must be owned by `from`.
 
* If the caller is not `from`, it must be approved to move this token by either [`approve`](#IERC721-approve-address-uint256-) or [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#IERC721-approve-address-uint256-)`approve(address to, uint256 tokenId)` external
Gives permission to `to` to transfer `tokenId` token to another account. The approval is cleared when the token is transferred.
Only a single account can be approved at a time, so approving the zero address clears previous approvals.
Requirements:
* The caller must own the token or be an approved operator.
 
* `tokenId` must exist.
 
Emits an [`Approval`](#IERC721-Approval-address-address-uint256-) event.
#### [](#IERC721-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` external
Approve or remove `operator` as an operator for the caller. Operators can call [`transferFrom`](#IERC721-transferFrom-address-address-uint256-) or [`safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-) for any token owned by the caller.
Requirements:
* The `operator` cannot be the address zero.
 
Emits an [`ApprovalForAll`](#IERC721-ApprovalForAll-address-address-bool-) event.
#### [](#IERC721-getApproved-uint256-)`getApproved(uint256 tokenId) → address operator` external
Returns the account approved for `tokenId` token.
Requirements:
* `tokenId` must exist.
 
#### [](#IERC721-isApprovedForAll-address-address-)`isApprovedForAll(address owner, address operator) → bool` external
Returns if the `operator` is allowed to manage all of the assets of `owner`.
See [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-)
#### [](#IERC721-Transfer-address-address-uint256-)`Transfer(address indexed from, address indexed to, uint256 indexed tokenId)` event
Emitted when `tokenId` token is transferred from `from` to `to`.
#### [](#IERC721-Approval-address-address-uint256-)`Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)` event
Emitted when `owner` enables `approved` to manage the `tokenId` token.
#### [](#IERC721-ApprovalForAll-address-address-bool-)`ApprovalForAll(address indexed owner, address indexed operator, bool approved)` event
Emitted when `owner` enables or disables (`approved`) `operator` to manage all of its assets.
### [](#IERC721Metadata)`IERC721Metadata`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/IERC721Metadata.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/IERC721Metadata.sol";
Functions
* [`name()`](#IERC721Metadata-name--)
 
* [`symbol()`](#IERC721Metadata-symbol--)
 
* [`tokenURI(tokenId)`](#IERC721Metadata-tokenURI-uint256-)
 
IERC721
* [`balanceOf(owner)`](#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](#IERC721-isApprovedForAll-address-address-)
 
#### [](#IERC721Metadata-name--)`name() → string` external
Returns the token collection name.
#### [](#IERC721Metadata-symbol--)`symbol() → string` external
Returns the token collection symbol.
#### [](#IERC721Metadata-tokenURI-uint256-)`tokenURI(uint256 tokenId) → string` external
Returns the Uniform Resource Identifier (URI) for `tokenId` token.
### [](#IERC721Enumerable)`IERC721Enumerable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/IERC721Enumerable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/IERC721Enumerable.sol";
Functions
* [`totalSupply()`](#IERC721Enumerable-totalSupply--)
 
* [`tokenOfOwnerByIndex(owner, index)`](#IERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)
 
* [`tokenByIndex(index)`](#IERC721Enumerable-tokenByIndex-uint256-)
 
IERC721
* [`balanceOf(owner)`](#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](#IERC721-isApprovedForAll-address-address-)
 
#### [](#IERC721Enumerable-totalSupply--)`totalSupply() → uint256` external
Returns the total amount of tokens stored by the contract.
#### [](#IERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)`tokenOfOwnerByIndex(address owner, uint256 index) → uint256` external
Returns a token ID owned by `owner` at a given `index` of its token list. Use along with [`balanceOf`](#IERC721-balanceOf-address-) to enumerate all of `owner`'s tokens.
#### [](#IERC721Enumerable-tokenByIndex-uint256-)`tokenByIndex(uint256 index) → uint256` external
Returns a token ID at a given `index` of all the tokens stored by the contract. Use along with [`totalSupply`](#IERC721Enumerable-totalSupply--) to enumerate all tokens.
### [](#ERC721)`ERC721`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/ERC721.sol)
 import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
Implementation of [ERC-721](https://eips.ethereum.org/EIPS/eip-721) Non-Fungible Token Standard, including the Metadata extension, but not including the Enumerable extension, which is available separately as [`ERC721Enumerable`](#ERC721Enumerable).
Functions
* [`constructor(name_, symbol_)`](#ERC721-constructor-string-string-)
 
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721-constructor-string-string-)`constructor(string name_, string symbol_)` internal
Initializes the contract by setting a `name` and a `symbol` to the token collection.
#### [](#ERC721-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC721-balanceOf-address-)`balanceOf(address owner) → uint256` public
See [`IERC721.balanceOf`](#IERC721-balanceOf-address-).
#### [](#ERC721-ownerOf-uint256-)`ownerOf(uint256 tokenId) → address` public
See [`IERC721.ownerOf`](#IERC721-ownerOf-uint256-).
#### [](#ERC721-name--)`name() → string` public
See [`IERC721Metadata.name`](#IERC721Metadata-name--).
#### [](#ERC721-symbol--)`symbol() → string` public
See [`IERC721Metadata.symbol`](#IERC721Metadata-symbol--).
#### [](#ERC721-tokenURI-uint256-)`tokenURI(uint256 tokenId) → string` public
See [`IERC721Metadata.tokenURI`](#IERC721Metadata-tokenURI-uint256-).
#### [](#ERC721-_baseURI--)`_baseURI() → string` internal
Base URI for computing [`tokenURI`](#ERC721-tokenURI-uint256-). If set, the resulting URI for each token will be the concatenation of the `baseURI` and the `tokenId`. Empty by default, can be overridden in child contracts.
#### [](#ERC721-approve-address-uint256-)`approve(address to, uint256 tokenId)` public
See [`IERC721.approve`](#IERC721-approve-address-uint256-).
#### [](#ERC721-getApproved-uint256-)`getApproved(uint256 tokenId) → address` public
See [`IERC721.getApproved`](#IERC721-getApproved-uint256-).
#### [](#ERC721-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` public
#### [](#ERC721-isApprovedForAll-address-address-)`isApprovedForAll(address owner, address operator) → bool` public
See [`IERC721.isApprovedForAll`](#IERC721-isApprovedForAll-address-address-).
#### [](#ERC721-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 tokenId)` public
See [`IERC721.transferFrom`](#IERC721-transferFrom-address-address-uint256-).
#### [](#ERC721-safeTransferFrom-address-address-uint256-)`safeTransferFrom(address from, address to, uint256 tokenId)` public
See [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-).
#### [](#ERC721-safeTransferFrom-address-address-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 tokenId, bytes data)` public
See [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-).
#### [](#ERC721-_ownerOf-uint256-)`_ownerOf(uint256 tokenId) → address` internal
Returns the owner of the `tokenId`. Does NOT revert if token doesn’t exist
Any overrides to this function that add ownership of tokens not tracked by the core ERC-721 logic MUST be matched with the use of [`_increaseBalance`](#ERC721-_increaseBalance-address-uint128-) to keep balances consistent with ownership. The invariant to preserve is that for any address `a` the value returned by `balanceOf(a)` must be equal to the number of tokens such that `_ownerOf(tokenId)` is `a`.
#### [](#ERC721-_getApproved-uint256-)`_getApproved(uint256 tokenId) → address` internal
Returns the approved address for `tokenId`. Returns 0 if `tokenId` is not minted.
Returns whether `spender` is allowed to manage ``owner’s tokens, or `tokenId`` in particular (ignoring whether it is owned by `owner`).
This function assumes that `owner` is the actual owner of `tokenId` and does not verify this assumption.
#### [](#ERC721-_checkAuthorized-address-address-uint256-)`_checkAuthorized(address owner, address spender, uint256 tokenId)` internal
Checks if `spender` can operate on `tokenId`, assuming the provided `owner` is the actual owner. Reverts if: - `spender` does not have approval from `owner` for `tokenId`. - `spender` does not have approval to manage all of \`owner’s assets.
This function assumes that `owner` is the actual owner of `tokenId` and does not verify this assumption.
#### [](#ERC721-_increaseBalance-address-uint128-)`_increaseBalance(address account, uint128 value)` internal
Unsafe write access to the balances, used by extensions that "mint" tokens using an [`ownerOf`](#ERC721-ownerOf-uint256-) override.
the value is limited to type(uint128).max. This protect against \_balance overflow. It is unrealistic that a uint256 would ever overflow from increments when these increments are bounded to uint128 values.
Increasing an account’s balance using this function tends to be paired with an override of the [`_ownerOf`](#ERC721-_ownerOf-uint256-) function to resolve the ownership of the corresponding tokens so that balances and ownership remain consistent with one another.
#### [](#ERC721-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
Transfers `tokenId` from its current owner to `to`, or alternatively mints (or burns) if the current owner (or `to`) is the zero address. Returns the owner of the `tokenId` before the update.
The `auth` argument is optional. If the value passed is non 0, then this function will check that `auth` is either the owner of the token, or approved to operate on the token (by the owner).
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
If overriding this function in a way that tracks balances, see also [`_increaseBalance`](#ERC721-_increaseBalance-address-uint128-).
#### [](#ERC721-_mint-address-uint256-)`_mint(address to, uint256 tokenId)` internal
Mints `tokenId` and transfers it to `to`.
Usage of this method is discouraged, use [`_safeMint`](#ERC721-_safeMint-address-uint256-bytes-) whenever possible
Requirements:
* `tokenId` must not exist.
 
* `to` cannot be the zero address.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeMint-address-uint256-)`_safeMint(address to, uint256 tokenId)` internal
Mints `tokenId`, transfers it to `to` and checks for `to` acceptance.
Requirements:
* `tokenId` must not exist.
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeMint-address-uint256-bytes-)`_safeMint(address to, uint256 tokenId, bytes data)` internal
Same as [`_safeMint`](#ERC721-_safeMint-address-uint256-), with an additional `data` parameter which is forwarded in [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) to contract recipients.
#### [](#ERC721-_burn-uint256-)`_burn(uint256 tokenId)` internal
Destroys `tokenId`. The approval is cleared when the token is burned. This is an internal function that does not check if the sender is authorized to operate on the token.
Requirements:
* `tokenId` must exist.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_transfer-address-address-uint256-)`_transfer(address from, address to, uint256 tokenId)` internal
Transfers `tokenId` from `from` to `to`. As opposed to [`transferFrom`](#ERC721-transferFrom-address-address-uint256-), this imposes no restrictions on msg.sender.
Requirements:
* `to` cannot be the zero address.
 
* `tokenId` token must be owned by `from`.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeTransfer-address-address-uint256-)`_safeTransfer(address from, address to, uint256 tokenId)` internal
Safely transfers `tokenId` token from `from` to `to`, checking that contract recipients are aware of the ERC-721 standard to prevent tokens from being forever locked.
`data` is additional data, it has no specified format and it is sent in call to `to`.
This internal function is like [`safeTransferFrom`](#ERC721-safeTransferFrom-address-address-uint256-bytes-) in the sense that it invokes [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) on the receiver, and can be used to e.g. implement alternative mechanisms to perform token transfer, such as signature-based.
Requirements:
* `tokenId` token must exist and be owned by `from`.
 
* `to` cannot be the zero address.
 
* `from` cannot be the zero address.
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeTransfer-address-address-uint256-bytes-)`_safeTransfer(address from, address to, uint256 tokenId, bytes data)` internal
Same as [`_safeTransfer`](#ERC721-_safeTransfer-address-address-uint256-), with an additional `data` parameter which is forwarded in [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) to contract recipients.
#### [](#ERC721-_approve-address-uint256-address-)`_approve(address to, uint256 tokenId, address auth)` internal
Approve `to` to operate on `tokenId`
The `auth` argument is optional. If the value passed is non 0, then this function will check that `auth` is either the owner of the token, or approved to operate on all tokens held by this owner.
Emits an [`Approval`](#IERC721-Approval-address-address-uint256-) event.
Overrides to this logic should be done to the variant with an additional `bool emitEvent` argument.
#### [](#ERC721-_approve-address-uint256-address-bool-)`_approve(address to, uint256 tokenId, address auth, bool emitEvent)` internal
Variant of `_approve` with an optional flag to enable or disable the [`Approval`](#IERC721-Approval-address-address-uint256-) event. The event is not emitted in the context of transfers.
#### [](#ERC721-_setApprovalForAll-address-address-bool-)`_setApprovalForAll(address owner, address operator, bool approved)` internal
Approve `operator` to operate on all of `owner` tokens
Requirements: - operator can’t be the address zero.
Emits an [`ApprovalForAll`](#IERC721-ApprovalForAll-address-address-bool-) event.
#### [](#ERC721-_requireOwned-uint256-)`_requireOwned(uint256 tokenId) → address` internal
Reverts if the `tokenId` doesn’t have a current owner (it hasn’t been minted, or it has been burned). Returns the owner.
Overrides to ownership logic should be done to [`_ownerOf`](#ERC721-_ownerOf-uint256-).
### [](#ERC721Enumerable)`ERC721Enumerable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Enumerable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";
This implements an optional extension of [`ERC721`](#ERC721) defined in the ERC that adds enumerability of all the token ids in the contract as well as all token ids owned by each account.
[`ERC721`](#ERC721) extensions that implement custom `balanceOf` logic, such as [`ERC721Consecutive`](#ERC721Consecutive), interfere with enumerability and should not be used together with [`ERC721Enumerable`](#ERC721Enumerable).
Functions
* [`supportsInterface(interfaceId)`](#ERC721Enumerable-supportsInterface-bytes4-)
 
* [`tokenOfOwnerByIndex(owner, index)`](#ERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)
 
* [`totalSupply()`](#ERC721Enumerable-totalSupply--)
 
* [`tokenByIndex(index)`](#ERC721Enumerable-tokenByIndex-uint256-)
 
* [`_update(to, tokenId, auth)`](#ERC721Enumerable-_update-address-uint256-address-)
 
* [`_increaseBalance(account, amount)`](#ERC721Enumerable-_increaseBalance-address-uint128-)
 
ERC721
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Enumerable-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)`tokenOfOwnerByIndex(address owner, uint256 index) → uint256` public
#### [](#ERC721Enumerable-totalSupply--)`totalSupply() → uint256` public
#### [](#ERC721Enumerable-tokenByIndex-uint256-)`tokenByIndex(uint256 index) → uint256` public
#### [](#ERC721Enumerable-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-).
#### [](#ERC721Enumerable-_increaseBalance-address-uint128-)`_increaseBalance(address account, uint128 amount)` internal
#### [](#ERC721Enumerable-ERC721OutOfBoundsIndex-address-uint256-)`ERC721OutOfBoundsIndex(address owner, uint256 index)` error
An ``owner’s token query was out of bounds for `index``.
The owner being `address(0)` indicates a global out of bounds index.
#### [](#ERC721Enumerable-ERC721EnumerableForbiddenBatchMint--)`ERC721EnumerableForbiddenBatchMint()` error
Batch mint is not allowed.
### [](#IERC721Receiver)`IERC721Receiver`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/IERC721Receiver.sol)
 import "@openzeppelin/contracts/token/ERC721/IERC721Receiver.sol";
Interface for any contract that wants to support safeTransfers from ERC-721 asset contracts.
#### [](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-)`onERC721Received(address operator, address from, uint256 tokenId, bytes data) → bytes4` external
Whenever an [`IERC721`](#IERC721) `tokenId` token is transferred to this contract via [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-) by `operator` from `from`, this function is called.
It must return its Solidity selector to confirm the token transfer. If any other value is returned or the interface is not implemented by the recipient, the transfer will be reverted.
The selector can be obtained in Solidity with `IERC721Receiver.onERC721Received.selector`.
## [](#extensions)Extensions
### [](#ERC721Pausable)`ERC721Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Pausable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Pausable.sol";
ERC-721 token with pausable token transfers, minting and burning.
Useful for scenarios such as preventing trades until the end of an evaluation period, or having an emergency switch for freezing all token transfers in the event of a large bug.
This contract does not include public pause and unpause functions. In addition to inheriting this contract, you must define both functions, invoking the [`Pausable._pause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_pause--) and [`Pausable._unpause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_unpause--) internal functions, with appropriate access control, e.g. using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) or [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable). Not doing so will make the contract pause mechanism of the contract unreachable, and thus unusable.
Functions
* [`_update(to, tokenId, auth)`](#ERC721Pausable-_update-address-uint256-address-)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Pausable-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-).
Requirements:
* the contract must not be paused.
 
### [](#ERC721Burnable)`ERC721Burnable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Burnable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Burnable.sol";
ERC-721 Token that can be burned (destroyed).
Functions
* [`burn(tokenId)`](#ERC721Burnable-burn-uint256-)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Burnable-burn-uint256-)`burn(uint256 tokenId)` public
Burns `tokenId`. See [`ERC721._burn`](#ERC721-_burn-uint256-).
Requirements:
* The caller must own `tokenId` or be an approved operator.
 
### [](#ERC721Consecutive)`ERC721Consecutive`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Consecutive.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Consecutive.sol";
Implementation of the ERC-2309 "Consecutive Transfer Extension" as defined in [ERC-2309](https://eips.ethereum.org/EIPS/eip-2309).
This extension allows the minting of large batches of tokens, during contract construction only. For upgradeable contracts this implies that batch minting is only available during proxy deployment, and not in subsequent upgrades. These batches are limited to 5000 tokens at a time by default to accommodate off-chain indexers.
Using this extension removes the ability to mint single tokens during contract construction. This ability is regained after construction. During construction, only batch minting is allowed.
This extension does not call the [`_update`](#ERC721Consecutive-_update-address-uint256-address-) function for tokens minted in batch. Any logic added to this function through overrides will not be triggered when token are minted in batch. You may want to also override [`_increaseBalance`](#ERC721Enumerable-_increaseBalance-address-uint128-) or [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-) to account for these mints.
When overriding [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-), be careful about call ordering. [`ownerOf`](#ERC721-ownerOf-uint256-) may return invalid values during the [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-) execution if the super call is not called first. To be safe, execute the super call before your custom logic.
Functions
* [`_maxBatchSize()`](#ERC721Consecutive-_maxBatchSize--)
 
* [`_ownerOf(tokenId)`](#ERC721Consecutive-_ownerOf-uint256-)
 
* [`_mintConsecutive(to, batchSize)`](#ERC721Consecutive-_mintConsecutive-address-uint96-)
 
* [`_update(to, tokenId, auth)`](#ERC721Consecutive-_update-address-uint256-address-)
 
* [`_firstConsecutiveId()`](#ERC721Consecutive-_firstConsecutiveId--)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Consecutive-_maxBatchSize--)`_maxBatchSize() → uint96` internal
Maximum size of a batch of consecutive tokens. This is designed to limit stress on off-chain indexing services that have to record one entry per token, and have protections against "unreasonably large" batches of tokens.
Overriding the default value of 5000 will not cause on-chain issues, but may result in the asset not being correctly supported by off-chain indexing services (including marketplaces).
#### [](#ERC721Consecutive-_ownerOf-uint256-)`_ownerOf(uint256 tokenId) → address` internal
See [`ERC721._ownerOf`](#ERC721-_ownerOf-uint256-). Override that checks the sequential ownership structure for tokens that have been minted as part of a batch, and not yet transferred.
#### [](#ERC721Consecutive-_mintConsecutive-address-uint96-)`_mintConsecutive(address to, uint96 batchSize) → uint96` internal
Mint a batch of tokens of length `batchSize` for `to`. Returns the token id of the first token minted in the batch; if `batchSize` is 0, returns the number of consecutive ids minted so far.
Requirements:
* `batchSize` must not be greater than [`_maxBatchSize`](#ERC721Consecutive-_maxBatchSize--).
 
* The function is called in the constructor of the contract (directly or indirectly).
 
Does not emit a `Transfer` event. This is ERC-721 compliant as long as it is done inside of the constructor, which is enforced by this function.
Does not invoke `onERC721Received` on the receiver.
#### [](#ERC721Consecutive-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-). Override version that restricts normal minting to after construction.
Using [`ERC721Consecutive`](#ERC721Consecutive) prevents minting during construction in favor of [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-). After construction, [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-) is no longer available and minting through [`_update`](#ERC721Consecutive-_update-address-uint256-address-) becomes available.
#### [](#ERC721Consecutive-_firstConsecutiveId--)`_firstConsecutiveId() → uint96` internal
Used to offset the first token id in `_nextConsecutiveId`
#### [](#ERC721Consecutive-ERC721ForbiddenBatchMint--)`ERC721ForbiddenBatchMint()` error
Batch mint is restricted to the constructor. Any batch mint not emitting the [`IERC721.Transfer`](#IERC721-Transfer-address-address-uint256-) event outside of the constructor is non ERC-721 compliant.
#### [](#ERC721Consecutive-ERC721ExceededMaxBatchMint-uint256-uint256-)`ERC721ExceededMaxBatchMint(uint256 batchSize, uint256 maxBatch)` error
Exceeds the max amount of mints per batch.
#### [](#ERC721Consecutive-ERC721ForbiddenMint--)`ERC721ForbiddenMint()` error
Individual minting is not allowed.
#### [](#ERC721Consecutive-ERC721ForbiddenBatchBurn--)`ERC721ForbiddenBatchBurn()` error
Batch burn is not supported.
### [](#ERC721URIStorage)`ERC721URIStorage`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721URIStorage.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
ERC-721 token with storage based token URI management.
Functions
* [`supportsInterface(interfaceId)`](#ERC721URIStorage-supportsInterface-bytes4-)
 
* [`tokenURI(tokenId)`](#ERC721URIStorage-tokenURI-uint256-)
 
* [`_setTokenURI(tokenId, _tokenURI)`](#ERC721URIStorage-_setTokenURI-uint256-string-)
 
ERC721
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721URIStorage-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC721URIStorage-tokenURI-uint256-)`tokenURI(uint256 tokenId) → string` public
See [`IERC721Metadata.tokenURI`](#IERC721Metadata-tokenURI-uint256-).
#### [](#ERC721URIStorage-_setTokenURI-uint256-string-)`_setTokenURI(uint256 tokenId, string _tokenURI)` internal
Sets `_tokenURI` as the tokenURI of `tokenId`.
### [](#ERC721Votes)`ERC721Votes`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Votes.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Votes.sol";
Extension of ERC-721 to support voting and delegation as implemented by [`Votes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes), where each individual NFT counts as 1 vote unit.
Tokens do not count as votes until they are delegated, because votes must be tracked which incurs an additional cost on every transfer. Token holders can either delegate to a trusted representative who will decide how to make use of the votes in governance decisions, or they can delegate to themselves to be their own representative.
Functions
* [`_update(to, tokenId, auth)`](#ERC721Votes-_update-address-uint256-address-)
 
* [`_getVotingUnits(account)`](#ERC721Votes-_getVotingUnits-address-)
 
* [`_increaseBalance(account, amount)`](#ERC721Votes-_increaseBalance-address-uint128-)
 
Votes
* [`clock()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-clock--)
 
* [`CLOCK_MODE()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-CLOCK_MODE--)
 
* [`_validateTimepoint(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_validateTimepoint-uint256-)
 
* [`getVotes(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getVotes-address-)
 
* [`getPastVotes(account, timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastVotes-address-uint256-)
 
* [`getPastTotalSupply(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastTotalSupply-uint256-)
 
* [`_getTotalSupply()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_getTotalSupply--)
 
* [`delegates(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegates-address-)
 
* [`delegate(delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegate-address-)
 
* [`delegateBySig(delegatee, nonce, expiry, v, r, s)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-)
 
* [`_delegate(account, delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_delegate-address-address-)
 
* [`_transferVotingUnits(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_transferVotingUnits-address-address-uint256-)
 
* [`_moveDelegateVotes(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_moveDelegateVotes-address-address-uint256-)
 
* [`_numCheckpoints(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_numCheckpoints-address-)
 
* [`_checkpoints(account, pos)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_checkpoints-address-uint32-)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
Events
IVotes
* [`DelegateChanged(delegator, fromDelegate, toDelegate)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#IVotes-DelegateChanged-address-address-address-)
 
* [`DelegateVotesChanged(delegate, previousVotes, newVotes)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#IVotes-DelegateVotesChanged-address-uint256-uint256-)
 
IERC721
* [`Transfer(from, to, tokenId)`](#IERC721-Transfer-address-address-uint256-)
 
* [`Approval(owner, approved, tokenId)`](#IERC721-Approval-address-address-uint256-)
 
* [`ApprovalForAll(owner, operator, approved)`](#IERC721-ApprovalForAll-address-address-bool-)
 
#### [](#ERC721Votes-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-). Adjusts votes when tokens are transferred.
#### [](#ERC721Votes-_getVotingUnits-address-)`_getVotingUnits(address account) → uint256` internal
Returns the balance of `account`.
Overriding this function will likely result in incorrect vote tracking.
#### [](#ERC721Votes-_increaseBalance-address-uint128-)`_increaseBalance(address account, uint128 amount)` internal
See [`ERC721._increaseBalance`](#ERC721-_increaseBalance-address-uint128-). We need that to account tokens that were minted in batch.
### [](#ERC721Royalty)`ERC721Royalty`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Royalty.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Royalty.sol";
Extension of ERC-721 with the ERC-2981 NFT Royalty Standard, a standardized way to retrieve royalty payment information.
Royalty information can be specified globally for all token ids via [`ERC2981._setDefaultRoyalty`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setDefaultRoyalty-address-uint96-), and/or individually for specific token ids via [`ERC2981._setTokenRoyalty`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setTokenRoyalty-uint256-address-uint96-). The latter takes precedence over the first.
ERC-2981 only specifies a way to signal royalty information and does not enforce its payment. See [Rationale](https://eips.ethereum.org/EIPS/eip-2981#optional-royalty-payments) in the ERC. Marketplaces are expected to voluntarily pay royalties together with sales, but note that this standard is not yet widely supported.
Functions
* [`supportsInterface(interfaceId)`](#ERC721Royalty-supportsInterface-bytes4-)
 
ERC721
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
ERC2981
* [`royaltyInfo(tokenId, salePrice)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-royaltyInfo-uint256-uint256-)
 
* [`_feeDenominator()`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_feeDenominator--)
 
* [`_setDefaultRoyalty(receiver, feeNumerator)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setDefaultRoyalty-address-uint96-)
 
* [`_deleteDefaultRoyalty()`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_deleteDefaultRoyalty--)
 
* [`_setTokenRoyalty(tokenId, receiver, feeNumerator)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setTokenRoyalty-uint256-address-uint96-)
 
* [`_resetTokenRoyalty(tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_resetTokenRoyalty-uint256-)
 
#### [](#ERC721Royalty-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
### [](#ERC721Wrapper)`ERC721Wrapper`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Wrapper.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Wrapper.sol";
Extension of the ERC-721 token contract to support token wrapping.
Users can deposit and withdraw an "underlying token" and receive a "wrapped token" with a matching tokenId. This is useful in conjunction with other modules. For example, combining this wrapping mechanism with [`ERC721Votes`](#ERC721Votes) will allow the wrapping of an existing "basic" ERC-721 into a governance token.
Functions
* [`constructor(underlyingToken)`](#ERC721Wrapper-constructor-contract-IERC721-)
 
* [`depositFor(account, tokenIds)`](#ERC721Wrapper-depositFor-address-uint256---)
 
* [`withdrawTo(account, tokenIds)`](#ERC721Wrapper-withdrawTo-address-uint256---)
 
* [`onERC721Received(, from, tokenId, )`](#ERC721Wrapper-onERC721Received-address-address-uint256-bytes-)
 
* [`_recover(account, tokenId)`](#ERC721Wrapper-_recover-address-uint256-)
 
* [`underlying()`](#ERC721Wrapper-underlying--)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Wrapper-constructor-contract-IERC721-)`constructor(contract IERC721 underlyingToken)` internal
#### [](#ERC721Wrapper-depositFor-address-uint256---)`depositFor(address account, uint256[] tokenIds) → bool` public
Allow a user to deposit underlying tokens and mint the corresponding tokenIds.
#### [](#ERC721Wrapper-withdrawTo-address-uint256---)`withdrawTo(address account, uint256[] tokenIds) → bool` public
Allow a user to burn wrapped tokens and withdraw the corresponding tokenIds of the underlying tokens.
#### [](#ERC721Wrapper-onERC721Received-address-address-uint256-bytes-)`onERC721Received(address, address from, uint256 tokenId, bytes) → bytes4` public
Overrides [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) to allow minting on direct ERC-721 transfers to this contract.
In case there’s data attached, it validates that the operator is this contract, so only trusted data is accepted from [`depositFor`](#ERC721Wrapper-depositFor-address-uint256---).
Doesn’t work with unsafe transfers (eg. [`IERC721.transferFrom`](#IERC721-transferFrom-address-address-uint256-)). Use [`ERC721Wrapper._recover`](#ERC721Wrapper-_recover-address-uint256-) for recovering in that scenario.
#### [](#ERC721Wrapper-_recover-address-uint256-)`_recover(address account, uint256 tokenId) → uint256` internal
Mint a wrapped token to cover any underlyingToken that would have been transferred by mistake. Internal function that can be exposed with access control if desired.
#### [](#ERC721Wrapper-underlying--)`underlying() → contract IERC721` public
Returns the underlying token.
#### [](#ERC721Wrapper-ERC721UnsupportedToken-address-)`ERC721UnsupportedToken(address token)` error
The received ERC-721 token couldn’t be wrapped.
## [](#utilities)Utilities
### [](#ERC721Holder)`ERC721Holder`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/utils/ERC721Holder.sol)
 import "@openzeppelin/contracts/token/ERC721/utils/ERC721Holder.sol";
Implementation of the [`IERC721Receiver`](#IERC721Receiver) interface.
Accepts all token transfers. Make sure the contract is able to use its token with [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-), [`IERC721.approve`](#IERC721-approve-address-uint256-) or [`IERC721.setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
#### [](#ERC721Holder-onERC721Received-address-address-uint256-bytes-)`onERC721Received(address, address, uint256, bytes) → bytes4` public
Always returns `IERC721Receiver.onERC721Received.selector`.
### [](#ERC721Utils)`ERC721Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/utils/ERC721Utils.sol)
 import "@openzeppelin/contracts/token/ERC721/utils/ERC721Utils.sol";
Library that provide common ERC-721 utility functions.
_Available since v5.1._
#### [](#ERC721Utils-checkOnERC721Received-address-address-address-uint256-bytes-)`checkOnERC721Received(address operator, address from, address to, uint256 tokenId, bytes data)` internal
Performs an acceptance check for the provided `operator` by calling [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) on the `to` address. The `operator` is generally the address that initiated the token transfer (i.e. `msg.sender`).
The acceptance call is not executed and treated as a no-op if the target address doesn’t contain code (i.e. an EOA). Otherwise, the recipient must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) and return the acceptance magic value to accept the transfer.

# [Utilities - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/utilities) 
 _https://docs.openzeppelin.com/contracts/5.x/utilities_

### [](#packing)Packing
The storage in the EVM is shaped in chunks of 32 bytes, each of this chunks is known as a _slot_, and can hold multiple values together as long as these values don’t exceed its size. These properties of the storage allow for a technique known as _packing_, that consists of placing values together on a single storage slot to reduce the costs associated to reading and writing to multiple slots instead of just one.
Commonly, developers pack values using structs that place values together so they fit better in storage. However, this approach requires to load such struct from either calldata or memory. Although sometimes necessary, it may be useful to pack values in a single slot and treat it as a packed value without involving calldata or memory.
The [`Packing`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Packing) library is a set of utilities for packing values that fit in 32 bytes. The library includes 3 main functionalities:
* Packing 2 `bytesXX` values
 
* Extracting a packed `bytesXX` value from a `bytesYY`
 
* Replacing a packed `bytesXX` value from a `bytesYY`
 
With these primitives, one can build custom functions to create custom packed types. For example, suppose you need to pack an `address` of 20 bytes with a `bytes4` selector and an `uint64` time period:
 function _pack(address account, bytes4 selector, uint64 period) external pure returns (bytes32) {
 bytes12 subpack = Packing.pack_4_8(selector, bytes8(period));
 return Packing.pack_20_12(bytes20(account), subpack);
 }
 
 function _unpack(bytes32 pack) external pure returns (address, bytes4, uint64) {
 return (
 address(Packing.extract_32_20(pack, 0)),
 Packing.extract_32_4(pack, 20),
 uint64(Packing.extract_32_8(pack, 24))
 );
 }
### [](#storage_slots)Storage Slots
Solidity allocates a storage pointer for each variable declared in a contract. However, there are cases when it’s required to access storage pointers that can’t be derived by using regular Solidity. For those cases, the [`StorageSlot`](https://docs.openzeppelin.com/contracts/5.x/api/utils#StorageSlot) library allows for manipulating storage slots directly.
 bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;
 
 function _getImplementation() internal view returns (address) {
 return StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value;
 }
 
 function _setImplementation(address newImplementation) internal {
 require(newImplementation.code.length > 0);
 StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value = newImplementation;
 }
The [`TransientSlot`](https://docs.openzeppelin.com/contracts/5.x/api/utils#TransientSlot) library supports transient storage through user defined value types ([UDVTs](https://docs.soliditylang.org/en/latest/types.html#user-defined-value-types)), which enables the same value types as in Solidity.
 bytes32 internal constant _LOCK_SLOT = 0xf4678858b2b588224636b8522b729e7722d32fc491da849ed75b3fdf3c84f542;
 
 function _getTransientLock() internal view returns (bool) {
 return _LOCK_SLOT.asBoolean().tload();
 }
 
 function _setTransientLock(bool lock) internal {
 _LOCK_SLOT.asBoolean().tstore(lock);
 }
Manipulating storage slots directly is an advanced practice. Developers MUST make sure that the storage pointer is not colliding with other variables.
One of the most common use cases for writing directly to storage slots is ERC-7201 for namespaced storage, which is guaranteed to not collide with other storage slots derived by Solidity.
Users can leverage this standard using the [`SlotDerivation`](https://docs.openzeppelin.com/contracts/5.x/api/utils#SlotDerivation) library.
 using SlotDerivation for bytes32;
 string private constant _NAMESPACE = "<namespace>" // eg. example.main
 
 function erc7201Pointer() internal view returns (bytes32) {
 return _NAMESPACE.erc7201Slot();
 }
### [](#base64)Base64
[`Base64`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Base64) util allows you to transform `bytes32` data into its Base64 `string` representation.
This is especially useful for building URL-safe tokenURIs for both [`ERC-721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721Metadata-tokenURI-uint256-) or [`ERC-1155`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155MetadataURI-uri-uint256-). This library provides a clever way to serve URL-safe [Data URI](https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URIs/) compliant strings to serve on-chain data structures.
Here is an example to send JSON Metadata through a Base64 Data URI using an ERC-721:
 // SPDX-License-Identifier: MIT
 
 pragma solidity ^0.8.20;
 
 import {ERC721} from "@openzeppelin/contracts/token/ERC721/ERC721.sol";
 import {Strings} from "@openzeppelin/contracts/utils/Strings.sol";
 import {Base64} from "@openzeppelin/contracts/utils/Base64.sol";
 
 contract Base64NFT is ERC721 {
 using Strings for uint256;
 
 constructor() ERC721("Base64NFT", "MTK") {}
 
 // ...
 
 function tokenURI(uint256 tokenId) public pure override returns (string memory) {
 // Equivalent to:
 // {
 // "name": "Base64NFT #1",
 // // Replace with extra ERC-721 Metadata properties
 // }
 // prettier-ignore
 string memory dataURI = string.concat("{\"name\": \"Base64NFT #", tokenId.toString(), "\"}");
 
 return string.concat("data:application/json;base64,", Base64.encode(bytes(dataURI)));
 }
 }
### [](#multicall)Multicall
The `Multicall` abstract contract comes with a `multicall` function that bundles together multiple calls in a single external call. With it, external accounts may perform atomic operations comprising several function calls. This is not only useful for EOAs to make multiple calls in a single transaction, it’s also a way to revert a previous call if a later one fails.
Consider this dummy contract:
 // contracts/Box.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {Multicall} from "@openzeppelin/contracts/utils/Multicall.sol";
 
 contract Box is Multicall {
 function foo() public {
 // ...
 }
 
 function bar() public {
 // ...
 }
 }
This is how to call the `multicall` function using Ethers.js, allowing `foo` and `bar` to be called in a single transaction:
 // scripts/foobar.js
 
 const instance = await ethers.deployContract("Box");
 
 await instance.multicall([
 instance.interface.encodeFunctionData("foo"),
 instance.interface.encodeFunctionData("bar")
 ]);

# [Finance - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/finance) 
 _https://docs.openzeppelin.com/contracts/5.x/api/finance_

### [](#VestingWallet)`VestingWallet`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/finance/VestingWallet.sol)
 import "@openzeppelin/contracts/finance/VestingWallet.sol";
A vesting wallet is an ownable contract that can receive native currency and ERC-20 tokens, and release these assets to the wallet owner, also referred to as "beneficiary", according to a vesting schedule.
Any assets transferred to this contract will follow the vesting schedule as if they were locked from the beginning. Consequently, if the vesting has already started, any amount of tokens sent to this contract will (at least partly) be immediately releasable.
By setting the duration to 0, one can configure this contract to behave like an asset timelock that holds tokens for a beneficiary until a specified time.
Since the wallet is [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable), and ownership can be transferred, it is possible to sell unvested tokens. Preventing this in a smart contract is difficult, considering that: 1) a beneficiary address could be a counterfactually deployed contract, 2) there is likely to be a migration path for EOAs to become contracts in the near future.
When using this contract with any token whose balance is adjusted automatically (i.e. a rebase token), make sure to account the supply/balance adjustment in the vesting schedule to ensure the vested amount is as intended.
Chains with support for native ERC20s may allow the vesting wallet to withdraw the underlying asset as both an ERC20 and as native currency. For example, if chain C supports token A and the wallet gets deposited 100 A, then at 50% of the vesting period, the beneficiary can withdraw 50 A as ERC20 and 25 A as native currency (totaling 75 A). Consider disabling one of the withdrawal methods.
Functions
* [`constructor(beneficiary, startTimestamp, durationSeconds)`](#VestingWallet-constructor-address-uint64-uint64-)
 
* [`receive()`](#VestingWallet-receive--)
 
* [`start()`](#VestingWallet-start--)
 
* [`duration()`](#VestingWallet-duration--)
 
* [`end()`](#VestingWallet-end--)
 
* [`released()`](#VestingWallet-released--)
 
* [`released(token)`](#VestingWallet-released-address-)
 
* [`releasable()`](#VestingWallet-releasable--)
 
* [`releasable(token)`](#VestingWallet-releasable-address-)
 
* [`release()`](#VestingWallet-release--)
 
* [`release(token)`](#VestingWallet-release-address-)
 
* [`vestedAmount(timestamp)`](#VestingWallet-vestedAmount-uint64-)
 
* [`vestedAmount(token, timestamp)`](#VestingWallet-vestedAmount-address-uint64-)
 
* [`_vestingSchedule(totalAllocation, timestamp)`](#VestingWallet-_vestingSchedule-uint256-uint64-)
 
Ownable
* [`owner()`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-owner--)
 
* [`_checkOwner()`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-_checkOwner--)
 
* [`renounceOwnership()`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-renounceOwnership--)
 
* [`transferOwnership(newOwner)`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-transferOwnership-address-)
 
* [`_transferOwnership(newOwner)`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-_transferOwnership-address-)
 
#### [](#VestingWallet-constructor-address-uint64-uint64-)`constructor(address beneficiary, uint64 startTimestamp, uint64 durationSeconds)` public
Sets the beneficiary (owner), the start timestamp and the vesting duration (in seconds) of the vesting wallet.
#### [](#VestingWallet-receive--)`receive()` external
The contract should be able to receive Eth.
#### [](#VestingWallet-start--)`start() → uint256` public
Getter for the start timestamp.
#### [](#VestingWallet-duration--)`duration() → uint256` public
Getter for the vesting duration.
#### [](#VestingWallet-end--)`end() → uint256` public
Getter for the end timestamp.
#### [](#VestingWallet-released--)`released() → uint256` public
Amount of eth already released
#### [](#VestingWallet-released-address-)`released(address token) → uint256` public
Amount of token already released
#### [](#VestingWallet-releasable--)`releasable() → uint256` public
Getter for the amount of releasable eth.
#### [](#VestingWallet-releasable-address-)`releasable(address token) → uint256` public
Getter for the amount of releasable `token` tokens. `token` should be the address of an [`IERC20`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20) contract.
#### [](#VestingWallet-release--)`release()` public
Release the native token (ether) that have already vested.
Emits a [`EtherReleased`](#VestingWallet-EtherReleased-uint256-) event.
#### [](#VestingWallet-release-address-)`release(address token)` public
Release the tokens that have already vested.
Emits a [`ERC20Released`](#VestingWallet-ERC20Released-address-uint256-) event.
#### [](#VestingWallet-vestedAmount-uint64-)`vestedAmount(uint64 timestamp) → uint256` public
Calculates the amount of ether that has already vested. Default implementation is a linear vesting curve.
#### [](#VestingWallet-vestedAmount-address-uint64-)`vestedAmount(address token, uint64 timestamp) → uint256` public
Calculates the amount of tokens that has already vested. Default implementation is a linear vesting curve.
#### [](#VestingWallet-_vestingSchedule-uint256-uint64-)`_vestingSchedule(uint256 totalAllocation, uint64 timestamp) → uint256` internal
Virtual implementation of the vesting formula. This returns the amount vested, as a function of time, for an asset given its total historical allocation.
#### [](#VestingWallet-EtherReleased-uint256-)`EtherReleased(uint256 amount)` event
#### [](#VestingWallet-ERC20Released-address-uint256-)`ERC20Released(address indexed token, uint256 amount)` event

# [Tokens - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/tokens) 
 _https://docs.openzeppelin.com/contracts/5.x/tokens_

Ah, the "token": blockchain’s most powerful and most misunderstood tool.
A token is a _representation of something in the blockchain_. This something can be money, time, services, shares in a company, a virtual pet, anything. By representing things as tokens, we can allow smart contracts to interact with them, exchange them, create or destroy them.
## [](#but_first_coffee_a_primer_on_token_contracts)But First, Coffee a Primer on Token Contracts
Much of the confusion surrounding tokens comes from two concepts getting mixed up: _token contracts_ and the actual _tokens_.
A _token contract_ is simply an Ethereum smart contract. "Sending tokens" actually means "calling a method on a smart contract that someone wrote and deployed". At the end of the day, a token contract is not much more than a mapping of addresses to balances, plus some methods to add and subtract from those balances.
It is these balances that represent the _tokens_ themselves. Someone "has tokens" when their balance in the token contract is non-zero. That’s it! These balances could be considered money, experience points in a game, deeds of ownership, or voting rights, and each of these tokens would be stored in different token contracts.
## [](#different-kinds-of-tokens)Different Kinds of Tokens
Note that there’s a big difference between having two voting rights and two deeds of ownership: each vote is equal to all others, but houses usually are not! This is called [fungibility](https://en.wikipedia.org/wiki/Fungibility). _Fungible goods_ are equivalent and interchangeable, like Ether, fiat currencies, and voting rights. _Non-fungible_ goods are unique and distinct, like deeds of ownership, or collectibles.
In a nutshell, when dealing with non-fungibles (like your house) you care about _which ones_ you have, while in fungible assets (like your bank account statement) what matters is _how much_ you have.
## [](#standards)Standards
Even though the concept of a token is simple, they have a variety of complexities in the implementation. Because everything in Ethereum is just a smart contract, and there are no rules about what smart contracts have to do, the community has developed a variety of **standards** (called EIPs or ERCs) for documenting how a contract can interoperate with other contracts.
You’ve probably heard of the ERC-20 or ERC-721 token standards, and that’s why you’re here. Head to our specialized guides to learn more about these:
* [ERC-20](https://docs.openzeppelin.com/contracts/5.x/erc20): the most widespread token standard for fungible assets, albeit somewhat limited by its simplicity.
 
* [ERC-721](https://docs.openzeppelin.com/contracts/5.x/erc721): the de-facto solution for non-fungible tokens, often used for collectibles and games.
 
* [ERC-1155](https://docs.openzeppelin.com/contracts/5.x/erc1155): a novel standard for multi-tokens, allowing for a single contract to represent multiple fungible and non-fungible tokens, along with batched operations for increased gas efficiency.

# [ERC-1155 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/erc1155) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/erc1155_

The ERC consists of three interfaces which fulfill different roles, found here as [`IERC1155`](#IERC1155), [`IERC1155MetadataURI`](#IERC1155MetadataURI) and [`IERC1155Receiver`](#IERC1155Receiver).
[`ERC1155`](#ERC1155) implements the mandatory [`IERC1155`](#IERC1155) interface, as well as the optional extension [`IERC1155MetadataURI`](#IERC1155MetadataURI), by relying on the substitution mechanism to use the same URI for all token types, dramatically reducing gas costs.
Additionally there are multiple custom extensions, including:
* designation of addresses that can pause token transfers for all users ([`ERC1155Pausable`](#ERC1155Pausable)).
 
* destruction of own tokens ([`ERC1155Burnable`](#ERC1155Burnable)).
 
This core set of contracts is designed to be unopinionated, allowing developers to access the internal functions in ERC-1155 (such as [`_mint`](#ERC1155-_mint-address-uint256-uint256-bytes-)) and expose them as external functions in the way they prefer.
## [](#core)Core
### [](#IERC1155)`IERC1155`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/IERC1155.sol)
 import "@openzeppelin/contracts/token/ERC1155/IERC1155.sol";
Required interface of an ERC-1155 compliant contract, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-1155).
Functions
* [`balanceOf(account, id)`](#IERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#IERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#IERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#IERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
Events
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#IERC1155-balanceOf-address-uint256-)`balanceOf(address account, uint256 id) → uint256` external
Returns the value of tokens of token type `id` owned by `account`.
#### [](#IERC1155-balanceOfBatch-address---uint256---)`balanceOfBatch(address[] accounts, uint256[] ids) → uint256[]` external
Requirements:
* `accounts` and `ids` must have the same length.
 
#### [](#IERC1155-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` external
Grants or revokes permission to `operator` to transfer the caller’s tokens, according to `approved`,
Emits an [`ApprovalForAll`](#IERC1155-ApprovalForAll-address-address-bool-) event.
Requirements:
* `operator` cannot be the zero address.
 
#### [](#IERC1155-isApprovedForAll-address-address-)`isApprovedForAll(address account, address operator) → bool` external
Returns true if `operator` is approved to transfer `account`'s tokens.
See [`setApprovalForAll`](#IERC1155-setApprovalForAll-address-bool-).
#### [](#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)` external
Transfers a `value` amount of tokens of type `id` from `from` to `to`.
This function can potentially allow a reentrancy attack when transferring tokens to an untrusted contract, when invoking [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) on the receiver. Ensure to follow the checks-effects-interactions pattern and consider employing reentrancy guards when interacting with untrusted contracts.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `to` cannot be the zero address.
 
* If the caller is not `from`, it must have been approved to spend `from`'s tokens via [`setApprovalForAll`](#IERC1155-setApprovalForAll-address-bool-).
 
* `from` must have a balance of tokens of type `id` of at least `value` amount.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value.
 
#### [](#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)`safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)` external
This function can potentially allow a reentrancy attack when transferring tokens to an untrusted contract, when invoking [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) on the receiver. Ensure to follow the checks-effects-interactions pattern and consider employing reentrancy guards when interacting with untrusted contracts.
Emits either a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) or a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event, depending on the length of the array arguments.
Requirements:
* `ids` and `values` must have the same length.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
#### [](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)`TransferSingle(address indexed operator, address indexed from, address indexed to, uint256 id, uint256 value)` event
Emitted when `value` amount of tokens of type `id` are transferred from `from` to `to` by `operator`.
#### [](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)`TransferBatch(address indexed operator, address indexed from, address indexed to, uint256[] ids, uint256[] values)` event
Equivalent to multiple [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) events, where `operator`, `from` and `to` are the same for all transfers.
#### [](#IERC1155-ApprovalForAll-address-address-bool-)`ApprovalForAll(address indexed account, address indexed operator, bool approved)` event
Emitted when `account` grants or revokes permission to `operator` to transfer their tokens, according to `approved`.
#### [](#IERC1155-URI-string-uint256-)`URI(string value, uint256 indexed id)` event
Emitted when the URI for token type `id` changes to `value`, if it is a non-programmatic URI.
If an [`URI`](#IERC1155-URI-string-uint256-) event was emitted for `id`, the standard [guarantees](https://eips.ethereum.org/EIPS/eip-1155#metadata-extensions) that `value` will equal the value returned by [`IERC1155MetadataURI.uri`](#IERC1155MetadataURI-uri-uint256-).
### [](#IERC1155MetadataURI)`IERC1155MetadataURI`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/IERC1155MetadataURI.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/IERC1155MetadataURI.sol";
Interface of the optional ERC1155MetadataExtension interface, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-1155#metadata-extensions).
Functions
* [`uri(id)`](#IERC1155MetadataURI-uri-uint256-)
 
IERC1155
* [`balanceOf(account, id)`](#IERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#IERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#IERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#IERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#IERC1155MetadataURI-uri-uint256-)`uri(uint256 id) → string` external
Returns the URI for token type `id`.
If the `{id}` substring is present in the URI, it must be replaced by clients with the actual token type ID.
### [](#ERC1155)`ERC1155`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/ERC1155.sol)
 import "@openzeppelin/contracts/token/ERC1155/ERC1155.sol";
Functions
* [`constructor(uri_)`](#ERC1155-constructor-string-)
 
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_update(from, to, ids, values)`](#ERC1155-_update-address-address-uint256---uint256---)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155-constructor-string-)`constructor(string uri_)` internal
See [`_setURI`](#ERC1155-_setURI-string-).
#### [](#ERC1155-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC1155-uri-uint256-)`uri(uint256) → string` public
See [`IERC1155MetadataURI.uri`](#IERC1155MetadataURI-uri-uint256-).
This implementation returns the same URI for **all** token types. It relies on the token type ID substitution mechanism [defined in the ERC](https://eips.ethereum.org/EIPS/eip-1155#metadata).
Clients calling this function must replace the `{id}` substring with the actual token type ID.
#### [](#ERC1155-balanceOf-address-uint256-)`balanceOf(address account, uint256 id) → uint256` public
See [`IERC1155.balanceOf`](#IERC1155-balanceOf-address-uint256-).
#### [](#ERC1155-balanceOfBatch-address---uint256---)`balanceOfBatch(address[] accounts, uint256[] ids) → uint256[]` public
See [`IERC1155.balanceOfBatch`](#IERC1155-balanceOfBatch-address---uint256---).
Requirements:
* `accounts` and `ids` must have the same length.
 
#### [](#ERC1155-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` public
#### [](#ERC1155-isApprovedForAll-address-address-)`isApprovedForAll(address account, address operator) → bool` public
#### [](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)` public
#### [](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)`safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)` public
#### [](#ERC1155-_update-address-address-uint256---uint256---)`_update(address from, address to, uint256[] ids, uint256[] values)` internal
Transfers a `value` amount of tokens of type `id` from `from` to `to`. Will mint (or burn) if `from` (or `to`) is the zero address.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event if the arrays contain one element, and [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) otherwise.
Requirements:
* If `to` refers to a smart contract, it must implement either [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) or [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
* `ids` and `values` must have the same length.
 
The ERC-1155 acceptance check is not performed in this function. See [`_updateWithAcceptanceCheck`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-) instead.
#### [](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)`_updateWithAcceptanceCheck(address from, address to, uint256[] ids, uint256[] values, bytes data)` internal
Version of [`_update`](#ERC1155-_update-address-address-uint256---uint256---) that performs the token acceptance check by calling [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) or [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) on the receiver address if it contains code (eg. is a smart contract at the moment of execution).
Overriding this function is discouraged because it poses a reentrancy risk from the receiver. So any update to the contract state after this function would break the check-effect-interaction pattern. Consider overriding [`_update`](#ERC1155-_update-address-address-uint256---uint256---) instead.
#### [](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)`_safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)` internal
Transfers a `value` tokens of token type `id` from `from` to `to`.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `to` cannot be the zero address.
 
* `from` must have a balance of tokens of type `id` of at least `value` amount.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value.
 
#### [](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)`_safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)` internal
Emits a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event.
Requirements:
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
* `ids` and `values` must have the same length.
 
#### [](#ERC1155-_setURI-string-)`_setURI(string newuri)` internal
Sets a new URI for all token types, by relying on the token type ID substitution mechanism [defined in the ERC](https://eips.ethereum.org/EIPS/eip-1155#metadata).
By this mechanism, any occurrence of the `{id}` substring in either the URI or any of the values in the JSON file at said URI will be replaced by clients with the token type ID.
See [`uri`](#ERC1155-uri-uint256-).
Because these URIs cannot be meaningfully represented by the [`uri`](#ERC1155-uri-uint256-) event, this function emits no events.
#### [](#ERC1155-_mint-address-uint256-uint256-bytes-)`_mint(address to, uint256 id, uint256 value, bytes data)` internal
Creates a `value` amount of tokens of type `id`, and assigns them to `to`.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `to` cannot be the zero address.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value.
 
#### [](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)`_mintBatch(address to, uint256[] ids, uint256[] values, bytes data)` internal
Emits a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event.
Requirements:
* `ids` and `values` must have the same length.
 
* `to` cannot be the zero address.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
#### [](#ERC1155-_burn-address-uint256-uint256-)`_burn(address from, uint256 id, uint256 value)` internal
Destroys a `value` amount of tokens of type `id` from `from`
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `from` cannot be the zero address.
 
* `from` must have at least `value` amount of tokens of type `id`.
 
#### [](#ERC1155-_burnBatch-address-uint256---uint256---)`_burnBatch(address from, uint256[] ids, uint256[] values)` internal
Emits a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event.
Requirements:
* `from` cannot be the zero address.
 
* `from` must have at least `value` amount of tokens of type `id`.
 
* `ids` and `values` must have the same length.
 
#### [](#ERC1155-_setApprovalForAll-address-address-bool-)`_setApprovalForAll(address owner, address operator, bool approved)` internal
Approve `operator` to operate on all of `owner` tokens
Emits an [`ApprovalForAll`](#IERC1155-ApprovalForAll-address-address-bool-) event.
Requirements:
* `operator` cannot be the zero address.
 
### [](#IERC1155Receiver)`IERC1155Receiver`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/IERC1155Receiver.sol)
 import "@openzeppelin/contracts/token/ERC1155/IERC1155Receiver.sol";
Interface that must be implemented by smart contracts in order to receive ERC-1155 token transfers.
Functions
* [`onERC1155Received(operator, from, id, value, data)`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-)
 
* [`onERC1155BatchReceived(operator, from, ids, values, data)`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)
 
#### [](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-)`onERC1155Received(address operator, address from, uint256 id, uint256 value, bytes data) → bytes4` external
Handles the receipt of a single ERC-1155 token type. This function is called at the end of a `safeTransferFrom` after the balance has been updated.
To accept the transfer, this must return `bytes4(keccak256("onERC1155Received(address,address,uint256,uint256,bytes)"))` (i.e. 0xf23a6e61, or its own function selector).
#### [](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)`onERC1155BatchReceived(address operator, address from, uint256[] ids, uint256[] values, bytes data) → bytes4` external
Handles the receipt of a multiple ERC-1155 token types. This function is called at the end of a `safeBatchTransferFrom` after the balances have been updated.
To accept the transfer(s), this must return `bytes4(keccak256("onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)"))` (i.e. 0xbc197c81, or its own function selector).
## [](#extensions)Extensions
### [](#ERC1155Pausable)`ERC1155Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155Pausable.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Pausable.sol";
ERC-1155 token with pausable token transfers, minting and burning.
Useful for scenarios such as preventing trades until the end of an evaluation period, or having an emergency switch for freezing all token transfers in the event of a large bug.
This contract does not include public pause and unpause functions. In addition to inheriting this contract, you must define both functions, invoking the [`Pausable._pause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_pause--) and [`Pausable._unpause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_unpause--) internal functions, with appropriate access control, e.g. using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) or [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable). Not doing so will make the contract pause mechanism of the contract unreachable, and thus unusable.
Functions
* [`_update(from, to, ids, values)`](#ERC1155Pausable-_update-address-address-uint256---uint256---)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155Pausable-_update-address-address-uint256---uint256---)`_update(address from, address to, uint256[] ids, uint256[] values)` internal
See [`ERC1155._update`](#ERC1155-_update-address-address-uint256---uint256---).
Requirements:
* the contract must not be paused.
 
### [](#ERC1155Burnable)`ERC1155Burnable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155Burnable.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Burnable.sol";
Extension of [`ERC1155`](#ERC1155) that allows token holders to destroy both their own tokens and those that they have been approved to use.
Functions
* [`burn(account, id, value)`](#ERC1155Burnable-burn-address-uint256-uint256-)
 
* [`burnBatch(account, ids, values)`](#ERC1155Burnable-burnBatch-address-uint256---uint256---)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_update(from, to, ids, values)`](#ERC1155-_update-address-address-uint256---uint256---)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155Burnable-burn-address-uint256-uint256-)`burn(address account, uint256 id, uint256 value)` public
#### [](#ERC1155Burnable-burnBatch-address-uint256---uint256---)`burnBatch(address account, uint256[] ids, uint256[] values)` public
### [](#ERC1155Supply)`ERC1155Supply`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155Supply.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Supply.sol";
Extension of ERC-1155 that adds tracking of total supply per id.
Useful for scenarios where Fungible and Non-fungible tokens have to be clearly identified. Note: While a totalSupply of 1 might mean the corresponding is an NFT, there is no guarantees that no other token with the same id are not going to be minted.
This contract implies a global limit of 2\*\*256 - 1 to the number of tokens that can be minted.
This extension should not be added in an upgrade to an already deployed contract.
Functions
* [`totalSupply(id)`](#ERC1155Supply-totalSupply-uint256-)
 
* [`totalSupply()`](#ERC1155Supply-totalSupply--)
 
* [`exists(id)`](#ERC1155Supply-exists-uint256-)
 
* [`_update(from, to, ids, values)`](#ERC1155Supply-_update-address-address-uint256---uint256---)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155Supply-totalSupply-uint256-)`totalSupply(uint256 id) → uint256` public
Total value of tokens in with a given id.
#### [](#ERC1155Supply-totalSupply--)`totalSupply() → uint256` public
Total value of tokens.
#### [](#ERC1155Supply-exists-uint256-)`exists(uint256 id) → bool` public
Indicates whether any token exist with a given id, or not.
#### [](#ERC1155Supply-_update-address-address-uint256---uint256---)`_update(address from, address to, uint256[] ids, uint256[] values)` internal
See [`ERC1155._update`](#ERC1155-_update-address-address-uint256---uint256---).
### [](#ERC1155URIStorage)`ERC1155URIStorage`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155URIStorage.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155URIStorage.sol";
ERC-1155 token with storage based token URI management. Inspired by the [`ERC721URIStorage`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721URIStorage) extension
Functions
* [`uri(tokenId)`](#ERC1155URIStorage-uri-uint256-)
 
* [`_setURI(tokenId, tokenURI)`](#ERC1155URIStorage-_setURI-uint256-string-)
 
* [`_setBaseURI(baseURI)`](#ERC1155URIStorage-_setBaseURI-string-)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_update(from, to, ids, values)`](#ERC1155-_update-address-address-uint256---uint256---)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155URIStorage-uri-uint256-)`uri(uint256 tokenId) → string` public
See [`IERC1155MetadataURI.uri`](#IERC1155MetadataURI-uri-uint256-).
This implementation returns the concatenation of the `_baseURI` and the token-specific uri if the latter is set
This enables the following behaviors:
* if `_tokenURIs[tokenId]` is set, then the result is the concatenation of `_baseURI` and `_tokenURIs[tokenId]` (keep in mind that `_baseURI` is empty per default);
 
* if `_tokenURIs[tokenId]` is NOT set then we fallback to `super.uri()` which in most cases will contain `ERC1155._uri`;
 
* if `_tokenURIs[tokenId]` is NOT set, and if the parents do not have a uri value set, then the result is empty.
 
#### [](#ERC1155URIStorage-_setURI-uint256-string-)`_setURI(uint256 tokenId, string tokenURI)` internal
Sets `tokenURI` as the tokenURI of `tokenId`.
#### [](#ERC1155URIStorage-_setBaseURI-string-)`_setBaseURI(string baseURI)` internal
Sets `baseURI` as the `_baseURI` for all tokens
## [](#utilities)Utilities
### [](#ERC1155Holder)`ERC1155Holder`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/utils/ERC1155Holder.sol)
 import "@openzeppelin/contracts/token/ERC1155/utils/ERC1155Holder.sol";
Simple implementation of `IERC1155Receiver` that will allow a contract to hold ERC-1155 tokens.
When inheriting this contract, you must include a way to use the received tokens, otherwise they will be stuck.
Functions
* [`supportsInterface(interfaceId)`](#ERC1155Holder-supportsInterface-bytes4-)
 
* [`onERC1155Received(, , , , )`](#ERC1155Holder-onERC1155Received-address-address-uint256-uint256-bytes-)
 
* [`onERC1155BatchReceived(, , , , )`](#ERC1155Holder-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)
 
#### [](#ERC1155Holder-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC1155Holder-onERC1155Received-address-address-uint256-uint256-bytes-)`onERC1155Received(address, address, uint256, uint256, bytes) → bytes4` public
#### [](#ERC1155Holder-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)`onERC1155BatchReceived(address, address, uint256[], uint256[], bytes) → bytes4` public
### [](#ERC1155Utils)`ERC1155Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/utils/ERC1155Utils.sol)
 import "@openzeppelin/contracts/token/ERC1155/utils/ERC1155Utils.sol";
Library that provide common ERC-1155 utility functions.
_Available since v5.1._
Functions
* [`checkOnERC1155Received(operator, from, to, id, value, data)`](#ERC1155Utils-checkOnERC1155Received-address-address-address-uint256-uint256-bytes-)
 
* [`checkOnERC1155BatchReceived(operator, from, to, ids, values, data)`](#ERC1155Utils-checkOnERC1155BatchReceived-address-address-address-uint256---uint256---bytes-)
 
#### [](#ERC1155Utils-checkOnERC1155Received-address-address-address-uint256-uint256-bytes-)`checkOnERC1155Received(address operator, address from, address to, uint256 id, uint256 value, bytes data)` internal
Performs an acceptance check for the provided `operator` by calling [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) on the `to` address. The `operator` is generally the address that initiated the token transfer (i.e. `msg.sender`).
The acceptance call is not executed and treated as a no-op if the target address doesn’t contain code (i.e. an EOA). Otherwise, the recipient must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value to accept the transfer.
#### [](#ERC1155Utils-checkOnERC1155BatchReceived-address-address-address-uint256---uint256---bytes-)`checkOnERC1155BatchReceived(address operator, address from, address to, uint256[] ids, uint256[] values, bytes data)` internal
Performs a batch acceptance check for the provided `operator` by calling [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) on the `to` address. The `operator` is generally the address that initiated the token transfer (i.e. `msg.sender`).
The acceptance call is not executed and treated as a no-op if the target address doesn’t contain code (i.e. an EOA). Otherwise, the recipient must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value to accept the transfer.

# [Backwards Compatibility - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/backwards-compatibility) 
 _https://docs.openzeppelin.com/contracts/5.x/backwards-compatibility_

In backwards compatible releases, all changes should be either additions or modifications to internal implementation details. Most code should continue to compile and behave as expected. The exceptions to this rule are listed below.
### [](#security)Security
Infrequently a patch or minor update will remove or change an API in a breaking way, but only if the previous API is considered insecure. These breaking changes will be noted in the changelog and release notes, and published along with a security advisory.
### [](#draft_or_pre_final_ercs)Draft or Pre-Final ERCs
ERCs that are not Final can change in incompatible ways. For this reason, we avoid shipping implementations of ERCs before they are Final. Some exceptions are made for ERCs that have been published for a long time and that seem unlikely to change. Breaking changes to the ERC specification are still technically possible in those cases, so these implementations are published in files named `draft-*.sol` to make that condition explicit.
### [](#virtual_overrides)Virtual & Overrides
Almost all functions in this library are virtual with some exceptions, but this does not mean that overrides are encouraged. There is a subset of functions that are designed to be overridden. By defining overrides outside of this subset you are potentially relying on internal implementation details. We make efforts to preserve backwards compatibility even in these cases but it is extremely difficult and easy to accidentally break. Caution is advised.
Additionally, some minor updates may result in new compilation errors of the kind "two or more base classes define function with same name and parameter types" or "need to specify overridden contract", due to what Solidity considers ambiguity in inherited functions. This should be resolved by adding an override that invokes the function via `super`.
### [](#structs)Structs
Struct members with an underscore prefix should be considered "private" and may break in minor versions. Struct data should only be accessed and modified through library functions.
### [](#errors)Errors
The specific error format and data that is included with reverts should not be assumed stable unless otherwise specified.
### [](#major_releases)Major Releases
Major releases should be assumed incompatible. Nevertheless, the external interfaces of contracts will remain compatible if they are standardized, or if the maintainers judge that changing them would cause significant strain on the ecosystem.
An important aspect that major releases may break is "upgrade compatibility", in particular storage layout compatibility. It will never be safe for a live contract to upgrade from one major release to another.

# [ERC-6909 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/erc6909) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/erc6909_

### [](#ERC6909)`ERC6909`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC6909/draft-ERC6909.sol)
 import "@openzeppelin/contracts/token/ERC6909/draft-ERC6909.sol";
Functions
* [`supportsInterface(interfaceId)`](#ERC6909-supportsInterface-bytes4-)
 
* [`balanceOf(owner, id)`](#ERC6909-balanceOf-address-uint256-)
 
* [`allowance(owner, spender, id)`](#ERC6909-allowance-address-address-uint256-)
 
* [`isOperator(owner, spender)`](#ERC6909-isOperator-address-address-)
 
* [`approve(spender, id, amount)`](#ERC6909-approve-address-uint256-uint256-)
 
* [`setOperator(spender, approved)`](#ERC6909-setOperator-address-bool-)
 
* [`transfer(receiver, id, amount)`](#ERC6909-transfer-address-uint256-uint256-)
 
* [`transferFrom(sender, receiver, id, amount)`](#ERC6909-transferFrom-address-address-uint256-uint256-)
 
* [`_mint(to, id, amount)`](#ERC6909-_mint-address-uint256-uint256-)
 
* [`_transfer(from, to, id, amount)`](#ERC6909-_transfer-address-address-uint256-uint256-)
 
* [`_burn(from, id, amount)`](#ERC6909-_burn-address-uint256-uint256-)
 
* [`_update(from, to, id, amount)`](#ERC6909-_update-address-address-uint256-uint256-)
 
* [`_approve(owner, spender, id, amount)`](#ERC6909-_approve-address-address-uint256-uint256-)
 
* [`_setOperator(owner, spender, approved)`](#ERC6909-_setOperator-address-address-bool-)
 
* [`_spendAllowance(owner, spender, id, amount)`](#ERC6909-_spendAllowance-address-address-uint256-uint256-)
 
Errors
* [`ERC6909InsufficientBalance(sender, balance, needed, id)`](#ERC6909-ERC6909InsufficientBalance-address-uint256-uint256-uint256-)
 
* [`ERC6909InsufficientAllowance(spender, allowance, needed, id)`](#ERC6909-ERC6909InsufficientAllowance-address-uint256-uint256-uint256-)
 
* [`ERC6909InvalidApprover(approver)`](#ERC6909-ERC6909InvalidApprover-address-)
 
* [`ERC6909InvalidReceiver(receiver)`](#ERC6909-ERC6909InvalidReceiver-address-)
 
* [`ERC6909InvalidSender(sender)`](#ERC6909-ERC6909InvalidSender-address-)
 
* [`ERC6909InvalidSpender(spender)`](#ERC6909-ERC6909InvalidSpender-address-)
 
#### [](#ERC6909-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding [ERC section](https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified) to learn more about how these ids are created.
This function call must use less than 30 000 gas.
#### [](#ERC6909-balanceOf-address-uint256-)`balanceOf(address owner, uint256 id) → uint256` public
Returns the amount of tokens of type `id` owned by `owner`.
#### [](#ERC6909-allowance-address-address-uint256-)`allowance(address owner, address spender, uint256 id) → uint256` public
Returns the amount of tokens of type `id` that `spender` is allowed to spend on behalf of `owner`.
Does not include operator allowances.
#### [](#ERC6909-isOperator-address-address-)`isOperator(address owner, address spender) → bool` public
Returns true if `spender` is set as an operator for `owner`.
#### [](#ERC6909-approve-address-uint256-uint256-)`approve(address spender, uint256 id, uint256 amount) → bool` public
Sets an approval to `spender` for `amount` of tokens of type `id` from the caller’s tokens. An `amount` of `type(uint256).max` signifies an unlimited approval.
Must return true.
#### [](#ERC6909-setOperator-address-bool-)`setOperator(address spender, bool approved) → bool` public
Grants or revokes unlimited transfer permission of any token id to `spender` for the caller’s tokens.
Must return true.
#### [](#ERC6909-transfer-address-uint256-uint256-)`transfer(address receiver, uint256 id, uint256 amount) → bool` public
Transfers `amount` of token type `id` from the caller’s account to `receiver`.
Must return true.
#### [](#ERC6909-transferFrom-address-address-uint256-uint256-)`transferFrom(address sender, address receiver, uint256 id, uint256 amount) → bool` public
Transfers `amount` of token type `id` from `sender` to `receiver`.
Must return true.
#### [](#ERC6909-_mint-address-uint256-uint256-)`_mint(address to, uint256 id, uint256 amount)` internal
Creates `amount` of token `id` and assigns them to `account`, by transferring it from address(0). Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event with `from` set to the zero address.
This function is not virtual, [`_update`](#ERC6909-_update-address-address-uint256-uint256-) should be overridden instead.
#### [](#ERC6909-_transfer-address-address-uint256-uint256-)`_transfer(address from, address to, uint256 id, uint256 amount)` internal
Moves `amount` of token `id` from `from` to `to` without checking for approvals. This function verifies that neither the sender nor the receiver are address(0), which means it cannot mint or burn tokens. Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event.
This function is not virtual, [`_update`](#ERC6909-_update-address-address-uint256-uint256-) should be overridden instead.
#### [](#ERC6909-_burn-address-uint256-uint256-)`_burn(address from, uint256 id, uint256 amount)` internal
Destroys a `amount` of token `id` from `account`. Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event with `to` set to the zero address.
This function is not virtual, [`_update`](#ERC6909-_update-address-address-uint256-uint256-) should be overridden instead
#### [](#ERC6909-_update-address-address-uint256-uint256-)`_update(address from, address to, uint256 id, uint256 amount)` internal
Transfers `amount` of token `id` from `from` to `to`, or alternatively mints (or burns) if `from` (or `to`) is the zero address. All customizations to transfers, mints, and burns should be done by overriding this function.
Emits a [`transfer`](#ERC6909-transfer-address-uint256-uint256-) event.
#### [](#ERC6909-_approve-address-address-uint256-uint256-)`_approve(address owner, address spender, uint256 id, uint256 amount)` internal
Sets `amount` as the allowance of `spender` over the ``owner’s `id`` tokens.
This internal function is equivalent to `approve`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Emits an {Approval} event.
Requirements:
* `owner` cannot be the zero address.
 
* `spender` cannot be the zero address.
 
#### [](#ERC6909-_setOperator-address-address-bool-)`_setOperator(address owner, address spender, bool approved)` internal
Approve `spender` to operate on all of \`owner’s tokens
This internal function is equivalent to `setOperator`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Emits an {OperatorSet} event.
Requirements:
* `owner` cannot be the zero address.
 
* `spender` cannot be the zero address.
 
#### [](#ERC6909-_spendAllowance-address-address-uint256-uint256-)`_spendAllowance(address owner, address spender, uint256 id, uint256 amount)` internal
Updates ``owner’s allowance for `spender`` based on spent `amount`.
Does not update the allowance value in case of infinite allowance. Revert if not enough allowance is available.
Does not emit an {Approval} event.
#### [](#ERC6909-ERC6909InsufficientBalance-address-uint256-uint256-uint256-)`ERC6909InsufficientBalance(address sender, uint256 balance, uint256 needed, uint256 id)` error
#### [](#ERC6909-ERC6909InsufficientAllowance-address-uint256-uint256-uint256-)`ERC6909InsufficientAllowance(address spender, uint256 allowance, uint256 needed, uint256 id)` error
#### [](#ERC6909-ERC6909InvalidApprover-address-)`ERC6909InvalidApprover(address approver)` error
#### [](#ERC6909-ERC6909InvalidReceiver-address-)`ERC6909InvalidReceiver(address receiver)` error
#### [](#ERC6909-ERC6909InvalidSender-address-)`ERC6909InvalidSender(address sender)` error
#### [](#ERC6909-ERC6909InvalidSpender-address-)`ERC6909InvalidSpender(address spender)` error

# [ERC-721 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/erc721) 
 _https://docs.openzeppelin.com/contracts/5.x/erc721_

We’ve discussed how you can make a _fungible_ token using [ERC-20](https://docs.openzeppelin.com/contracts/5.x/erc20), but what if not all tokens are alike? This comes up in situations like **real estate**, **voting rights**, or **collectibles**, where some items are valued more than others, due to their usefulness, rarity, etc. ERC-721 is a standard for representing ownership of [_non-fungible_ tokens](https://docs.openzeppelin.com/contracts/5.x/tokens#different-kinds-of-tokens), that is, where each token is unique.
ERC-721 is a more complex standard than ERC-20, with multiple optional extensions, and is split across a number of contracts. The OpenZeppelin Contracts provide flexibility regarding how these are combined, along with custom useful extensions. Check out the [API Reference](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721) to learn more about these.
## [](#constructing_an_erc_721_token_contract)Constructing an ERC-721 Token Contract
We’ll use ERC-721 to track items in our game, which will each have their own unique attributes. Whenever one is to be awarded to a player, it will be minted and sent to them. Players are free to keep their token or trade it with other people as they see fit, as they would any other asset on the blockchain! Please note any account can call `awardItem` to mint items. To restrict what accounts can mint items we can add [Access Control](https://docs.openzeppelin.com/contracts/5.x/access-control).
Here’s what a contract for tokenized items might look like:
 // contracts/GameItem.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC721URIStorage, ERC721} from "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
 
 contract GameItem is ERC721URIStorage {
 uint256 private _nextTokenId;
 
 constructor() ERC721("GameItem", "ITM") {}
 
 function awardItem(address player, string memory tokenURI) public returns (uint256) {
 uint256 tokenId = _nextTokenId++;
 _mint(player, tokenId);
 _setTokenURI(tokenId, tokenURI);
 
 return tokenId;
 }
 }
The [`ERC721URIStorage`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721URIStorage) contract is an implementation of ERC-721 that includes the metadata standard extensions ([`IERC721Metadata`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721Metadata)) as well as a mechanism for per-token metadata. That’s where the [`_setTokenURI`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721-_setTokenURI-uint256-string-) method comes from: we use it to store an item’s metadata.
Also note that, unlike ERC-20, ERC-721 lacks a `decimals` field, since each token is distinct and cannot be partitioned.
New items can be created:
 > gameItem.awardItem(playerAddress, "https://game.example/item-id-8u5h2m.json")
 Transaction successful. Transaction hash: 0x...
 Events emitted:
 - Transfer(0x0000000000000000000000000000000000000000, playerAddress, 7)
And the owner and metadata of each item queried:
 > gameItem.ownerOf(7)
 playerAddress
 > gameItem.tokenURI(7)
 "https://game.example/item-id-8u5h2m.json"
This `tokenURI` should resolve to a JSON document that might look something like:
 {
 "name": "Thor's hammer",
 "description": "Mjölnir, the legendary hammer of the Norse god of thunder.",
 "image": "https://game.example/item-id-8u5h2m.png",
 "strength": 20
 }
For more information about the `tokenURI` metadata JSON Schema, check out the [ERC-721 specification](https://eips.ethereum.org/EIPS/eip-721).
You’ll notice that the item’s information is included in the metadata, but that information isn’t on-chain! So a game developer could change the underlying metadata, changing the rules of the game!
If you’d like to put all item information on-chain, you can extend ERC-721 to do so (though it will be rather costly) by providing a [`Base64`](https://docs.openzeppelin.com/contracts/5.x/utilities#base64) Data URI with the JSON schema encoded. You could also leverage IPFS to store the tokenURI information, but these techniques are out of the scope of this overview guide.

# [ERC-20 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/erc20) 
 _https://docs.openzeppelin.com/contracts/5.x/erc20_

An ERC-20 token contract keeps track of [_fungible_ tokens](https://docs.openzeppelin.com/contracts/5.x/tokens#different-kinds-of-tokens): any one token is exactly equal to any other token; no tokens have special rights or behavior associated with them. This makes ERC-20 tokens useful for things like a **medium of exchange currency**, **voting rights**, **staking**, and more.
OpenZeppelin Contracts provides many ERC20-related contracts. On the [`API reference`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20) you’ll find detailed information on their properties and usage.
## [](#constructing-an-erc20-token-contract)Constructing an ERC-20 Token Contract
Using Contracts, we can easily create our own ERC-20 token contract, which will be used to track _Gold_ (GLD), an internal currency in a hypothetical game.
Here’s what our GLD token might look like.
 // contracts/GLDToken.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 
 contract GLDToken is ERC20 {
 constructor(uint256 initialSupply) ERC20("Gold", "GLD") {
 _mint(msg.sender, initialSupply);
 }
 }
Our contracts are often used via [inheritance](https://solidity.readthedocs.io/en/latest/contracts.html#inheritance), and here we’re reusing [`ERC20`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#erc20) for both the basic standard implementation and the [`name`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-name--), [`symbol`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-symbol--), and [`decimals`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-decimals--) optional extensions. Additionally, we’re creating an `initialSupply` of tokens, which will be assigned to the address that deploys the contract.
That’s it! Once deployed, we will be able to query the deployer’s balance:
 > GLDToken.balanceOf(deployerAddress)
 1000000000000000000000
We can also [transfer](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-transfer-address-uint256-) these tokens to other accounts:
 > GLDToken.transfer(otherAddress, 300000000000000000000)
 > GLDToken.balanceOf(otherAddress)
 300000000000000000000
 > GLDToken.balanceOf(deployerAddress)
 700000000000000000000
## [](#a-note-on-decimals)A Note on `decimals`
Often, you’ll want to be able to divide your tokens into arbitrary amounts: say, if you own `5 GLD`, you may want to send `1.5 GLD` to a friend, and keep `3.5 GLD` to yourself. Unfortunately, Solidity and the EVM do not support this behavior: only integer (whole) numbers can be used, which poses an issue. You may send `1` or `2` tokens, but not `1.5`.
To work around this, [`ERC20`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20) provides a [`decimals`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20-decimals--) field, which is used to specify how many decimal places a token has. To be able to transfer `1.5 GLD`, `decimals` must be at least `1`, since that number has a single decimal place.
How can this be achieved? It’s actually very simple: a token contract can use larger integer values, so that a balance of `50` will represent `5 GLD`, a transfer of `15` will correspond to `1.5 GLD` being sent, and so on.
It is important to understand that `decimals` is _only used for display purposes_. All arithmetic inside the contract is still performed on integers, and it is the different user interfaces (wallets, exchanges, etc.) that must adjust the displayed values according to `decimals`. The total token supply and balance of each account are not specified in `GLD`: you need to divide by `10 ** decimals` to get the actual `GLD` amount.
You’ll probably want to use a `decimals` value of `18`, just like Ether and most ERC-20 token contracts in use, unless you have a very special reason not to. When minting tokens or transferring them around, you will be actually sending the number `num GLD * (10 ** decimals)`.
By default, `ERC20` uses a value of `18` for `decimals`. To use a different value, you will need to override the `decimals()` function in your contract.
 function decimals() public view virtual override returns (uint8) {
 return 16;
 }
So if you want to send `5` tokens using a token contract with 18 decimals, the method to call will actually be:
 transfer(recipient, 5 * (10 ** 18));

# [Meta Transactions - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/metatx) 
 _https://docs.openzeppelin.com/contracts/5.x/api/metatx_

### [](#ERC2771Forwarder)`ERC2771Forwarder`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/metatx/ERC2771Forwarder.sol)
 import "@openzeppelin/contracts/metatx/ERC2771Forwarder.sol";
A forwarder compatible with ERC-2771 contracts. See [`ERC2771Context`](#ERC2771Context).
This forwarder operates on forward requests that include:
* `from`: An address to operate on behalf of. It is required to be equal to the request signer.
 
* `to`: The address that should be called.
 
* `value`: The amount of native token to attach with the requested call.
 
* `gas`: The amount of gas limit that will be forwarded with the requested call.
 
* `nonce`: A unique transaction ordering identifier to avoid replayability and request invalidation.
 
* `deadline`: A timestamp after which the request is not executable anymore.
 
* `data`: Encoded `msg.data` to send with the requested call.
 
Relayers are able to submit batches if they are processing a high volume of requests. With high throughput, relayers may run into limitations of the chain such as limits on the number of transactions in the mempool. In these cases the recommendation is to distribute the load among multiple accounts.
Batching requests includes an optional refund for unused `msg.value` that is achieved by performing a call with empty calldata. While this is within the bounds of ERC-2771 compliance, if the refund receiver happens to consider the forwarder a trusted forwarder, it MUST properly handle `msg.data.length == 0`. `ERC2771Context` in OpenZeppelin Contracts versions prior to 4.9.3 do not handle this properly.
#### [](#security_considerations)Security Considerations
If a relayer submits a forward request, it should be willing to pay up to 100% of the gas amount specified in the request. This contract does not implement any kind of retribution for this gas, and it is assumed that there is an out of band incentive for relayers to pay for execution on behalf of signers. Often, the relayer is operated by a project that will consider it a user acquisition cost.
By offering to pay for gas, relayers are at risk of having that gas used by an attacker toward some other purpose that is not aligned with the expected out of band incentives. If you operate a relayer, consider whitelisting target contracts and function selectors. When relaying ERC-721 or ERC-1155 transfers specifically, consider rejecting the use of the `data` field, since it can be used to execute arbitrary code.
Functions
* [`constructor(name)`](#ERC2771Forwarder-constructor-string-)
 
* [`verify(request)`](#ERC2771Forwarder-verify-struct-ERC2771Forwarder-ForwardRequestData-)
 
* [`execute(request)`](#ERC2771Forwarder-execute-struct-ERC2771Forwarder-ForwardRequestData-)
 
* [`executeBatch(requests, refundReceiver)`](#ERC2771Forwarder-executeBatch-struct-ERC2771Forwarder-ForwardRequestData---address-payable-)
 
* [`_validate(request)`](#ERC2771Forwarder-_validate-struct-ERC2771Forwarder-ForwardRequestData-)
 
* [`_recoverForwardRequestSigner(request)`](#ERC2771Forwarder-_recoverForwardRequestSigner-struct-ERC2771Forwarder-ForwardRequestData-)
 
* [`_execute(request, requireValidRequest)`](#ERC2771Forwarder-_execute-struct-ERC2771Forwarder-ForwardRequestData-bool-)
 
* [`_isTrustedByTarget(target)`](#ERC2771Forwarder-_isTrustedByTarget-address-)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
Errors
* [`ERC2771ForwarderInvalidSigner(signer, from)`](#ERC2771Forwarder-ERC2771ForwarderInvalidSigner-address-address-)
 
* [`ERC2771ForwarderMismatchedValue(requestedValue, msgValue)`](#ERC2771Forwarder-ERC2771ForwarderMismatchedValue-uint256-uint256-)
 
* [`ERC2771ForwarderExpiredRequest(deadline)`](#ERC2771Forwarder-ERC2771ForwarderExpiredRequest-uint48-)
 
* [`ERC2771UntrustfulTarget(target, forwarder)`](#ERC2771Forwarder-ERC2771UntrustfulTarget-address-address-)
 
#### [](#ERC2771Forwarder-constructor-string-)`constructor(string name)` public
#### [](#ERC2771Forwarder-verify-struct-ERC2771Forwarder-ForwardRequestData-)`verify(struct ERC2771Forwarder.ForwardRequestData request) → bool` public
Returns `true` if a request is valid for a provided `signature` at the current block timestamp.
A transaction is considered valid when the target trusts this forwarder, the request hasn’t expired (deadline is not met), and the signer matches the `from` parameter of the signed request.
A request may return false here but it won’t cause [`executeBatch`](#ERC2771Forwarder-executeBatch-struct-ERC2771Forwarder-ForwardRequestData---address-payable-) to revert if a refund receiver is provided.
#### [](#ERC2771Forwarder-execute-struct-ERC2771Forwarder-ForwardRequestData-)`execute(struct ERC2771Forwarder.ForwardRequestData request)` public
Executes a `request` on behalf of \`signature’s signer using the ERC-2771 protocol. The gas provided to the requested call may not be exactly the amount requested, but the call will not run out of gas. Will revert if the request is invalid or the call reverts, in this case the nonce is not consumed.
Requirements:
* The request value should be equal to the provided `msg.value`.
 
* The request should be valid according to [`verify`](#ERC2771Forwarder-verify-struct-ERC2771Forwarder-ForwardRequestData-).
 
#### [](#ERC2771Forwarder-executeBatch-struct-ERC2771Forwarder-ForwardRequestData---address-payable-)`executeBatch(struct ERC2771Forwarder.ForwardRequestData[] requests, address payable refundReceiver)` public
Batch version of [`execute`](#ERC2771Forwarder-execute-struct-ERC2771Forwarder-ForwardRequestData-) with optional refunding and atomic execution.
In case a batch contains at least one invalid request (see [`verify`](#ERC2771Forwarder-verify-struct-ERC2771Forwarder-ForwardRequestData-)), the request will be skipped and the `refundReceiver` parameter will receive back the unused requested value at the end of the execution. This is done to prevent reverting the entire batch when a request is invalid or has already been submitted.
If the `refundReceiver` is the `address(0)`, this function will revert when at least one of the requests was not valid instead of skipping it. This could be useful if a batch is required to get executed atomically (at least at the top-level). For example, refunding (and thus atomicity) can be opt-out if the relayer is using a service that avoids including reverted transactions.
Requirements:
* The sum of the requests' values should be equal to the provided `msg.value`.
 
* All of the requests should be valid (see [`verify`](#ERC2771Forwarder-verify-struct-ERC2771Forwarder-ForwardRequestData-)) when `refundReceiver` is the zero address.
 
Setting a zero `refundReceiver` guarantees an all-or-nothing requests execution only for the first-level forwarded calls. In case a forwarded request calls to a contract with another subcall, the second-level call may revert without the top-level call reverting.
#### [](#ERC2771Forwarder-_validate-struct-ERC2771Forwarder-ForwardRequestData-)`_validate(struct ERC2771Forwarder.ForwardRequestData request) → bool isTrustedForwarder, bool active, bool signerMatch, address signer` internal
Validates if the provided request can be executed at current block timestamp with the given `request.signature` on behalf of `request.signer`.
#### [](#ERC2771Forwarder-_recoverForwardRequestSigner-struct-ERC2771Forwarder-ForwardRequestData-)`_recoverForwardRequestSigner(struct ERC2771Forwarder.ForwardRequestData request) → bool isValid, address signer` internal
Returns a tuple with the recovered the signer of an EIP712 forward request message hash and a boolean indicating if the signature is valid.
The signature is considered valid if [`ECDSA.tryRecover`](https://docs.openzeppelin.com/contracts/5.x/api/utils#ECDSA-tryRecover-bytes32-uint8-bytes32-bytes32-) indicates no recover error for it.
#### [](#ERC2771Forwarder-_execute-struct-ERC2771Forwarder-ForwardRequestData-bool-)`_execute(struct ERC2771Forwarder.ForwardRequestData request, bool requireValidRequest) → bool success` internal
Validates and executes a signed request returning the request call `success` value.
Internal function without msg.value validation.
Requirements:
* The caller must have provided enough gas to forward with the call.
 
* The request must be valid (see [`verify`](#ERC2771Forwarder-verify-struct-ERC2771Forwarder-ForwardRequestData-)) if the `requireValidRequest` is true.
 
Emits an [`ExecutedForwardRequest`](#ERC2771Forwarder-ExecutedForwardRequest-address-uint256-bool-) event.
Using this function doesn’t check that all the `msg.value` was sent, potentially leaving value stuck in the contract.
#### [](#ERC2771Forwarder-_isTrustedByTarget-address-)`_isTrustedByTarget(address target) → bool` internal
Returns whether the target trusts this forwarder.
This function performs a static call to the target contract calling the [`ERC2771Context.isTrustedForwarder`](#ERC2771Context-isTrustedForwarder-address-) function.
Consider the execution of this forwarder is permissionless. Without this check, anyone may transfer assets that are owned by, or are approved to this forwarder.
#### [](#ERC2771Forwarder-ExecutedForwardRequest-address-uint256-bool-)`ExecutedForwardRequest(address indexed signer, uint256 nonce, bool success)` event
Emitted when a `ForwardRequest` is executed.
An unsuccessful forward request could be due to an invalid signature, an expired deadline, or simply a revert in the requested call. The contract guarantees that the relayer is not able to force the requested call to run out of gas.
#### [](#ERC2771Forwarder-ERC2771ForwarderInvalidSigner-address-address-)`ERC2771ForwarderInvalidSigner(address signer, address from)` error
The request `from` doesn’t match with the recovered `signer`.
#### [](#ERC2771Forwarder-ERC2771ForwarderMismatchedValue-uint256-uint256-)`ERC2771ForwarderMismatchedValue(uint256 requestedValue, uint256 msgValue)` error
The `requestedValue` doesn’t match with the available `msgValue`.
#### [](#ERC2771Forwarder-ERC2771ForwarderExpiredRequest-uint48-)`ERC2771ForwarderExpiredRequest(uint48 deadline)` error
The request `deadline` has expired.
#### [](#ERC2771Forwarder-ERC2771UntrustfulTarget-address-address-)`ERC2771UntrustfulTarget(address target, address forwarder)` error
The request target doesn’t trust the `forwarder`.
#### [](#ERC2771Forwarder-_FORWARD_REQUEST_TYPEHASH-bytes32)`bytes32 _FORWARD_REQUEST_TYPEHASH` internal constant

# [ERC-4626 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/erc4626) 
 _https://docs.openzeppelin.com/contracts/5.x/erc4626_

### [](#visualizing_the_vault)Visualizing the vault
In exchange for the assets deposited into an ERC-4626 vault, a user receives shares. These shares can later be burned to redeem the corresponding underlying assets. The number of shares a user gets depends on the amount of assets they put in and on the exchange rate of the vault. This exchange rate is defined by the current liquidity held by the vault.
* If a vault has 100 tokens to back 200 shares, then each share is worth 0.5 assets.
 
* If a vault has 200 tokens to back 100 shares, then each share is worth 2.0 assets.
 
In other words, the exchange rate can be defined as the slope of the line that passes through the origin and the current number of assets and shares in the vault. Deposits and withdrawals move the vault in this line.
When plotted in log-log scale, the rate is defined similarly, but appears differently (because the point (0,0) is infinitely far away). Rates are represented by "diagonal" lines with different offsets.
In such a representation, widely different rates can be clearly visible in the same graph. This wouldn’t be the case in linear scale.
### [](#the_attack)The attack
When depositing tokens, the number of shares a user gets is rounded towards zero. This rounding takes away value from the user in favor of the vault (i.e. in favor of all the current shareholders). This rounding is often negligible because of the amount at stake. If you deposit 1e9 shares worth of tokens, the rounding will have you lose at most 0.0000001% of your deposit. However if you deposit 10 shares worth of tokens, you could lose 10% of your deposit. Even worse, if you deposit <1 share worth of tokens, then you get 0 shares, and you basically made a donation.
For a given amount of assets, the more shares you receive the safer you are. If you want to limit your losses to at most 1%, you need to receive at least 100 shares.
In the figure we can see that for a given deposit of 500 assets, the number of shares we get and the corresponding rounding losses depend on the exchange rate. If the exchange rate is that of the orange curve, we are getting less than a share, so we lose 100% of our deposit. However, if the exchange rate is that of the green curve, we get 5000 shares, which limits our rounding losses to at most 0.02%.
Symmetrically, if we focus on limiting our losses to a maximum of 0.5%, we need to get at least 200 shares. With the green exchange rate that requires just 20 tokens, but with the orange rate that requires 200000 tokens.
We can clearly see that the blue and green curves correspond to vaults that are safer than the yellow and orange curves.
The idea of an inflation attack is that an attacker can donate assets to the vault to move the rate curve to the right, and make the vault unsafe.
Figure 6 shows how an attacker can manipulate the rate of an empty vault. First the attacker must deposit a small amount of tokens (1 token) and follow up with a donation of 1e5 tokens directly to the vault to move the exchange rate "right". This puts the vault in a state where any deposit smaller than 1e5 would be completely lost to the vault. Given that the attacker is the only shareholder (from their donation), the attacker would steal all the tokens deposited.
An attacker would typically wait for a user to do the first deposit into the vault, and would frontrun that operation with the attack described above. The risk is low, and the size of the "donation" required to manipulate the vault is equivalent to the size of the deposit that is being attacked.
In math that gives:
* the attacker deposit
 
* the attacker donation
 
* the user deposit
 
 
Assets
Shares
Rate
initial
\-
after attacker’s deposit
after attacker’s donation
This means a deposit of will give shares.
For the attacker to dilute that deposit to 0 shares, causing the user to lose all its deposit, it must ensure that
Using and is enough. So the attacker only needs assets to perform a successful attack.
It is easy to generalize the above results to scenarios where the attacker is going after a smaller fraction of the user’s deposit. In order to target , the user needs to suffer rounding of a similar fraction, which means the user must receive at most shares. This results in:
In this scenario, the attack is times less powerful (in how much it is stealing) and costs times less to execute. In both cases, the amount of funds the attacker needs to commit is equivalent to its potential earnings.
### [](#defending_with_a_virtual_offset)Defending with a virtual offset
The defense we propose is based on the approach used in [YieldBox](https://github.com/boringcrypto/YieldBox). It consists of two parts:
* Use an offset between the "precision" of the representation of shares and assets. Said otherwise, we use more decimal places to represent the shares than the underlying token does to represent the assets.
 
* Include virtual shares and virtual assets in the exchange rate computation. These virtual assets enforce the conversion rate when the vault is empty.
 
These two parts work together in enforcing the security of the vault. First, the increased precision corresponds to a high rate, which we saw is safer as it reduces the rounding error when computing the amount of shares. Second, the virtual assets and shares (in addition to simplifying a lot of the computations) capture part of the donation, making it unprofitable for a developer to perform an attack.
Following the previous math definitions, we have:
* the vault offset
 
* the attacker deposit
 
* the attacker donation
 
* the user deposit
 
 
Assets
Shares
Rate
initial
after attacker’s deposit
after attacker’s donation
One important thing to note is that the attacker only owns a fraction of the shares, so when doing the donation, he will only be able to recover that fraction of the donation. The remaining are captured by the vault.
When the user deposits , he receives
For the attacker to dilute that deposit to 0 shares, causing the user to lose all its deposit, it must ensure that
* If the offset is 0, the attacker loss is at least equal to the user’s deposit.
 
* If the offset is greater than 0, the attacker will have to suffer losses that are orders of magnitude bigger than the amount of value that can hypothetically be stolen from the user.
 
This shows that even with an offset of 0, the virtual shares and assets make this attack non profitable for the attacker. Bigger offsets increase the security even further by making any attack on the user extremely wasteful.
The following figure shows how the offset impacts the initial rate and limits the ability of an attacker with limited funds to inflate it effectively.
, ,
, ,
, ,

# [Using with Upgrades - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/upgradeable) 
 _https://docs.openzeppelin.com/contracts/5.x/upgradeable_

If your contract is going to be deployed with upgradeability, such as using the [OpenZeppelin Upgrades Plugins](https://docs.openzeppelin.com/upgrades-plugins/), you will need to use the Upgradeable variant of OpenZeppelin Contracts.
This variant is available as a separate package called `@openzeppelin/contracts-upgradeable`, which is hosted in the repository [OpenZeppelin/openzeppelin-contracts-upgradeable](https://github.com/OpenZeppelin/openzeppelin-contracts-upgradeable). It uses `@openzeppelin/contracts` as a peer dependency.
It follows all of the rules for [Writing Upgradeable Contracts](https://docs.openzeppelin.com/upgrades-plugins/writing-upgradeable): constructors are replaced by initializer functions, state variables are initialized in initializer functions, and we additionally check for storage incompatibilities across minor versions.
OpenZeppelin provides a full suite of tools for deploying and securing upgradeable smart contracts. [Check out the full list of resources](#openzeppelin::upgrades.adoc).
## [](#overview)Overview
### [](#installation)Installation
 $ npm install @openzeppelin/contracts-upgradeable @openzeppelin/contracts
### [](#usage)Usage
The Upgradeable package replicates the structure of the main OpenZeppelin Contracts package, but every file and contract has the suffix `Upgradeable`.
 -import {ERC721} from "@openzeppelin/contracts/token/ERC721/ERC721.sol";
 +import {ERC721Upgradeable} from "@openzeppelin/contracts-upgradeable/token/ERC721/ERC721Upgradeable.sol";
 
 -contract MyCollectible is ERC721 {
 +contract MyCollectible is ERC721Upgradeable {
Interfaces and libraries are not included in the Upgradeable package, but are instead imported from the main OpenZeppelin Contracts package.
Constructors are replaced by internal initializer functions following the naming convention `__{ContractName}_init`. Since these are internal, you must always define your own public initializer function and call the parent initializer of the contract you extend.
 - constructor() ERC721("MyCollectible", "MCO") public {
 + function initialize() initializer public {
 + __ERC721_init("MyCollectible", "MCO");
 }
Use with multiple inheritance requires special attention. See the section below titled [Multiple Inheritance](#multiple-inheritance).
Once this contract is set up and compiled, you can deploy it using the [Upgrades Plugins](https://docs.openzeppelin.com/upgrades-plugins/). The following snippet shows an example deployment script using Hardhat.
 // scripts/deploy-my-collectible.js
 const { ethers, upgrades } = require("hardhat");
 
 async function main() {
 const MyCollectible = await ethers.getContractFactory("MyCollectible");
 
 const mc = await upgrades.deployProxy(MyCollectible);
 
 await mc.waitForDeployment();
 console.log("MyCollectible deployed to:", await mc.getAddress());
 }
 
 main();
## [](#further_notes)Further Notes
### [](#multiple-inheritance)Multiple Inheritance
Initializer functions are not linearized by the compiler like constructors. Because of this, each `__{ContractName}_init` function embeds the linearized calls to all parent initializers. As a consequence, calling two of these `init` functions can potentially initialize the same contract twice.
The function `__{ContractName}_init_unchained` found in every contract is the initializer function minus the calls to parent initializers, and can be used to avoid the double initialization problem, but doing this manually is not recommended. We hope to be able to implement safety checks for this in future versions of the Upgrades Plugins.
### [](#namespaced_storage)Namespaced Storage
You may notice that contracts use a struct with the `@custom:storage-location erc7201:<NAMESPACE_ID>` annotation to store the contract’s state variables. This follows the [ERC-7201: Namespaced Storage Layout](https://eips.ethereum.org/EIPS/eip-7201) pattern, where each contract has its own storage layout in a namespace that is separate from other contracts in the inheritance chain.
Without namespaced storage, it isn’t safe to simply add a state variable because it "shifts down" all of the state variables below in the inheritance chain. This makes the storage layouts incompatible, as explained in [Writing Upgradeable Contracts](https://docs.openzeppelin.com/upgrades-plugins/writing-upgradeable#modifying-your-contracts).
The namespaced storage pattern used in the Upgradeable package allows us to freely add new state variables in the future without compromising the storage compatibility with existing deployments. It also allows changing the inheritance order with no impact on the resulting storage layout, as long as all inherited contracts use namespaced storage.

# [ERC-1155 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155_

The ERC consists of three interfaces which fulfill different roles, found here as [`IERC1155`](#IERC1155), [`IERC1155MetadataURI`](#IERC1155MetadataURI) and [`IERC1155Receiver`](#IERC1155Receiver).
[`ERC1155`](#ERC1155) implements the mandatory [`IERC1155`](#IERC1155) interface, as well as the optional extension [`IERC1155MetadataURI`](#IERC1155MetadataURI), by relying on the substitution mechanism to use the same URI for all token types, dramatically reducing gas costs.
Additionally there are multiple custom extensions, including:
* designation of addresses that can pause token transfers for all users ([`ERC1155Pausable`](#ERC1155Pausable)).
 
* destruction of own tokens ([`ERC1155Burnable`](#ERC1155Burnable)).
 
This core set of contracts is designed to be unopinionated, allowing developers to access the internal functions in ERC-1155 (such as [`_mint`](#ERC1155-_mint-address-uint256-uint256-bytes-)) and expose them as external functions in the way they prefer.
## [](#core)Core
### [](#IERC1155)`IERC1155`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/IERC1155.sol)
 import "@openzeppelin/contracts/token/ERC1155/IERC1155.sol";
Required interface of an ERC-1155 compliant contract, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-1155).
Functions
* [`balanceOf(account, id)`](#IERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#IERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#IERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#IERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
Events
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#IERC1155-balanceOf-address-uint256-)`balanceOf(address account, uint256 id) → uint256` external
Returns the value of tokens of token type `id` owned by `account`.
#### [](#IERC1155-balanceOfBatch-address---uint256---)`balanceOfBatch(address[] accounts, uint256[] ids) → uint256[]` external
Requirements:
* `accounts` and `ids` must have the same length.
 
#### [](#IERC1155-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` external
Grants or revokes permission to `operator` to transfer the caller’s tokens, according to `approved`,
Emits an [`ApprovalForAll`](#IERC1155-ApprovalForAll-address-address-bool-) event.
Requirements:
* `operator` cannot be the zero address.
 
#### [](#IERC1155-isApprovedForAll-address-address-)`isApprovedForAll(address account, address operator) → bool` external
Returns true if `operator` is approved to transfer `account`'s tokens.
See [`setApprovalForAll`](#IERC1155-setApprovalForAll-address-bool-).
#### [](#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)` external
Transfers a `value` amount of tokens of type `id` from `from` to `to`.
This function can potentially allow a reentrancy attack when transferring tokens to an untrusted contract, when invoking [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) on the receiver. Ensure to follow the checks-effects-interactions pattern and consider employing reentrancy guards when interacting with untrusted contracts.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `to` cannot be the zero address.
 
* If the caller is not `from`, it must have been approved to spend `from`'s tokens via [`setApprovalForAll`](#IERC1155-setApprovalForAll-address-bool-).
 
* `from` must have a balance of tokens of type `id` of at least `value` amount.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value.
 
#### [](#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)`safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)` external
This function can potentially allow a reentrancy attack when transferring tokens to an untrusted contract, when invoking [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) on the receiver. Ensure to follow the checks-effects-interactions pattern and consider employing reentrancy guards when interacting with untrusted contracts.
Emits either a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) or a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event, depending on the length of the array arguments.
Requirements:
* `ids` and `values` must have the same length.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
#### [](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)`TransferSingle(address indexed operator, address indexed from, address indexed to, uint256 id, uint256 value)` event
Emitted when `value` amount of tokens of type `id` are transferred from `from` to `to` by `operator`.
#### [](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)`TransferBatch(address indexed operator, address indexed from, address indexed to, uint256[] ids, uint256[] values)` event
Equivalent to multiple [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) events, where `operator`, `from` and `to` are the same for all transfers.
#### [](#IERC1155-ApprovalForAll-address-address-bool-)`ApprovalForAll(address indexed account, address indexed operator, bool approved)` event
Emitted when `account` grants or revokes permission to `operator` to transfer their tokens, according to `approved`.
#### [](#IERC1155-URI-string-uint256-)`URI(string value, uint256 indexed id)` event
Emitted when the URI for token type `id` changes to `value`, if it is a non-programmatic URI.
If an [`URI`](#IERC1155-URI-string-uint256-) event was emitted for `id`, the standard [guarantees](https://eips.ethereum.org/EIPS/eip-1155#metadata-extensions) that `value` will equal the value returned by [`IERC1155MetadataURI.uri`](#IERC1155MetadataURI-uri-uint256-).
### [](#IERC1155MetadataURI)`IERC1155MetadataURI`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/IERC1155MetadataURI.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/IERC1155MetadataURI.sol";
Interface of the optional ERC1155MetadataExtension interface, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-1155#metadata-extensions).
Functions
* [`uri(id)`](#IERC1155MetadataURI-uri-uint256-)
 
IERC1155
* [`balanceOf(account, id)`](#IERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#IERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#IERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#IERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#IERC1155MetadataURI-uri-uint256-)`uri(uint256 id) → string` external
Returns the URI for token type `id`.
If the `{id}` substring is present in the URI, it must be replaced by clients with the actual token type ID.
### [](#ERC1155)`ERC1155`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/ERC1155.sol)
 import "@openzeppelin/contracts/token/ERC1155/ERC1155.sol";
Functions
* [`constructor(uri_)`](#ERC1155-constructor-string-)
 
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_update(from, to, ids, values)`](#ERC1155-_update-address-address-uint256---uint256---)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155-constructor-string-)`constructor(string uri_)` internal
See [`_setURI`](#ERC1155-_setURI-string-).
#### [](#ERC1155-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC1155-uri-uint256-)`uri(uint256) → string` public
See [`IERC1155MetadataURI.uri`](#IERC1155MetadataURI-uri-uint256-).
This implementation returns the same URI for **all** token types. It relies on the token type ID substitution mechanism [defined in the ERC](https://eips.ethereum.org/EIPS/eip-1155#metadata).
Clients calling this function must replace the `{id}` substring with the actual token type ID.
#### [](#ERC1155-balanceOf-address-uint256-)`balanceOf(address account, uint256 id) → uint256` public
See [`IERC1155.balanceOf`](#IERC1155-balanceOf-address-uint256-).
#### [](#ERC1155-balanceOfBatch-address---uint256---)`balanceOfBatch(address[] accounts, uint256[] ids) → uint256[]` public
See [`IERC1155.balanceOfBatch`](#IERC1155-balanceOfBatch-address---uint256---).
Requirements:
* `accounts` and `ids` must have the same length.
 
#### [](#ERC1155-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` public
#### [](#ERC1155-isApprovedForAll-address-address-)`isApprovedForAll(address account, address operator) → bool` public
#### [](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)` public
#### [](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)`safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)` public
#### [](#ERC1155-_update-address-address-uint256---uint256---)`_update(address from, address to, uint256[] ids, uint256[] values)` internal
Transfers a `value` amount of tokens of type `id` from `from` to `to`. Will mint (or burn) if `from` (or `to`) is the zero address.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event if the arrays contain one element, and [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) otherwise.
Requirements:
* If `to` refers to a smart contract, it must implement either [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) or [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
* `ids` and `values` must have the same length.
 
The ERC-1155 acceptance check is not performed in this function. See [`_updateWithAcceptanceCheck`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-) instead.
#### [](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)`_updateWithAcceptanceCheck(address from, address to, uint256[] ids, uint256[] values, bytes data)` internal
Version of [`_update`](#ERC1155-_update-address-address-uint256---uint256---) that performs the token acceptance check by calling [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) or [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) on the receiver address if it contains code (eg. is a smart contract at the moment of execution).
Overriding this function is discouraged because it poses a reentrancy risk from the receiver. So any update to the contract state after this function would break the check-effect-interaction pattern. Consider overriding [`_update`](#ERC1155-_update-address-address-uint256---uint256---) instead.
#### [](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)`_safeTransferFrom(address from, address to, uint256 id, uint256 value, bytes data)` internal
Transfers a `value` tokens of token type `id` from `from` to `to`.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `to` cannot be the zero address.
 
* `from` must have a balance of tokens of type `id` of at least `value` amount.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value.
 
#### [](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)`_safeBatchTransferFrom(address from, address to, uint256[] ids, uint256[] values, bytes data)` internal
Emits a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event.
Requirements:
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
* `ids` and `values` must have the same length.
 
#### [](#ERC1155-_setURI-string-)`_setURI(string newuri)` internal
Sets a new URI for all token types, by relying on the token type ID substitution mechanism [defined in the ERC](https://eips.ethereum.org/EIPS/eip-1155#metadata).
By this mechanism, any occurrence of the `{id}` substring in either the URI or any of the values in the JSON file at said URI will be replaced by clients with the token type ID.
See [`uri`](#ERC1155-uri-uint256-).
Because these URIs cannot be meaningfully represented by the [`uri`](#ERC1155-uri-uint256-) event, this function emits no events.
#### [](#ERC1155-_mint-address-uint256-uint256-bytes-)`_mint(address to, uint256 id, uint256 value, bytes data)` internal
Creates a `value` amount of tokens of type `id`, and assigns them to `to`.
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `to` cannot be the zero address.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value.
 
#### [](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)`_mintBatch(address to, uint256[] ids, uint256[] values, bytes data)` internal
Emits a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event.
Requirements:
* `ids` and `values` must have the same length.
 
* `to` cannot be the zero address.
 
* If `to` refers to a smart contract, it must implement [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) and return the acceptance magic value.
 
#### [](#ERC1155-_burn-address-uint256-uint256-)`_burn(address from, uint256 id, uint256 value)` internal
Destroys a `value` amount of tokens of type `id` from `from`
Emits a [`TransferSingle`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-) event.
Requirements:
* `from` cannot be the zero address.
 
* `from` must have at least `value` amount of tokens of type `id`.
 
#### [](#ERC1155-_burnBatch-address-uint256---uint256---)`_burnBatch(address from, uint256[] ids, uint256[] values)` internal
Emits a [`TransferBatch`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---) event.
Requirements:
* `from` cannot be the zero address.
 
* `from` must have at least `value` amount of tokens of type `id`.
 
* `ids` and `values` must have the same length.
 
#### [](#ERC1155-_setApprovalForAll-address-address-bool-)`_setApprovalForAll(address owner, address operator, bool approved)` internal
Approve `operator` to operate on all of `owner` tokens
Emits an [`ApprovalForAll`](#IERC1155-ApprovalForAll-address-address-bool-) event.
Requirements:
* `operator` cannot be the zero address.
 
### [](#IERC1155Receiver)`IERC1155Receiver`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/IERC1155Receiver.sol)
 import "@openzeppelin/contracts/token/ERC1155/IERC1155Receiver.sol";
Interface that must be implemented by smart contracts in order to receive ERC-1155 token transfers.
Functions
* [`onERC1155Received(operator, from, id, value, data)`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-)
 
* [`onERC1155BatchReceived(operator, from, ids, values, data)`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)
 
#### [](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-)`onERC1155Received(address operator, address from, uint256 id, uint256 value, bytes data) → bytes4` external
Handles the receipt of a single ERC-1155 token type. This function is called at the end of a `safeTransferFrom` after the balance has been updated.
To accept the transfer, this must return `bytes4(keccak256("onERC1155Received(address,address,uint256,uint256,bytes)"))` (i.e. 0xf23a6e61, or its own function selector).
#### [](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)`onERC1155BatchReceived(address operator, address from, uint256[] ids, uint256[] values, bytes data) → bytes4` external
Handles the receipt of a multiple ERC-1155 token types. This function is called at the end of a `safeBatchTransferFrom` after the balances have been updated.
To accept the transfer(s), this must return `bytes4(keccak256("onERC1155BatchReceived(address,address,uint256[],uint256[],bytes)"))` (i.e. 0xbc197c81, or its own function selector).
## [](#extensions)Extensions
### [](#ERC1155Pausable)`ERC1155Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155Pausable.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Pausable.sol";
ERC-1155 token with pausable token transfers, minting and burning.
Useful for scenarios such as preventing trades until the end of an evaluation period, or having an emergency switch for freezing all token transfers in the event of a large bug.
This contract does not include public pause and unpause functions. In addition to inheriting this contract, you must define both functions, invoking the [`Pausable._pause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_pause--) and [`Pausable._unpause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_unpause--) internal functions, with appropriate access control, e.g. using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) or [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable). Not doing so will make the contract pause mechanism of the contract unreachable, and thus unusable.
Functions
* [`_update(from, to, ids, values)`](#ERC1155Pausable-_update-address-address-uint256---uint256---)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155Pausable-_update-address-address-uint256---uint256---)`_update(address from, address to, uint256[] ids, uint256[] values)` internal
See [`ERC1155._update`](#ERC1155-_update-address-address-uint256---uint256---).
Requirements:
* the contract must not be paused.
 
### [](#ERC1155Burnable)`ERC1155Burnable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155Burnable.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Burnable.sol";
Extension of [`ERC1155`](#ERC1155) that allows token holders to destroy both their own tokens and those that they have been approved to use.
Functions
* [`burn(account, id, value)`](#ERC1155Burnable-burn-address-uint256-uint256-)
 
* [`burnBatch(account, ids, values)`](#ERC1155Burnable-burnBatch-address-uint256---uint256---)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_update(from, to, ids, values)`](#ERC1155-_update-address-address-uint256---uint256---)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155Burnable-burn-address-uint256-uint256-)`burn(address account, uint256 id, uint256 value)` public
#### [](#ERC1155Burnable-burnBatch-address-uint256---uint256---)`burnBatch(address account, uint256[] ids, uint256[] values)` public
### [](#ERC1155Supply)`ERC1155Supply`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155Supply.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155Supply.sol";
Extension of ERC-1155 that adds tracking of total supply per id.
Useful for scenarios where Fungible and Non-fungible tokens have to be clearly identified. Note: While a totalSupply of 1 might mean the corresponding is an NFT, there is no guarantees that no other token with the same id are not going to be minted.
This contract implies a global limit of 2\*\*256 - 1 to the number of tokens that can be minted.
This extension should not be added in an upgrade to an already deployed contract.
Functions
* [`totalSupply(id)`](#ERC1155Supply-totalSupply-uint256-)
 
* [`totalSupply()`](#ERC1155Supply-totalSupply--)
 
* [`exists(id)`](#ERC1155Supply-exists-uint256-)
 
* [`_update(from, to, ids, values)`](#ERC1155Supply-_update-address-address-uint256---uint256---)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`uri()`](#ERC1155-uri-uint256-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155Supply-totalSupply-uint256-)`totalSupply(uint256 id) → uint256` public
Total value of tokens in with a given id.
#### [](#ERC1155Supply-totalSupply--)`totalSupply() → uint256` public
Total value of tokens.
#### [](#ERC1155Supply-exists-uint256-)`exists(uint256 id) → bool` public
Indicates whether any token exist with a given id, or not.
#### [](#ERC1155Supply-_update-address-address-uint256---uint256---)`_update(address from, address to, uint256[] ids, uint256[] values)` internal
See [`ERC1155._update`](#ERC1155-_update-address-address-uint256---uint256---).
### [](#ERC1155URIStorage)`ERC1155URIStorage`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/extensions/ERC1155URIStorage.sol)
 import "@openzeppelin/contracts/token/ERC1155/extensions/ERC1155URIStorage.sol";
ERC-1155 token with storage based token URI management. Inspired by the [`ERC721URIStorage`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721URIStorage) extension
Functions
* [`uri(tokenId)`](#ERC1155URIStorage-uri-uint256-)
 
* [`_setURI(tokenId, tokenURI)`](#ERC1155URIStorage-_setURI-uint256-string-)
 
* [`_setBaseURI(baseURI)`](#ERC1155URIStorage-_setBaseURI-string-)
 
ERC1155
* [`supportsInterface(interfaceId)`](#ERC1155-supportsInterface-bytes4-)
 
* [`balanceOf(account, id)`](#ERC1155-balanceOf-address-uint256-)
 
* [`balanceOfBatch(accounts, ids)`](#ERC1155-balanceOfBatch-address---uint256---)
 
* [`setApprovalForAll(operator, approved)`](#ERC1155-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(account, operator)`](#ERC1155-isApprovedForAll-address-address-)
 
* [`safeTransferFrom(from, to, id, value, data)`](#ERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_update(from, to, ids, values)`](#ERC1155-_update-address-address-uint256---uint256---)
 
* [`_updateWithAcceptanceCheck(from, to, ids, values, data)`](#ERC1155-_updateWithAcceptanceCheck-address-address-uint256---uint256---bytes-)
 
* [`_safeTransferFrom(from, to, id, value, data)`](#ERC1155-_safeTransferFrom-address-address-uint256-uint256-bytes-)
 
* [`_safeBatchTransferFrom(from, to, ids, values, data)`](#ERC1155-_safeBatchTransferFrom-address-address-uint256---uint256---bytes-)
 
* [`_setURI(newuri)`](#ERC1155-_setURI-string-)
 
* [`_mint(to, id, value, data)`](#ERC1155-_mint-address-uint256-uint256-bytes-)
 
* [`_mintBatch(to, ids, values, data)`](#ERC1155-_mintBatch-address-uint256---uint256---bytes-)
 
* [`_burn(from, id, value)`](#ERC1155-_burn-address-uint256-uint256-)
 
* [`_burnBatch(from, ids, values)`](#ERC1155-_burnBatch-address-uint256---uint256---)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC1155-_setApprovalForAll-address-address-bool-)
 
Events
IERC1155
* [`TransferSingle(operator, from, to, id, value)`](#IERC1155-TransferSingle-address-address-address-uint256-uint256-)
 
* [`TransferBatch(operator, from, to, ids, values)`](#IERC1155-TransferBatch-address-address-address-uint256---uint256---)
 
* [`ApprovalForAll(account, operator, approved)`](#IERC1155-ApprovalForAll-address-address-bool-)
 
* [`URI(value, id)`](#IERC1155-URI-string-uint256-)
 
#### [](#ERC1155URIStorage-uri-uint256-)`uri(uint256 tokenId) → string` public
See [`IERC1155MetadataURI.uri`](#IERC1155MetadataURI-uri-uint256-).
This implementation returns the concatenation of the `_baseURI` and the token-specific uri if the latter is set
This enables the following behaviors:
* if `_tokenURIs[tokenId]` is set, then the result is the concatenation of `_baseURI` and `_tokenURIs[tokenId]` (keep in mind that `_baseURI` is empty per default);
 
* if `_tokenURIs[tokenId]` is NOT set then we fallback to `super.uri()` which in most cases will contain `ERC1155._uri`;
 
* if `_tokenURIs[tokenId]` is NOT set, and if the parents do not have a uri value set, then the result is empty.
 
#### [](#ERC1155URIStorage-_setURI-uint256-string-)`_setURI(uint256 tokenId, string tokenURI)` internal
Sets `tokenURI` as the tokenURI of `tokenId`.
#### [](#ERC1155URIStorage-_setBaseURI-string-)`_setBaseURI(string baseURI)` internal
Sets `baseURI` as the `_baseURI` for all tokens
## [](#utilities)Utilities
### [](#ERC1155Holder)`ERC1155Holder`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/utils/ERC1155Holder.sol)
 import "@openzeppelin/contracts/token/ERC1155/utils/ERC1155Holder.sol";
Simple implementation of `IERC1155Receiver` that will allow a contract to hold ERC-1155 tokens.
When inheriting this contract, you must include a way to use the received tokens, otherwise they will be stuck.
Functions
* [`supportsInterface(interfaceId)`](#ERC1155Holder-supportsInterface-bytes4-)
 
* [`onERC1155Received(, , , , )`](#ERC1155Holder-onERC1155Received-address-address-uint256-uint256-bytes-)
 
* [`onERC1155BatchReceived(, , , , )`](#ERC1155Holder-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)
 
#### [](#ERC1155Holder-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC1155Holder-onERC1155Received-address-address-uint256-uint256-bytes-)`onERC1155Received(address, address, uint256, uint256, bytes) → bytes4` public
#### [](#ERC1155Holder-onERC1155BatchReceived-address-address-uint256---uint256---bytes-)`onERC1155BatchReceived(address, address, uint256[], uint256[], bytes) → bytes4` public
### [](#ERC1155Utils)`ERC1155Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC1155/utils/ERC1155Utils.sol)
 import "@openzeppelin/contracts/token/ERC1155/utils/ERC1155Utils.sol";
Library that provide common ERC-1155 utility functions.
_Available since v5.1._
Functions
* [`checkOnERC1155Received(operator, from, to, id, value, data)`](#ERC1155Utils-checkOnERC1155Received-address-address-address-uint256-uint256-bytes-)
 
* [`checkOnERC1155BatchReceived(operator, from, to, ids, values, data)`](#ERC1155Utils-checkOnERC1155BatchReceived-address-address-address-uint256---uint256---bytes-)
 
#### [](#ERC1155Utils-checkOnERC1155Received-address-address-address-uint256-uint256-bytes-)`checkOnERC1155Received(address operator, address from, address to, uint256 id, uint256 value, bytes data)` internal
Performs an acceptance check for the provided `operator` by calling [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) on the `to` address. The `operator` is generally the address that initiated the token transfer (i.e. `msg.sender`).
The acceptance call is not executed and treated as a no-op if the target address doesn’t contain code (i.e. an EOA). Otherwise, the recipient must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value to accept the transfer.
#### [](#ERC1155Utils-checkOnERC1155BatchReceived-address-address-address-uint256---uint256---bytes-)`checkOnERC1155BatchReceived(address operator, address from, address to, uint256[] ids, uint256[] values, bytes data)` internal
Performs a batch acceptance check for the provided `operator` by calling [`IERC1155Receiver.onERC1155BatchReceived`](#IERC1155Receiver-onERC1155BatchReceived-address-address-uint256---uint256---bytes-) on the `to` address. The `operator` is generally the address that initiated the token transfer (i.e. `msg.sender`).
The acceptance call is not executed and treated as a no-op if the target address doesn’t contain code (i.e. an EOA). Otherwise, the recipient must implement [`IERC1155Receiver.onERC1155Received`](#IERC1155Receiver-onERC1155Received-address-address-uint256-uint256-bytes-) and return the acceptance magic value to accept the transfer.

# [Proxies - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/proxy) 
 _https://docs.openzeppelin.com/contracts/5.x/api/proxy_

This is a low-level set of contracts implementing different proxy patterns with and without upgradeability. For an in-depth overview of this pattern check out the [Proxy Upgrade Pattern](https://docs.openzeppelin.com/upgrades-plugins/proxies) page.
Most of the proxies below are built on an abstract base contract.
* [`Proxy`](#Proxy): Abstract contract implementing the core delegation functionality.
 
In order to avoid clashes with the storage variables of the implementation contract behind a proxy, we use [ERC-1967](https://eips.ethereum.org/EIPS/eip-1967) storage slots.
* [`ERC1967Utils`](#ERC1967Utils): Internal functions to get and set the storage slots defined in ERC-1967.
 
* [`ERC1967Proxy`](#ERC1967Proxy): A proxy using ERC-1967 storage slots. Not upgradeable by default.
 
There are two alternative ways to add upgradeability to an ERC-1967 proxy. Their differences are explained below in [Transparent vs UUPS Proxies](#transparent-vs-uups).
* [`TransparentUpgradeableProxy`](#TransparentUpgradeableProxy): A proxy with a built-in immutable admin and upgrade interface.
 
* [`UUPSUpgradeable`](#UUPSUpgradeable): An upgradeability mechanism to be included in the implementation contract.
 
Using upgradeable proxies correctly and securely is a difficult task that requires deep knowledge of the proxy pattern, Solidity, and the EVM. Unless you want a lot of low level control, we recommend using the [OpenZeppelin Upgrades Plugins](https://docs.openzeppelin.com/upgrades-plugins/) for Hardhat and Foundry.
A different family of proxies are beacon proxies. This pattern, popularized by Dharma, allows multiple proxies to be upgraded to a different implementation in a single transaction.
* [`BeaconProxy`](#BeaconProxy): A proxy that retrieves its implementation from a beacon contract.
 
* [`UpgradeableBeacon`](#UpgradeableBeacon): A beacon contract with a built in admin that can upgrade the [`BeaconProxy`](#BeaconProxy) pointing to it.
 
In this pattern, the proxy contract doesn’t hold the implementation address in storage like an ERC-1967 proxy. Instead, the address is stored in a separate beacon contract. The `upgrade` operations are sent to the beacon instead of to the proxy contract, and all proxies that follow that beacon are automatically upgraded.
Outside the realm of upgradeability, proxies can also be useful to make cheap contract clones, such as those created by an on-chain factory contract that creates many instances of the same contract. These instances are designed to be both cheap to deploy, and cheap to call.
* [`Clones`](#Clones): A library that can deploy cheap minimal non-upgradeable proxies.
 
## [](#transparent-vs-uups)Transparent vs UUPS Proxies
The original proxies included in OpenZeppelin followed the [Transparent Proxy Pattern](https://blog.openzeppelin.com/the-transparent-proxy-pattern/). While this pattern is still provided, our recommendation is now shifting towards UUPS proxies, which are both lightweight and versatile. The name UUPS comes from [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822), which first documented the pattern.
While both of these share the same interface for upgrades, in UUPS proxies the upgrade is handled by the implementation, and can eventually be removed. Transparent proxies, on the other hand, include the upgrade and admin logic in the proxy itself. This means [`TransparentUpgradeableProxy`](#TransparentUpgradeableProxy) is more expensive to deploy than what is possible with UUPS proxies.
UUPS proxies are implemented using an [`ERC1967Proxy`](#ERC1967Proxy). Note that this proxy is not by itself upgradeable. It is the role of the implementation to include, alongside the contract’s logic, all the code necessary to update the implementation’s address that is stored at a specific slot in the proxy’s storage space. This is where the [`UUPSUpgradeable`](#UUPSUpgradeable) contract comes in. Inheriting from it (and overriding the [`_authorizeUpgrade`](#UUPSUpgradeable-_authorizeUpgrade-address-) function with the relevant access control mechanism) will turn your contract into a UUPS compliant implementation.
Note that since both proxies use the same storage slot for the implementation address, using a UUPS compliant implementation with a [`TransparentUpgradeableProxy`](#TransparentUpgradeableProxy) might allow non-admins to perform upgrade operations.
By default, the upgrade functionality included in [`UUPSUpgradeable`](#UUPSUpgradeable) contains a security mechanism that will prevent any upgrades to a non UUPS compliant implementation. This prevents upgrades to an implementation contract that wouldn’t contain the necessary upgrade mechanism, as it would lock the upgradeability of the proxy forever. This security mechanism can be bypassed by either of:
* Adding a flag mechanism in the implementation that will disable the upgrade function when triggered.
 
* Upgrading to an implementation that features an upgrade mechanism without the additional security check, and then upgrading again to another implementation without the upgrade mechanism.
 
The current implementation of this security mechanism uses [ERC-1822](https://eips.ethereum.org/EIPS/eip-1822) to detect the storage slot used by the implementation. A previous implementation, now deprecated, relied on a rollback check. It is possible to upgrade from a contract using the old mechanism to a new one. The inverse is however not possible, as old implementations (before version 4.5) did not include the ERC-1822 interface.
## [](#core)Core
### [](#Proxy)`Proxy`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/Proxy.sol)
 import "@openzeppelin/contracts/proxy/Proxy.sol";
This abstract contract provides a fallback function that delegates all calls to another contract using the EVM instruction `delegatecall`. We refer to the second contract as the _implementation_ behind the proxy, and it has to be specified by overriding the virtual [`_implementation`](#Proxy-_implementation--) function.
Additionally, delegation to the implementation can be triggered manually through the [`_fallback`](#Proxy-_fallback--) function, or to a different contract through the [`_delegate`](#Proxy-_delegate-address-) function.
The success and return data of the delegated call will be returned back to the caller of the proxy.
#### [](#Proxy-_delegate-address-)`_delegate(address implementation)` internal
Delegates the current call to `implementation`.
This function does not return to its internal call site, it will return directly to the external caller.
#### [](#Proxy-_implementation--)`_implementation() → address` internal
This is a virtual function that should be overridden so it returns the address to which the fallback function and [`_fallback`](#Proxy-_fallback--) should delegate.
#### [](#Proxy-_fallback--)`_fallback()` internal
Delegates the current call to the address returned by `_implementation()`.
This function does not return to its internal call site, it will return directly to the external caller.
#### [](#Proxy-fallback--)`fallback()` external
Fallback function that delegates calls to the address returned by `_implementation()`. Will run if no other function in the contract matches the call data.
## [](#erc_1967)ERC-1967
### [](#ERC1967Proxy)`ERC1967Proxy`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/ERC1967/ERC1967Proxy.sol)
 import "@openzeppelin/contracts/proxy/ERC1967/ERC1967Proxy.sol";
This contract implements an upgradeable proxy. It is upgradeable because calls are delegated to an implementation address that can be changed. This address is stored in storage in the location specified by [ERC-1967](https://eips.ethereum.org/EIPS/eip-1967), so that it doesn’t conflict with the storage layout of the implementation behind the proxy.
#### [](#ERC1967Proxy-constructor-address-bytes-)`constructor(address implementation, bytes _data)` public
Initializes the upgradeable proxy with an initial implementation specified by `implementation`.
If `_data` is nonempty, it’s used as data in a delegate call to `implementation`. This will typically be an encoded function call, and allows initializing the storage of the proxy like a Solidity constructor.
Requirements:
* If `data` is empty, `msg.value` must be zero.
 
#### [](#ERC1967Proxy-_implementation--)`_implementation() → address` internal
Returns the current implementation address.
To get this value clients can read directly from the storage slot shown below (specified by ERC-1967) using the [`eth_getStorageAt`](https://eth.wiki/json-rpc/API#eth_getstorageat) RPC call. `0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc`
### [](#ERC1967Utils)`ERC1967Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/ERC1967/ERC1967Utils.sol)
 import "@openzeppelin/contracts/proxy/ERC1967/ERC1967Utils.sol";
This library provides getters and event emitting update functions for [ERC-1967](https://eips.ethereum.org/EIPS/eip-1967) slots.
Functions
* [`getImplementation()`](#ERC1967Utils-getImplementation--)
 
* [`upgradeToAndCall(newImplementation, data)`](#ERC1967Utils-upgradeToAndCall-address-bytes-)
 
* [`getAdmin()`](#ERC1967Utils-getAdmin--)
 
* [`changeAdmin(newAdmin)`](#ERC1967Utils-changeAdmin-address-)
 
* [`getBeacon()`](#ERC1967Utils-getBeacon--)
 
* [`upgradeBeaconToAndCall(newBeacon, data)`](#ERC1967Utils-upgradeBeaconToAndCall-address-bytes-)
 
Errors
* [`ERC1967InvalidImplementation(implementation)`](#ERC1967Utils-ERC1967InvalidImplementation-address-)
 
* [`ERC1967InvalidAdmin(admin)`](#ERC1967Utils-ERC1967InvalidAdmin-address-)
 
* [`ERC1967InvalidBeacon(beacon)`](#ERC1967Utils-ERC1967InvalidBeacon-address-)
 
* [`ERC1967NonPayable()`](#ERC1967Utils-ERC1967NonPayable--)
 
#### [](#ERC1967Utils-getImplementation--)`getImplementation() → address` internal
Returns the current implementation address.
#### [](#ERC1967Utils-upgradeToAndCall-address-bytes-)`upgradeToAndCall(address newImplementation, bytes data)` internal
Performs implementation upgrade with additional setup call if data is nonempty. This function is payable only if the setup call is performed, otherwise `msg.value` is rejected to avoid stuck value in the contract.
#### [](#ERC1967Utils-getAdmin--)`getAdmin() → address` internal
Returns the current admin.
To get this value clients can read directly from the storage slot shown below (specified by ERC-1967) using the [`eth_getStorageAt`](https://eth.wiki/json-rpc/API#eth_getstorageat) RPC call. `0xb53127684a568b3173ae13b9f8a6016e243e63b6e8ee1178d6a717850b5d6103`
#### [](#ERC1967Utils-changeAdmin-address-)`changeAdmin(address newAdmin)` internal
Changes the admin of the proxy.
#### [](#ERC1967Utils-getBeacon--)`getBeacon() → address` internal
Returns the current beacon.
#### [](#ERC1967Utils-upgradeBeaconToAndCall-address-bytes-)`upgradeBeaconToAndCall(address newBeacon, bytes data)` internal
Change the beacon and trigger a setup call if data is nonempty. This function is payable only if the setup call is performed, otherwise `msg.value` is rejected to avoid stuck value in the contract.
Invoking this function has no effect on an instance of [`BeaconProxy`](#BeaconProxy) since v5, since it uses an immutable beacon without looking at the value of the ERC-1967 beacon slot for efficiency.
#### [](#ERC1967Utils-ERC1967InvalidImplementation-address-)`ERC1967InvalidImplementation(address implementation)` error
The `implementation` of the proxy is invalid.
#### [](#ERC1967Utils-ERC1967InvalidAdmin-address-)`ERC1967InvalidAdmin(address admin)` error
The `admin` of the proxy is invalid.
#### [](#ERC1967Utils-ERC1967InvalidBeacon-address-)`ERC1967InvalidBeacon(address beacon)` error
The `beacon` of the proxy is invalid.
#### [](#ERC1967Utils-ERC1967NonPayable--)`ERC1967NonPayable()` error
An upgrade function sees `msg.value > 0` that may be lost.
#### [](#ERC1967Utils-IMPLEMENTATION_SLOT-bytes32)`bytes32 IMPLEMENTATION_SLOT` internal constant
Storage slot with the address of the current implementation. This is the keccak-256 hash of "eip1967.proxy.implementation" subtracted by 1.
#### [](#ERC1967Utils-ADMIN_SLOT-bytes32)`bytes32 ADMIN_SLOT` internal constant
Storage slot with the admin of the contract. This is the keccak-256 hash of "eip1967.proxy.admin" subtracted by 1.
#### [](#ERC1967Utils-BEACON_SLOT-bytes32)`bytes32 BEACON_SLOT` internal constant
The storage slot of the UpgradeableBeacon contract which defines the implementation for this proxy. This is the keccak-256 hash of "eip1967.proxy.beacon" subtracted by 1.
## [](#transparent_proxy)Transparent Proxy
### [](#TransparentUpgradeableProxy)`TransparentUpgradeableProxy`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/transparent/TransparentUpgradeableProxy.sol)
 import "@openzeppelin/contracts/proxy/transparent/TransparentUpgradeableProxy.sol";
This contract implements a proxy that is upgradeable through an associated [`ProxyAdmin`](#ProxyAdmin) instance.
1. If any account other than the admin calls the proxy, the call will be forwarded to the implementation, even if that call matches the [`ITransparentUpgradeableProxy.upgradeToAndCall`](#ITransparentUpgradeableProxy-upgradeToAndCall-address-bytes-) function exposed by the proxy itself.
 
2. If the admin calls the proxy, it can call the `upgradeToAndCall` function but any other call won’t be forwarded to the implementation. If the admin tries to call a function on the implementation it will fail with an error indicating the proxy admin cannot fallback to the target implementation.
 
These properties mean that the admin account can only be used for upgrading the proxy, so it’s best if it’s a dedicated account that is not used for anything else. This will avoid headaches due to sudden errors when trying to call a function from the proxy implementation. For this reason, the proxy deploys an instance of [`ProxyAdmin`](#ProxyAdmin) and allows upgrades only if they come through it. You should think of the `ProxyAdmin` instance as the administrative interface of the proxy, including the ability to change who can trigger upgrades by transferring ownership.
The real interface of this proxy is that defined in `ITransparentUpgradeableProxy`. This contract does not inherit from that interface, and instead `upgradeToAndCall` is implicitly implemented using a custom dispatch mechanism in `_fallback`. Consequently, the compiler will not produce an ABI for this contract. This is necessary to fully implement transparency without decoding reverts caused by selector clashes between the proxy and the implementation.
This proxy does not inherit from [`Context`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Context) deliberately. The [`ProxyAdmin`](#ProxyAdmin) of this contract won’t send a meta-transaction in any way, and any other meta-transaction setup should be made in the implementation contract.
This contract avoids unnecessary storage reads by setting the admin only during construction as an immutable variable, preventing any changes thereafter. However, the admin slot defined in ERC-1967 can still be overwritten by the implementation logic pointed to by this proxy. In such cases, the contract may end up in an undesirable state where the admin slot is different from the actual admin. Relying on the value of the admin slot is generally fine if the implementation is trusted.
It is not recommended to extend this contract to add additional external functions. If you do so, the compiler will not check that there are no selector conflicts, due to the note above. A selector clash between any new function and the functions declared in [`ITransparentUpgradeableProxy`](#ITransparentUpgradeableProxy) will be resolved in favor of the new one. This could render the `upgradeToAndCall` function inaccessible, preventing upgradeability and compromising transparency.
#### [](#TransparentUpgradeableProxy-constructor-address-address-bytes-)`constructor(address _logic, address initialOwner, bytes _data)` public
Initializes an upgradeable proxy managed by an instance of a [`ProxyAdmin`](#ProxyAdmin) with an `initialOwner`, backed by the implementation at `_logic`, and optionally initialized with `_data` as explained in [`ERC1967Proxy.constructor`](#ERC1967Proxy-constructor-address-bytes-).
#### [](#TransparentUpgradeableProxy-_proxyAdmin--)`_proxyAdmin() → address` internal
Returns the admin of this proxy.
#### [](#TransparentUpgradeableProxy-_fallback--)`_fallback()` internal
If caller is the admin process the call internally, otherwise transparently fallback to the proxy behavior.
#### [](#TransparentUpgradeableProxy-ProxyDeniedAdminAccess--)`ProxyDeniedAdminAccess()` error
The proxy caller is the current admin, and can’t fallback to the proxy target.
### [](#ProxyAdmin)`ProxyAdmin`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/transparent/ProxyAdmin.sol)
 import "@openzeppelin/contracts/proxy/transparent/ProxyAdmin.sol";
This is an auxiliary contract meant to be assigned as the admin of a [`TransparentUpgradeableProxy`](#TransparentUpgradeableProxy). For an explanation of why you would want to use this see the documentation for [`TransparentUpgradeableProxy`](#TransparentUpgradeableProxy).
#### [](#ProxyAdmin-constructor-address-)`constructor(address initialOwner)` public
Sets the initial owner who can perform upgrades.
#### [](#ProxyAdmin-upgradeAndCall-contract-ITransparentUpgradeableProxy-address-bytes-)`upgradeAndCall(contract ITransparentUpgradeableProxy proxy, address implementation, bytes data)` public
Upgrades `proxy` to `implementation` and calls a function on the new implementation. See [`TransparentUpgradeableProxy._dispatchUpgradeToAndCall`](#TransparentUpgradeableProxy-_dispatchUpgradeToAndCall--).
Requirements:
* This contract must be the admin of `proxy`.
 
* If `data` is empty, `msg.value` must be zero.
 
#### [](#ProxyAdmin-UPGRADE_INTERFACE_VERSION-string)`UPGRADE_INTERFACE_VERSION() → string` public
The version of the upgrade interface of the contract. If this getter is missing, both `upgrade(address,address)` and `upgradeAndCall(address,address,bytes)` are present, and `upgrade` must be used if no function should be called, while `upgradeAndCall` will invoke the `receive` function if the third argument is the empty byte string. If the getter returns `"5.0.0"`, only `upgradeAndCall(address,address,bytes)` is present, and the third argument must be the empty byte string if no function should be called, making it impossible to invoke the `receive` function during an upgrade.
## [](#beacon)Beacon
### [](#BeaconProxy)`BeaconProxy`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/beacon/BeaconProxy.sol)
 import "@openzeppelin/contracts/proxy/beacon/BeaconProxy.sol";
This contract implements a proxy that gets the implementation address for each call from an [`UpgradeableBeacon`](#UpgradeableBeacon).
The beacon address can only be set once during construction, and cannot be changed afterwards. It is stored in an immutable variable to avoid unnecessary storage reads, and also in the beacon storage slot specified by [ERC-1967](https://eips.ethereum.org/EIPS/eip-1967) so that it can be accessed externally.
Since the beacon address can never be changed, you must ensure that you either control the beacon, or trust the beacon to not upgrade the implementation maliciously.
Do not use the implementation logic to modify the beacon storage slot. Doing so would leave the proxy in an inconsistent state where the beacon storage slot does not match the beacon address.
#### [](#BeaconProxy-constructor-address-bytes-)`constructor(address beacon, bytes data)` public
Initializes the proxy with `beacon`.
If `data` is nonempty, it’s used as data in a delegate call to the implementation returned by the beacon. This will typically be an encoded function call, and allows initializing the storage of the proxy like a Solidity constructor.
Requirements:
* `beacon` must be a contract with the interface [`IBeacon`](#IBeacon).
 
* If `data` is empty, `msg.value` must be zero.
 
#### [](#BeaconProxy-_implementation--)`_implementation() → address` internal
Returns the current implementation address of the associated beacon.
#### [](#BeaconProxy-_getBeacon--)`_getBeacon() → address` internal
Returns the beacon.
### [](#IBeacon)`IBeacon`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/beacon/IBeacon.sol)
 import "@openzeppelin/contracts/proxy/beacon/IBeacon.sol";
This is the interface that [`BeaconProxy`](#BeaconProxy) expects of its beacon.
Functions
* [`implementation()`](#IBeacon-implementation--)
 
#### [](#IBeacon-implementation--)`implementation() → address` external
Must return an address that can be used as a delegate call target.
[`UpgradeableBeacon`](#UpgradeableBeacon) will check that this address is a contract.
### [](#UpgradeableBeacon)`UpgradeableBeacon`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/beacon/UpgradeableBeacon.sol)
 import "@openzeppelin/contracts/proxy/beacon/UpgradeableBeacon.sol";
This contract is used in conjunction with one or more instances of [`BeaconProxy`](#BeaconProxy) to determine their implementation contract, which is where they will delegate all function calls.
An owner is able to change the implementation the beacon points to, thus upgrading the proxies that use this beacon.
#### [](#UpgradeableBeacon-constructor-address-address-)`constructor(address implementation_, address initialOwner)` public
Sets the address of the initial implementation, and the initial owner who can upgrade the beacon.
#### [](#UpgradeableBeacon-implementation--)`implementation() → address` public
Returns the current implementation address.
#### [](#UpgradeableBeacon-upgradeTo-address-)`upgradeTo(address newImplementation)` public
Upgrades the beacon to a new implementation.
Emits an [`Upgraded`](#UpgradeableBeacon-Upgraded-address-) event.
Requirements:
* msg.sender must be the owner of the contract.
 
* `newImplementation` must be a contract.
 
#### [](#UpgradeableBeacon-Upgraded-address-)`Upgraded(address indexed implementation)` event
Emitted when the implementation returned by the beacon is changed.
#### [](#UpgradeableBeacon-BeaconInvalidImplementation-address-)`BeaconInvalidImplementation(address implementation)` error
The `implementation` of the beacon is invalid.
## [](#minimal_clones)Minimal Clones
### [](#Clones)`Clones`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/Clones.sol)
 import "@openzeppelin/contracts/proxy/Clones.sol";
[ERC-1167](https://eips.ethereum.org/EIPS/eip-1167) is a standard for deploying minimal proxy contracts, also known as "clones".
> To simply and cheaply clone contract functionality in an immutable way, this standard specifies a minimal bytecode implementation that delegates all calls to a known, fixed address.
The library includes functions to deploy a proxy using either `create` (traditional deployment) or `create2` (salted deterministic deployment). It also includes functions to predict the addresses of clones deployed using the deterministic method.
Functions
* [`clone(implementation)`](#Clones-clone-address-)
 
* [`clone(implementation, value)`](#Clones-clone-address-uint256-)
 
* [`cloneDeterministic(implementation, salt)`](#Clones-cloneDeterministic-address-bytes32-)
 
* [`cloneDeterministic(implementation, salt, value)`](#Clones-cloneDeterministic-address-bytes32-uint256-)
 
* [`predictDeterministicAddress(implementation, salt, deployer)`](#Clones-predictDeterministicAddress-address-bytes32-address-)
 
* [`predictDeterministicAddress(implementation, salt)`](#Clones-predictDeterministicAddress-address-bytes32-)
 
* [`cloneWithImmutableArgs(implementation, args)`](#Clones-cloneWithImmutableArgs-address-bytes-)
 
* [`cloneWithImmutableArgs(implementation, args, value)`](#Clones-cloneWithImmutableArgs-address-bytes-uint256-)
 
* [`cloneDeterministicWithImmutableArgs(implementation, args, salt)`](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-)
 
* [`cloneDeterministicWithImmutableArgs(implementation, args, salt, value)`](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-uint256-)
 
* [`predictDeterministicAddressWithImmutableArgs(implementation, args, salt, deployer)`](#Clones-predictDeterministicAddressWithImmutableArgs-address-bytes-bytes32-address-)
 
* [`predictDeterministicAddressWithImmutableArgs(implementation, args, salt)`](#Clones-predictDeterministicAddressWithImmutableArgs-address-bytes-bytes32-)
 
* [`fetchCloneArgs(instance)`](#Clones-fetchCloneArgs-address-)
 
#### [](#Clones-clone-address-)`clone(address implementation) → address instance` internal
Deploys and returns the address of a clone that mimics the behavior of `implementation`.
This function uses the create opcode, which should never revert.
#### [](#Clones-clone-address-uint256-)`clone(address implementation, uint256 value) → address instance` internal
Same as [clone](#Clones-clone-address-), but with a `value` parameter to send native currency to the new contract.
Using a non-zero value at creation will require the contract using this function (e.g. a factory) to always have enough balance for new deployments. Consider exposing this function under a payable method.
#### [](#Clones-cloneDeterministic-address-bytes32-)`cloneDeterministic(address implementation, bytes32 salt) → address instance` internal
Deploys and returns the address of a clone that mimics the behavior of `implementation`.
This function uses the create2 opcode and a `salt` to deterministically deploy the clone. Using the same `implementation` and `salt` multiple times will revert, since the clones cannot be deployed twice at the same address.
#### [](#Clones-cloneDeterministic-address-bytes32-uint256-)`cloneDeterministic(address implementation, bytes32 salt, uint256 value) → address instance` internal
Same as [cloneDeterministic](#Clones-cloneDeterministic-address-bytes32-), but with a `value` parameter to send native currency to the new contract.
Using a non-zero value at creation will require the contract using this function (e.g. a factory) to always have enough balance for new deployments. Consider exposing this function under a payable method.
#### [](#Clones-predictDeterministicAddress-address-bytes32-address-)`predictDeterministicAddress(address implementation, bytes32 salt, address deployer) → address predicted` internal
Computes the address of a clone deployed using [`Clones.cloneDeterministic`](#Clones-cloneDeterministic-address-bytes32-uint256-).
#### [](#Clones-predictDeterministicAddress-address-bytes32-)`predictDeterministicAddress(address implementation, bytes32 salt) → address predicted` internal
Computes the address of a clone deployed using [`Clones.cloneDeterministic`](#Clones-cloneDeterministic-address-bytes32-uint256-).
#### [](#Clones-cloneWithImmutableArgs-address-bytes-)`cloneWithImmutableArgs(address implementation, bytes args) → address instance` internal
Deploys and returns the address of a clone that mimics the behavior of `implementation` with custom immutable arguments. These are provided through `args` and cannot be changed after deployment. To access the arguments within the implementation, use [`fetchCloneArgs`](#Clones-fetchCloneArgs-address-).
This function uses the create opcode, which should never revert.
#### [](#Clones-cloneWithImmutableArgs-address-bytes-uint256-)`cloneWithImmutableArgs(address implementation, bytes args, uint256 value) → address instance` internal
Same as [cloneWithImmutableArgs](#Clones-cloneWithImmutableArgs-address-bytes-), but with a `value` parameter to send native currency to the new contract.
Using a non-zero value at creation will require the contract using this function (e.g. a factory) to always have enough balance for new deployments. Consider exposing this function under a payable method.
#### [](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-)`cloneDeterministicWithImmutableArgs(address implementation, bytes args, bytes32 salt) → address instance` internal
Deploys and returns the address of a clone that mimics the behavior of `implementation` with custom immutable arguments. These are provided through `args` and cannot be changed after deployment. To access the arguments within the implementation, use [`fetchCloneArgs`](#Clones-fetchCloneArgs-address-).
This function uses the create2 opcode and a `salt` to deterministically deploy the clone. Using the same `implementation`, `args` and `salt` multiple times will revert, since the clones cannot be deployed twice at the same address.
#### [](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-uint256-)`cloneDeterministicWithImmutableArgs(address implementation, bytes args, bytes32 salt, uint256 value) → address instance` internal
Same as [cloneDeterministicWithImmutableArgs](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-), but with a `value` parameter to send native currency to the new contract.
Using a non-zero value at creation will require the contract using this function (e.g. a factory) to always have enough balance for new deployments. Consider exposing this function under a payable method.
#### [](#Clones-predictDeterministicAddressWithImmutableArgs-address-bytes-bytes32-address-)`predictDeterministicAddressWithImmutableArgs(address implementation, bytes args, bytes32 salt, address deployer) → address predicted` internal
Computes the address of a clone deployed using [`Clones.cloneDeterministicWithImmutableArgs`](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-uint256-).
#### [](#Clones-predictDeterministicAddressWithImmutableArgs-address-bytes-bytes32-)`predictDeterministicAddressWithImmutableArgs(address implementation, bytes args, bytes32 salt) → address predicted` internal
Computes the address of a clone deployed using [`Clones.cloneDeterministicWithImmutableArgs`](#Clones-cloneDeterministicWithImmutableArgs-address-bytes-bytes32-uint256-).
#### [](#Clones-fetchCloneArgs-address-)`fetchCloneArgs(address instance) → bytes` internal
Get the immutable args attached to a clone.
* If `instance` is a clone that was deployed using `clone` or `cloneDeterministic`, this function will return an empty array.
 
* If `instance` is a clone that was deployed using `cloneWithImmutableArgs` or `cloneDeterministicWithImmutableArgs`, this function will return the args array used at creation.
 
* If `instance` is NOT a clone deployed using this library, the behavior is undefined. This function should only be used to check addresses that are known to be clones.
 
#### [](#Clones-CloneArgumentsTooLong--)`CloneArgumentsTooLong()` error
## [](#utils)Utils
### [](#Initializable)`Initializable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/utils/Initializable.sol)
 import "@openzeppelin/contracts/proxy/utils/Initializable.sol";
This is a base contract to aid in writing upgradeable contracts, or any kind of contract that will be deployed behind a proxy. Since proxied contracts do not make use of a constructor, it’s common to move constructor logic to an external initializer function, usually called `initialize`. It then becomes necessary to protect this initializer function so it can only be called once. The [`initializer`](#Initializable-initializer--) modifier provided by this contract will have this effect.
The initialization functions use a version number. Once a version number is used, it is consumed and cannot be reused. This mechanism prevents re-execution of each "step" but allows the creation of new initialization steps in case an upgrade adds a module that needs to be initialized.
For example:
 contract MyToken is ERC20Upgradeable {
 function initialize() initializer public {
 __ERC20_init("MyToken", "MTK");
 }
 }
 
 contract MyTokenV2 is MyToken, ERC20PermitUpgradeable {
 function initializeV2() reinitializer(2) public {
 __ERC20Permit_init("MyToken");
 }
 }
To avoid leaving the proxy in an uninitialized state, the initializer function should be called as early as possible by providing the encoded function call as the `_data` argument to [`ERC1967Proxy.constructor`](#ERC1967Proxy-constructor-address-bytes-).
When used with inheritance, manual care must be taken to not invoke a parent initializer twice, or to ensure that all initializers are idempotent. This is not verified automatically as constructors are by Solidity.
Avoid leaving a contract uninitialized.
An uninitialized contract can be taken over by an attacker. This applies to both a proxy and its implementation contract, which may impact the proxy. To prevent the implementation contract from being used, you should invoke the [`_disableInitializers`](#Initializable-_disableInitializers--) function in the constructor to automatically lock it when it is deployed:
 /// @custom:oz-upgrades-unsafe-allow constructor
 constructor() {
 _disableInitializers();
 }
Functions
* [`_checkInitializing()`](#Initializable-_checkInitializing--)
 
* [`_disableInitializers()`](#Initializable-_disableInitializers--)
 
* [`_getInitializedVersion()`](#Initializable-_getInitializedVersion--)
 
* [`_isInitializing()`](#Initializable-_isInitializing--)
 
* [`_initializableStorageSlot()`](#Initializable-_initializableStorageSlot--)
 
#### [](#Initializable-initializer--)`initializer()` modifier
A modifier that defines a protected initializer function that can be invoked at most once. In its scope, `onlyInitializing` functions can be used to initialize parent contracts.
Similar to `reinitializer(1)`, except that in the context of a constructor an `initializer` may be invoked any number of times. This behavior in the constructor can be useful during testing and is not expected to be used in production.
Emits an [`Initialized`](#Initializable-Initialized-uint64-) event.
#### [](#Initializable-reinitializer-uint64-)`reinitializer(uint64 version)` modifier
A modifier that defines a protected reinitializer function that can be invoked at most once, and only if the contract hasn’t been initialized to a greater version before. In its scope, `onlyInitializing` functions can be used to initialize parent contracts.
A reinitializer may be used after the original initialization step. This is essential to configure modules that are added through upgrades and that require initialization.
When `version` is 1, this modifier is similar to `initializer`, except that functions marked with `reinitializer` cannot be nested. If one is invoked in the context of another, execution will revert.
Note that versions can jump in increments greater than 1; this implies that if multiple reinitializers coexist in a contract, executing them in the right order is up to the developer or operator.
Setting the version to 2\*\*64 - 1 will prevent any future reinitialization.
Emits an [`Initialized`](#Initializable-Initialized-uint64-) event.
#### [](#Initializable-onlyInitializing--)`onlyInitializing()` modifier
Modifier to protect an initialization function so that it can only be invoked by functions with the [`initializer`](#Initializable-initializer--) and [`reinitializer`](#Initializable-reinitializer-uint64-) modifiers, directly or indirectly.
#### [](#Initializable-_checkInitializing--)`_checkInitializing()` internal
Reverts if the contract is not in an initializing state. See [`onlyInitializing`](#Initializable-onlyInitializing--).
#### [](#Initializable-_disableInitializers--)`_disableInitializers()` internal
Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call. Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized to any version. It is recommended to use this to lock implementation contracts that are designed to be called through proxies.
Emits an [`Initialized`](#Initializable-Initialized-uint64-) event the first time it is successfully executed.
#### [](#Initializable-_getInitializedVersion--)`_getInitializedVersion() → uint64` internal
Returns the highest version that has been initialized. See [`reinitializer`](#Initializable-reinitializer-uint64-).
#### [](#Initializable-_isInitializing--)`_isInitializing() → bool` internal
Returns `true` if the contract is currently initializing. See [`onlyInitializing`](#Initializable-onlyInitializing--).
#### [](#Initializable-_initializableStorageSlot--)`_initializableStorageSlot() → bytes32` internal
Pointer to storage slot. Allows integrators to override it with a custom storage location.
Consider following the ERC-7201 formula to derive storage locations.
#### [](#Initializable-Initialized-uint64-)`Initialized(uint64 version)` event
Triggered when the contract has been initialized or reinitialized.
#### [](#Initializable-InvalidInitialization--)`InvalidInitialization()` error
The contract is already initialized.
#### [](#Initializable-NotInitializing--)`NotInitializing()` error
The contract is not initializing.
### [](#UUPSUpgradeable)`UUPSUpgradeable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/proxy/utils/UUPSUpgradeable.sol)
 import "@openzeppelin/contracts/proxy/utils/UUPSUpgradeable.sol";
An upgradeability mechanism designed for UUPS proxies. The functions included here can perform an upgrade of an [`ERC1967Proxy`](#ERC1967Proxy), when this contract is set as the implementation behind such a proxy.
A security mechanism ensures that an upgrade does not turn off upgradeability accidentally, although this risk is reinstated if the upgrade retains upgradeability but removes the security mechanism, e.g. by replacing `UUPSUpgradeable` with a custom implementation of upgrades.
The [`_authorizeUpgrade`](#UUPSUpgradeable-_authorizeUpgrade-address-) function must be overridden to include access restriction to the upgrade mechanism.
Functions
* [`proxiableUUID()`](#UUPSUpgradeable-proxiableUUID--)
 
* [`upgradeToAndCall(newImplementation, data)`](#UUPSUpgradeable-upgradeToAndCall-address-bytes-)
 
* [`_checkProxy()`](#UUPSUpgradeable-_checkProxy--)
 
* [`_checkNotDelegated()`](#UUPSUpgradeable-_checkNotDelegated--)
 
* [`_authorizeUpgrade(newImplementation)`](#UUPSUpgradeable-_authorizeUpgrade-address-)
 
* [`UPGRADE_INTERFACE_VERSION()`](#UUPSUpgradeable-UPGRADE_INTERFACE_VERSION-string)
 
Errors
* [`UUPSUnauthorizedCallContext()`](#UUPSUpgradeable-UUPSUnauthorizedCallContext--)
 
* [`UUPSUnsupportedProxiableUUID(slot)`](#UUPSUpgradeable-UUPSUnsupportedProxiableUUID-bytes32-)
 
#### [](#UUPSUpgradeable-onlyProxy--)`onlyProxy()` modifier
Check that the execution is being performed through a delegatecall call and that the execution context is a proxy contract with an implementation (as defined in ERC-1967) pointing to self. This should only be the case for UUPS and transparent proxies that are using the current contract as their implementation. Execution of a function through ERC-1167 minimal proxies (clones) would not normally pass this test, but is not guaranteed to fail.
#### [](#UUPSUpgradeable-notDelegated--)`notDelegated()` modifier
Check that the execution is not being performed through a delegate call. This allows a function to be callable on the implementing contract but not through proxies.
#### [](#UUPSUpgradeable-proxiableUUID--)`proxiableUUID() → bytes32` external
Implementation of the ERC-1822 [`proxiableUUID`](#UUPSUpgradeable-proxiableUUID--) function. This returns the storage slot used by the implementation. It is used to validate the implementation’s compatibility when performing an upgrade.
A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this function revert if invoked through a proxy. This is guaranteed by the `notDelegated` modifier.
#### [](#UUPSUpgradeable-upgradeToAndCall-address-bytes-)`upgradeToAndCall(address newImplementation, bytes data)` public
Upgrade the implementation of the proxy to `newImplementation`, and subsequently execute the function call encoded in `data`.
Calls [`_authorizeUpgrade`](#UUPSUpgradeable-_authorizeUpgrade-address-).
Emits an [`Upgraded`](#UpgradeableBeacon-Upgraded-address-) event.
#### [](#UUPSUpgradeable-_checkProxy--)`_checkProxy()` internal
Reverts if the execution is not performed via delegatecall or the execution context is not of a proxy with an ERC-1967 compliant implementation pointing to self.
#### [](#UUPSUpgradeable-_checkNotDelegated--)`_checkNotDelegated()` internal
Reverts if the execution is performed via delegatecall. See [`notDelegated`](#UUPSUpgradeable-notDelegated--).
Function that should revert when `msg.sender` is not authorized to upgrade the contract. Called by [`upgradeToAndCall`](#UUPSUpgradeable-upgradeToAndCall-address-bytes-).
 function _authorizeUpgrade(address) internal onlyOwner {}
#### [](#UUPSUpgradeable-UPGRADE_INTERFACE_VERSION-string)`UPGRADE_INTERFACE_VERSION() → string` public
The version of the upgrade interface of the contract. If this getter is missing, both `upgradeTo(address)` and `upgradeToAndCall(address,bytes)` are present, and `upgradeTo` must be used if no function should be called, while `upgradeToAndCall` will invoke the `receive` function if the second argument is the empty byte string. If the getter returns `"5.0.0"`, only `upgradeToAndCall(address,bytes)` is present, and the second argument must be the empty byte string if no function should be called, making it impossible to invoke the `receive` function during an upgrade.
#### [](#UUPSUpgradeable-UUPSUnauthorizedCallContext--)`UUPSUnauthorizedCallContext()` error
The call is from an unauthorized context.
#### [](#UUPSUpgradeable-UUPSUnsupportedProxiableUUID-bytes32-)`UUPSUnsupportedProxiableUUID(bytes32 slot)` error
The storage `slot` is unsupported as a UUID.

# [ERC-721 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/erc721) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/erc721_

For a walk through on how to create an ERC-721 token read our [ERC-721 guide](https://docs.openzeppelin.com/contracts/5.x/erc721).
The ERC specifies four interfaces:
* [`IERC721`](#IERC721): Core functionality required in all compliant implementation.
 
* [`IERC721Metadata`](#IERC721Metadata): Optional extension that adds name, symbol, and token URI, almost always included.
 
* [`IERC721Enumerable`](#IERC721Enumerable): Optional extension that allows enumerating the tokens on chain, often not included since it requires large gas overhead.
 
* [`IERC721Receiver`](#IERC721Receiver): An interface that must be implemented by contracts if they want to accept tokens through `safeTransferFrom`.
 
OpenZeppelin Contracts provides implementations of all four interfaces:
* [`ERC721`](#ERC721): The core and metadata extensions, with a base URI mechanism.
 
* [`ERC721Enumerable`](#ERC721Enumerable): The enumerable extension.
 
* [`ERC721Holder`](#ERC721Holder): A bare bones implementation of the receiver interface.
 
Additionally there are a few of other extensions:
* [`ERC721Consecutive`](#ERC721Consecutive): An implementation of [ERC-2309](https://eips.ethereum.org/EIPS/eip-2309) for minting batches of tokens during construction, in accordance with ERC-721.
 
* [`ERC721URIStorage`](#ERC721URIStorage): A more flexible but more expensive way of storing metadata.
 
* [`ERC721Votes`](#ERC721Votes): Support for voting and vote delegation.
 
* [`ERC721Royalty`](#ERC721Royalty): A way to signal royalty information following ERC-2981.
 
* [`ERC721Pausable`](#ERC721Pausable): A primitive to pause contract operation.
 
* [`ERC721Burnable`](#ERC721Burnable): A way for token holders to burn their own tokens.
 
* [`ERC721Wrapper`](#ERC721Wrapper): Wrapper to create an ERC-721 backed by another ERC-721, with deposit and withdraw methods. Useful in conjunction with [`ERC721Votes`](#ERC721Votes).
 
This core set of contracts is designed to be unopinionated, allowing developers to access the internal functions in ERC-721 (such as [`_mint`](#ERC721-_mint-address-uint256-)) and expose them as external functions in the way they prefer.
## [](#core)Core
### [](#IERC721)`IERC721`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/IERC721.sol)
 import "@openzeppelin/contracts/token/ERC721/IERC721.sol";
Required interface of an ERC-721 compliant contract.
Functions
* [`balanceOf(owner)`](#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](#IERC721-isApprovedForAll-address-address-)
 
Events
* [`Transfer(from, to, tokenId)`](#IERC721-Transfer-address-address-uint256-)
 
* [`Approval(owner, approved, tokenId)`](#IERC721-Approval-address-address-uint256-)
 
* [`ApprovalForAll(owner, operator, approved)`](#IERC721-ApprovalForAll-address-address-bool-)
 
#### [](#IERC721-balanceOf-address-)`balanceOf(address owner) → uint256 balance` external
Returns the number of tokens in `owner`'s account.
#### [](#IERC721-ownerOf-uint256-)`ownerOf(uint256 tokenId) → address owner` external
Returns the owner of the `tokenId` token.
Requirements:
* `tokenId` must exist.
 
#### [](#IERC721-safeTransferFrom-address-address-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 tokenId, bytes data)` external
Safely transfers `tokenId` token from `from` to `to`.
Requirements:
* `from` cannot be the zero address.
 
* `to` cannot be the zero address.
 
* `tokenId` token must exist and be owned by `from`.
 
* If the caller is not `from`, it must be approved to move this token by either [`approve`](#IERC721-approve-address-uint256-) or [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#IERC721-safeTransferFrom-address-address-uint256-)`safeTransferFrom(address from, address to, uint256 tokenId)` external
Safely transfers `tokenId` token from `from` to `to`, checking first that contract recipients are aware of the ERC-721 protocol to prevent tokens from being forever locked.
Requirements:
* `from` cannot be the zero address.
 
* `to` cannot be the zero address.
 
* `tokenId` token must exist and be owned by `from`.
 
* If the caller is not `from`, it must have been allowed to move this token by either [`approve`](#IERC721-approve-address-uint256-) or [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#IERC721-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 tokenId)` external
Transfers `tokenId` token from `from` to `to`.
Note that the caller is responsible to confirm that the recipient is capable of receiving ERC-721 or else they may be permanently lost. Usage of [`safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-) prevents loss, though the caller must understand this adds an external call which potentially creates a reentrancy vulnerability.
Requirements:
* `from` cannot be the zero address.
 
* `to` cannot be the zero address.
 
* `tokenId` token must be owned by `from`.
 
* If the caller is not `from`, it must be approved to move this token by either [`approve`](#IERC721-approve-address-uint256-) or [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#IERC721-approve-address-uint256-)`approve(address to, uint256 tokenId)` external
Gives permission to `to` to transfer `tokenId` token to another account. The approval is cleared when the token is transferred.
Only a single account can be approved at a time, so approving the zero address clears previous approvals.
Requirements:
* The caller must own the token or be an approved operator.
 
* `tokenId` must exist.
 
Emits an [`Approval`](#IERC721-Approval-address-address-uint256-) event.
#### [](#IERC721-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` external
Approve or remove `operator` as an operator for the caller. Operators can call [`transferFrom`](#IERC721-transferFrom-address-address-uint256-) or [`safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-) for any token owned by the caller.
Requirements:
* The `operator` cannot be the address zero.
 
Emits an [`ApprovalForAll`](#IERC721-ApprovalForAll-address-address-bool-) event.
#### [](#IERC721-getApproved-uint256-)`getApproved(uint256 tokenId) → address operator` external
Returns the account approved for `tokenId` token.
Requirements:
* `tokenId` must exist.
 
#### [](#IERC721-isApprovedForAll-address-address-)`isApprovedForAll(address owner, address operator) → bool` external
Returns if the `operator` is allowed to manage all of the assets of `owner`.
See [`setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-)
#### [](#IERC721-Transfer-address-address-uint256-)`Transfer(address indexed from, address indexed to, uint256 indexed tokenId)` event
Emitted when `tokenId` token is transferred from `from` to `to`.
#### [](#IERC721-Approval-address-address-uint256-)`Approval(address indexed owner, address indexed approved, uint256 indexed tokenId)` event
Emitted when `owner` enables `approved` to manage the `tokenId` token.
#### [](#IERC721-ApprovalForAll-address-address-bool-)`ApprovalForAll(address indexed owner, address indexed operator, bool approved)` event
Emitted when `owner` enables or disables (`approved`) `operator` to manage all of its assets.
### [](#IERC721Metadata)`IERC721Metadata`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/IERC721Metadata.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/IERC721Metadata.sol";
Functions
* [`name()`](#IERC721Metadata-name--)
 
* [`symbol()`](#IERC721Metadata-symbol--)
 
* [`tokenURI(tokenId)`](#IERC721Metadata-tokenURI-uint256-)
 
IERC721
* [`balanceOf(owner)`](#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](#IERC721-isApprovedForAll-address-address-)
 
#### [](#IERC721Metadata-name--)`name() → string` external
Returns the token collection name.
#### [](#IERC721Metadata-symbol--)`symbol() → string` external
Returns the token collection symbol.
#### [](#IERC721Metadata-tokenURI-uint256-)`tokenURI(uint256 tokenId) → string` external
Returns the Uniform Resource Identifier (URI) for `tokenId` token.
### [](#IERC721Enumerable)`IERC721Enumerable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/IERC721Enumerable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/IERC721Enumerable.sol";
Functions
* [`totalSupply()`](#IERC721Enumerable-totalSupply--)
 
* [`tokenOfOwnerByIndex(owner, index)`](#IERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)
 
* [`tokenByIndex(index)`](#IERC721Enumerable-tokenByIndex-uint256-)
 
IERC721
* [`balanceOf(owner)`](#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](#IERC721-isApprovedForAll-address-address-)
 
#### [](#IERC721Enumerable-totalSupply--)`totalSupply() → uint256` external
Returns the total amount of tokens stored by the contract.
#### [](#IERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)`tokenOfOwnerByIndex(address owner, uint256 index) → uint256` external
Returns a token ID owned by `owner` at a given `index` of its token list. Use along with [`balanceOf`](#IERC721-balanceOf-address-) to enumerate all of `owner`'s tokens.
#### [](#IERC721Enumerable-tokenByIndex-uint256-)`tokenByIndex(uint256 index) → uint256` external
Returns a token ID at a given `index` of all the tokens stored by the contract. Use along with [`totalSupply`](#IERC721Enumerable-totalSupply--) to enumerate all tokens.
### [](#ERC721)`ERC721`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/ERC721.sol)
 import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
Implementation of [ERC-721](https://eips.ethereum.org/EIPS/eip-721) Non-Fungible Token Standard, including the Metadata extension, but not including the Enumerable extension, which is available separately as [`ERC721Enumerable`](#ERC721Enumerable).
Functions
* [`constructor(name_, symbol_)`](#ERC721-constructor-string-string-)
 
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721-constructor-string-string-)`constructor(string name_, string symbol_)` internal
Initializes the contract by setting a `name` and a `symbol` to the token collection.
#### [](#ERC721-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC721-balanceOf-address-)`balanceOf(address owner) → uint256` public
See [`IERC721.balanceOf`](#IERC721-balanceOf-address-).
#### [](#ERC721-ownerOf-uint256-)`ownerOf(uint256 tokenId) → address` public
See [`IERC721.ownerOf`](#IERC721-ownerOf-uint256-).
#### [](#ERC721-name--)`name() → string` public
See [`IERC721Metadata.name`](#IERC721Metadata-name--).
#### [](#ERC721-symbol--)`symbol() → string` public
See [`IERC721Metadata.symbol`](#IERC721Metadata-symbol--).
#### [](#ERC721-tokenURI-uint256-)`tokenURI(uint256 tokenId) → string` public
See [`IERC721Metadata.tokenURI`](#IERC721Metadata-tokenURI-uint256-).
#### [](#ERC721-_baseURI--)`_baseURI() → string` internal
Base URI for computing [`tokenURI`](#ERC721-tokenURI-uint256-). If set, the resulting URI for each token will be the concatenation of the `baseURI` and the `tokenId`. Empty by default, can be overridden in child contracts.
#### [](#ERC721-approve-address-uint256-)`approve(address to, uint256 tokenId)` public
See [`IERC721.approve`](#IERC721-approve-address-uint256-).
#### [](#ERC721-getApproved-uint256-)`getApproved(uint256 tokenId) → address` public
See [`IERC721.getApproved`](#IERC721-getApproved-uint256-).
#### [](#ERC721-setApprovalForAll-address-bool-)`setApprovalForAll(address operator, bool approved)` public
#### [](#ERC721-isApprovedForAll-address-address-)`isApprovedForAll(address owner, address operator) → bool` public
See [`IERC721.isApprovedForAll`](#IERC721-isApprovedForAll-address-address-).
#### [](#ERC721-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 tokenId)` public
See [`IERC721.transferFrom`](#IERC721-transferFrom-address-address-uint256-).
#### [](#ERC721-safeTransferFrom-address-address-uint256-)`safeTransferFrom(address from, address to, uint256 tokenId)` public
See [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-).
#### [](#ERC721-safeTransferFrom-address-address-uint256-bytes-)`safeTransferFrom(address from, address to, uint256 tokenId, bytes data)` public
See [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-).
#### [](#ERC721-_ownerOf-uint256-)`_ownerOf(uint256 tokenId) → address` internal
Returns the owner of the `tokenId`. Does NOT revert if token doesn’t exist
Any overrides to this function that add ownership of tokens not tracked by the core ERC-721 logic MUST be matched with the use of [`_increaseBalance`](#ERC721-_increaseBalance-address-uint128-) to keep balances consistent with ownership. The invariant to preserve is that for any address `a` the value returned by `balanceOf(a)` must be equal to the number of tokens such that `_ownerOf(tokenId)` is `a`.
#### [](#ERC721-_getApproved-uint256-)`_getApproved(uint256 tokenId) → address` internal
Returns the approved address for `tokenId`. Returns 0 if `tokenId` is not minted.
Returns whether `spender` is allowed to manage ``owner’s tokens, or `tokenId`` in particular (ignoring whether it is owned by `owner`).
This function assumes that `owner` is the actual owner of `tokenId` and does not verify this assumption.
#### [](#ERC721-_checkAuthorized-address-address-uint256-)`_checkAuthorized(address owner, address spender, uint256 tokenId)` internal
Checks if `spender` can operate on `tokenId`, assuming the provided `owner` is the actual owner. Reverts if: - `spender` does not have approval from `owner` for `tokenId`. - `spender` does not have approval to manage all of \`owner’s assets.
This function assumes that `owner` is the actual owner of `tokenId` and does not verify this assumption.
#### [](#ERC721-_increaseBalance-address-uint128-)`_increaseBalance(address account, uint128 value)` internal
Unsafe write access to the balances, used by extensions that "mint" tokens using an [`ownerOf`](#ERC721-ownerOf-uint256-) override.
the value is limited to type(uint128).max. This protect against \_balance overflow. It is unrealistic that a uint256 would ever overflow from increments when these increments are bounded to uint128 values.
Increasing an account’s balance using this function tends to be paired with an override of the [`_ownerOf`](#ERC721-_ownerOf-uint256-) function to resolve the ownership of the corresponding tokens so that balances and ownership remain consistent with one another.
#### [](#ERC721-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
Transfers `tokenId` from its current owner to `to`, or alternatively mints (or burns) if the current owner (or `to`) is the zero address. Returns the owner of the `tokenId` before the update.
The `auth` argument is optional. If the value passed is non 0, then this function will check that `auth` is either the owner of the token, or approved to operate on the token (by the owner).
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
If overriding this function in a way that tracks balances, see also [`_increaseBalance`](#ERC721-_increaseBalance-address-uint128-).
#### [](#ERC721-_mint-address-uint256-)`_mint(address to, uint256 tokenId)` internal
Mints `tokenId` and transfers it to `to`.
Usage of this method is discouraged, use [`_safeMint`](#ERC721-_safeMint-address-uint256-bytes-) whenever possible
Requirements:
* `tokenId` must not exist.
 
* `to` cannot be the zero address.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeMint-address-uint256-)`_safeMint(address to, uint256 tokenId)` internal
Mints `tokenId`, transfers it to `to` and checks for `to` acceptance.
Requirements:
* `tokenId` must not exist.
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeMint-address-uint256-bytes-)`_safeMint(address to, uint256 tokenId, bytes data)` internal
Same as [`_safeMint`](#ERC721-_safeMint-address-uint256-), with an additional `data` parameter which is forwarded in [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) to contract recipients.
#### [](#ERC721-_burn-uint256-)`_burn(uint256 tokenId)` internal
Destroys `tokenId`. The approval is cleared when the token is burned. This is an internal function that does not check if the sender is authorized to operate on the token.
Requirements:
* `tokenId` must exist.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_transfer-address-address-uint256-)`_transfer(address from, address to, uint256 tokenId)` internal
Transfers `tokenId` from `from` to `to`. As opposed to [`transferFrom`](#ERC721-transferFrom-address-address-uint256-), this imposes no restrictions on msg.sender.
Requirements:
* `to` cannot be the zero address.
 
* `tokenId` token must be owned by `from`.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeTransfer-address-address-uint256-)`_safeTransfer(address from, address to, uint256 tokenId)` internal
Safely transfers `tokenId` token from `from` to `to`, checking that contract recipients are aware of the ERC-721 standard to prevent tokens from being forever locked.
`data` is additional data, it has no specified format and it is sent in call to `to`.
This internal function is like [`safeTransferFrom`](#ERC721-safeTransferFrom-address-address-uint256-bytes-) in the sense that it invokes [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) on the receiver, and can be used to e.g. implement alternative mechanisms to perform token transfer, such as signature-based.
Requirements:
* `tokenId` token must exist and be owned by `from`.
 
* `to` cannot be the zero address.
 
* `from` cannot be the zero address.
 
* If `to` refers to a smart contract, it must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-), which is called upon a safe transfer.
 
Emits a [`Transfer`](#IERC721-Transfer-address-address-uint256-) event.
#### [](#ERC721-_safeTransfer-address-address-uint256-bytes-)`_safeTransfer(address from, address to, uint256 tokenId, bytes data)` internal
Same as [`_safeTransfer`](#ERC721-_safeTransfer-address-address-uint256-), with an additional `data` parameter which is forwarded in [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) to contract recipients.
#### [](#ERC721-_approve-address-uint256-address-)`_approve(address to, uint256 tokenId, address auth)` internal
Approve `to` to operate on `tokenId`
The `auth` argument is optional. If the value passed is non 0, then this function will check that `auth` is either the owner of the token, or approved to operate on all tokens held by this owner.
Emits an [`Approval`](#IERC721-Approval-address-address-uint256-) event.
Overrides to this logic should be done to the variant with an additional `bool emitEvent` argument.
#### [](#ERC721-_approve-address-uint256-address-bool-)`_approve(address to, uint256 tokenId, address auth, bool emitEvent)` internal
Variant of `_approve` with an optional flag to enable or disable the [`Approval`](#IERC721-Approval-address-address-uint256-) event. The event is not emitted in the context of transfers.
#### [](#ERC721-_setApprovalForAll-address-address-bool-)`_setApprovalForAll(address owner, address operator, bool approved)` internal
Approve `operator` to operate on all of `owner` tokens
Requirements: - operator can’t be the address zero.
Emits an [`ApprovalForAll`](#IERC721-ApprovalForAll-address-address-bool-) event.
#### [](#ERC721-_requireOwned-uint256-)`_requireOwned(uint256 tokenId) → address` internal
Reverts if the `tokenId` doesn’t have a current owner (it hasn’t been minted, or it has been burned). Returns the owner.
Overrides to ownership logic should be done to [`_ownerOf`](#ERC721-_ownerOf-uint256-).
### [](#ERC721Enumerable)`ERC721Enumerable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Enumerable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";
This implements an optional extension of [`ERC721`](#ERC721) defined in the ERC that adds enumerability of all the token ids in the contract as well as all token ids owned by each account.
[`ERC721`](#ERC721) extensions that implement custom `balanceOf` logic, such as [`ERC721Consecutive`](#ERC721Consecutive), interfere with enumerability and should not be used together with [`ERC721Enumerable`](#ERC721Enumerable).
Functions
* [`supportsInterface(interfaceId)`](#ERC721Enumerable-supportsInterface-bytes4-)
 
* [`tokenOfOwnerByIndex(owner, index)`](#ERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)
 
* [`totalSupply()`](#ERC721Enumerable-totalSupply--)
 
* [`tokenByIndex(index)`](#ERC721Enumerable-tokenByIndex-uint256-)
 
* [`_update(to, tokenId, auth)`](#ERC721Enumerable-_update-address-uint256-address-)
 
* [`_increaseBalance(account, amount)`](#ERC721Enumerable-_increaseBalance-address-uint128-)
 
ERC721
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Enumerable-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC721Enumerable-tokenOfOwnerByIndex-address-uint256-)`tokenOfOwnerByIndex(address owner, uint256 index) → uint256` public
#### [](#ERC721Enumerable-totalSupply--)`totalSupply() → uint256` public
#### [](#ERC721Enumerable-tokenByIndex-uint256-)`tokenByIndex(uint256 index) → uint256` public
#### [](#ERC721Enumerable-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-).
#### [](#ERC721Enumerable-_increaseBalance-address-uint128-)`_increaseBalance(address account, uint128 amount)` internal
#### [](#ERC721Enumerable-ERC721OutOfBoundsIndex-address-uint256-)`ERC721OutOfBoundsIndex(address owner, uint256 index)` error
An ``owner’s token query was out of bounds for `index``.
The owner being `address(0)` indicates a global out of bounds index.
#### [](#ERC721Enumerable-ERC721EnumerableForbiddenBatchMint--)`ERC721EnumerableForbiddenBatchMint()` error
Batch mint is not allowed.
### [](#IERC721Receiver)`IERC721Receiver`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/IERC721Receiver.sol)
 import "@openzeppelin/contracts/token/ERC721/IERC721Receiver.sol";
Interface for any contract that wants to support safeTransfers from ERC-721 asset contracts.
#### [](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-)`onERC721Received(address operator, address from, uint256 tokenId, bytes data) → bytes4` external
Whenever an [`IERC721`](#IERC721) `tokenId` token is transferred to this contract via [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-) by `operator` from `from`, this function is called.
It must return its Solidity selector to confirm the token transfer. If any other value is returned or the interface is not implemented by the recipient, the transfer will be reverted.
The selector can be obtained in Solidity with `IERC721Receiver.onERC721Received.selector`.
## [](#extensions)Extensions
### [](#ERC721Pausable)`ERC721Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Pausable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Pausable.sol";
ERC-721 token with pausable token transfers, minting and burning.
Useful for scenarios such as preventing trades until the end of an evaluation period, or having an emergency switch for freezing all token transfers in the event of a large bug.
This contract does not include public pause and unpause functions. In addition to inheriting this contract, you must define both functions, invoking the [`Pausable._pause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_pause--) and [`Pausable._unpause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_unpause--) internal functions, with appropriate access control, e.g. using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) or [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable). Not doing so will make the contract pause mechanism of the contract unreachable, and thus unusable.
Functions
* [`_update(to, tokenId, auth)`](#ERC721Pausable-_update-address-uint256-address-)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Pausable-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-).
Requirements:
* the contract must not be paused.
 
### [](#ERC721Burnable)`ERC721Burnable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Burnable.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Burnable.sol";
ERC-721 Token that can be burned (destroyed).
Functions
* [`burn(tokenId)`](#ERC721Burnable-burn-uint256-)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Burnable-burn-uint256-)`burn(uint256 tokenId)` public
Burns `tokenId`. See [`ERC721._burn`](#ERC721-_burn-uint256-).
Requirements:
* The caller must own `tokenId` or be an approved operator.
 
### [](#ERC721Consecutive)`ERC721Consecutive`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Consecutive.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Consecutive.sol";
Implementation of the ERC-2309 "Consecutive Transfer Extension" as defined in [ERC-2309](https://eips.ethereum.org/EIPS/eip-2309).
This extension allows the minting of large batches of tokens, during contract construction only. For upgradeable contracts this implies that batch minting is only available during proxy deployment, and not in subsequent upgrades. These batches are limited to 5000 tokens at a time by default to accommodate off-chain indexers.
Using this extension removes the ability to mint single tokens during contract construction. This ability is regained after construction. During construction, only batch minting is allowed.
This extension does not call the [`_update`](#ERC721Consecutive-_update-address-uint256-address-) function for tokens minted in batch. Any logic added to this function through overrides will not be triggered when token are minted in batch. You may want to also override [`_increaseBalance`](#ERC721Enumerable-_increaseBalance-address-uint128-) or [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-) to account for these mints.
When overriding [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-), be careful about call ordering. [`ownerOf`](#ERC721-ownerOf-uint256-) may return invalid values during the [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-) execution if the super call is not called first. To be safe, execute the super call before your custom logic.
Functions
* [`_maxBatchSize()`](#ERC721Consecutive-_maxBatchSize--)
 
* [`_ownerOf(tokenId)`](#ERC721Consecutive-_ownerOf-uint256-)
 
* [`_mintConsecutive(to, batchSize)`](#ERC721Consecutive-_mintConsecutive-address-uint96-)
 
* [`_update(to, tokenId, auth)`](#ERC721Consecutive-_update-address-uint256-address-)
 
* [`_firstConsecutiveId()`](#ERC721Consecutive-_firstConsecutiveId--)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Consecutive-_maxBatchSize--)`_maxBatchSize() → uint96` internal
Maximum size of a batch of consecutive tokens. This is designed to limit stress on off-chain indexing services that have to record one entry per token, and have protections against "unreasonably large" batches of tokens.
Overriding the default value of 5000 will not cause on-chain issues, but may result in the asset not being correctly supported by off-chain indexing services (including marketplaces).
#### [](#ERC721Consecutive-_ownerOf-uint256-)`_ownerOf(uint256 tokenId) → address` internal
See [`ERC721._ownerOf`](#ERC721-_ownerOf-uint256-). Override that checks the sequential ownership structure for tokens that have been minted as part of a batch, and not yet transferred.
#### [](#ERC721Consecutive-_mintConsecutive-address-uint96-)`_mintConsecutive(address to, uint96 batchSize) → uint96` internal
Mint a batch of tokens of length `batchSize` for `to`. Returns the token id of the first token minted in the batch; if `batchSize` is 0, returns the number of consecutive ids minted so far.
Requirements:
* `batchSize` must not be greater than [`_maxBatchSize`](#ERC721Consecutive-_maxBatchSize--).
 
* The function is called in the constructor of the contract (directly or indirectly).
 
Does not emit a `Transfer` event. This is ERC-721 compliant as long as it is done inside of the constructor, which is enforced by this function.
Does not invoke `onERC721Received` on the receiver.
#### [](#ERC721Consecutive-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-). Override version that restricts normal minting to after construction.
Using [`ERC721Consecutive`](#ERC721Consecutive) prevents minting during construction in favor of [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-). After construction, [`_mintConsecutive`](#ERC721Consecutive-_mintConsecutive-address-uint96-) is no longer available and minting through [`_update`](#ERC721Consecutive-_update-address-uint256-address-) becomes available.
#### [](#ERC721Consecutive-_firstConsecutiveId--)`_firstConsecutiveId() → uint96` internal
Used to offset the first token id in `_nextConsecutiveId`
#### [](#ERC721Consecutive-ERC721ForbiddenBatchMint--)`ERC721ForbiddenBatchMint()` error
Batch mint is restricted to the constructor. Any batch mint not emitting the [`IERC721.Transfer`](#IERC721-Transfer-address-address-uint256-) event outside of the constructor is non ERC-721 compliant.
#### [](#ERC721Consecutive-ERC721ExceededMaxBatchMint-uint256-uint256-)`ERC721ExceededMaxBatchMint(uint256 batchSize, uint256 maxBatch)` error
Exceeds the max amount of mints per batch.
#### [](#ERC721Consecutive-ERC721ForbiddenMint--)`ERC721ForbiddenMint()` error
Individual minting is not allowed.
#### [](#ERC721Consecutive-ERC721ForbiddenBatchBurn--)`ERC721ForbiddenBatchBurn()` error
Batch burn is not supported.
### [](#ERC721URIStorage)`ERC721URIStorage`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721URIStorage.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
ERC-721 token with storage based token URI management.
Functions
* [`supportsInterface(interfaceId)`](#ERC721URIStorage-supportsInterface-bytes4-)
 
* [`tokenURI(tokenId)`](#ERC721URIStorage-tokenURI-uint256-)
 
* [`_setTokenURI(tokenId, _tokenURI)`](#ERC721URIStorage-_setTokenURI-uint256-string-)
 
ERC721
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721URIStorage-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC721URIStorage-tokenURI-uint256-)`tokenURI(uint256 tokenId) → string` public
See [`IERC721Metadata.tokenURI`](#IERC721Metadata-tokenURI-uint256-).
#### [](#ERC721URIStorage-_setTokenURI-uint256-string-)`_setTokenURI(uint256 tokenId, string _tokenURI)` internal
Sets `_tokenURI` as the tokenURI of `tokenId`.
### [](#ERC721Votes)`ERC721Votes`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Votes.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Votes.sol";
Extension of ERC-721 to support voting and delegation as implemented by [`Votes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes), where each individual NFT counts as 1 vote unit.
Tokens do not count as votes until they are delegated, because votes must be tracked which incurs an additional cost on every transfer. Token holders can either delegate to a trusted representative who will decide how to make use of the votes in governance decisions, or they can delegate to themselves to be their own representative.
Functions
* [`_update(to, tokenId, auth)`](#ERC721Votes-_update-address-uint256-address-)
 
* [`_getVotingUnits(account)`](#ERC721Votes-_getVotingUnits-address-)
 
* [`_increaseBalance(account, amount)`](#ERC721Votes-_increaseBalance-address-uint128-)
 
Votes
* [`clock()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-clock--)
 
* [`CLOCK_MODE()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-CLOCK_MODE--)
 
* [`_validateTimepoint(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_validateTimepoint-uint256-)
 
* [`getVotes(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getVotes-address-)
 
* [`getPastVotes(account, timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastVotes-address-uint256-)
 
* [`getPastTotalSupply(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastTotalSupply-uint256-)
 
* [`_getTotalSupply()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_getTotalSupply--)
 
* [`delegates(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegates-address-)
 
* [`delegate(delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegate-address-)
 
* [`delegateBySig(delegatee, nonce, expiry, v, r, s)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-)
 
* [`_delegate(account, delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_delegate-address-address-)
 
* [`_transferVotingUnits(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_transferVotingUnits-address-address-uint256-)
 
* [`_moveDelegateVotes(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_moveDelegateVotes-address-address-uint256-)
 
* [`_numCheckpoints(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_numCheckpoints-address-)
 
* [`_checkpoints(account, pos)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_checkpoints-address-uint32-)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
Events
IVotes
* [`DelegateChanged(delegator, fromDelegate, toDelegate)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#IVotes-DelegateChanged-address-address-address-)
 
* [`DelegateVotesChanged(delegate, previousVotes, newVotes)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#IVotes-DelegateVotesChanged-address-uint256-uint256-)
 
IERC721
* [`Transfer(from, to, tokenId)`](#IERC721-Transfer-address-address-uint256-)
 
* [`Approval(owner, approved, tokenId)`](#IERC721-Approval-address-address-uint256-)
 
* [`ApprovalForAll(owner, operator, approved)`](#IERC721-ApprovalForAll-address-address-bool-)
 
#### [](#ERC721Votes-_update-address-uint256-address-)`_update(address to, uint256 tokenId, address auth) → address` internal
See [`ERC721._update`](#ERC721-_update-address-uint256-address-). Adjusts votes when tokens are transferred.
#### [](#ERC721Votes-_getVotingUnits-address-)`_getVotingUnits(address account) → uint256` internal
Returns the balance of `account`.
Overriding this function will likely result in incorrect vote tracking.
#### [](#ERC721Votes-_increaseBalance-address-uint128-)`_increaseBalance(address account, uint128 amount)` internal
See [`ERC721._increaseBalance`](#ERC721-_increaseBalance-address-uint128-). We need that to account tokens that were minted in batch.
### [](#ERC721Royalty)`ERC721Royalty`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Royalty.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Royalty.sol";
Extension of ERC-721 with the ERC-2981 NFT Royalty Standard, a standardized way to retrieve royalty payment information.
Royalty information can be specified globally for all token ids via [`ERC2981._setDefaultRoyalty`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setDefaultRoyalty-address-uint96-), and/or individually for specific token ids via [`ERC2981._setTokenRoyalty`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setTokenRoyalty-uint256-address-uint96-). The latter takes precedence over the first.
ERC-2981 only specifies a way to signal royalty information and does not enforce its payment. See [Rationale](https://eips.ethereum.org/EIPS/eip-2981#optional-royalty-payments) in the ERC. Marketplaces are expected to voluntarily pay royalties together with sales, but note that this standard is not yet widely supported.
Functions
* [`supportsInterface(interfaceId)`](#ERC721Royalty-supportsInterface-bytes4-)
 
ERC721
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
ERC2981
* [`royaltyInfo(tokenId, salePrice)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-royaltyInfo-uint256-uint256-)
 
* [`_feeDenominator()`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_feeDenominator--)
 
* [`_setDefaultRoyalty(receiver, feeNumerator)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setDefaultRoyalty-address-uint96-)
 
* [`_deleteDefaultRoyalty()`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_deleteDefaultRoyalty--)
 
* [`_setTokenRoyalty(tokenId, receiver, feeNumerator)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_setTokenRoyalty-uint256-address-uint96-)
 
* [`_resetTokenRoyalty(tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/common#ERC2981-_resetTokenRoyalty-uint256-)
 
#### [](#ERC721Royalty-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
### [](#ERC721Wrapper)`ERC721Wrapper`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/extensions/ERC721Wrapper.sol)
 import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Wrapper.sol";
Extension of the ERC-721 token contract to support token wrapping.
Users can deposit and withdraw an "underlying token" and receive a "wrapped token" with a matching tokenId. This is useful in conjunction with other modules. For example, combining this wrapping mechanism with [`ERC721Votes`](#ERC721Votes) will allow the wrapping of an existing "basic" ERC-721 into a governance token.
Functions
* [`constructor(underlyingToken)`](#ERC721Wrapper-constructor-contract-IERC721-)
 
* [`depositFor(account, tokenIds)`](#ERC721Wrapper-depositFor-address-uint256---)
 
* [`withdrawTo(account, tokenIds)`](#ERC721Wrapper-withdrawTo-address-uint256---)
 
* [`onERC721Received(, from, tokenId, )`](#ERC721Wrapper-onERC721Received-address-address-uint256-bytes-)
 
* [`_recover(account, tokenId)`](#ERC721Wrapper-_recover-address-uint256-)
 
* [`underlying()`](#ERC721Wrapper-underlying--)
 
ERC721
* [`supportsInterface(interfaceId)`](#ERC721-supportsInterface-bytes4-)
 
* [`balanceOf(owner)`](#ERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](#ERC721-ownerOf-uint256-)
 
* [`name()`](#ERC721-name--)
 
* [`symbol()`](#ERC721-symbol--)
 
* [`tokenURI(tokenId)`](#ERC721-tokenURI-uint256-)
 
* [`_baseURI()`](#ERC721-_baseURI--)
 
* [`approve(to, tokenId)`](#ERC721-approve-address-uint256-)
 
* [`getApproved(tokenId)`](#ERC721-getApproved-uint256-)
 
* [`setApprovalForAll(operator, approved)`](#ERC721-setApprovalForAll-address-bool-)
 
* [`isApprovedForAll(owner, operator)`](#ERC721-isApprovedForAll-address-address-)
 
* [`transferFrom(from, to, tokenId)`](#ERC721-transferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId)`](#ERC721-safeTransferFrom-address-address-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](#ERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`_ownerOf(tokenId)`](#ERC721-_ownerOf-uint256-)
 
* [`_getApproved(tokenId)`](#ERC721-_getApproved-uint256-)
 
* [`_isAuthorized(owner, spender, tokenId)`](#ERC721-_isAuthorized-address-address-uint256-)
 
* [`_checkAuthorized(owner, spender, tokenId)`](#ERC721-_checkAuthorized-address-address-uint256-)
 
* [`_increaseBalance(account, value)`](#ERC721-_increaseBalance-address-uint128-)
 
* [`_update(to, tokenId, auth)`](#ERC721-_update-address-uint256-address-)
 
* [`_mint(to, tokenId)`](#ERC721-_mint-address-uint256-)
 
* [`_safeMint(to, tokenId)`](#ERC721-_safeMint-address-uint256-)
 
* [`_safeMint(to, tokenId, data)`](#ERC721-_safeMint-address-uint256-bytes-)
 
* [`_burn(tokenId)`](#ERC721-_burn-uint256-)
 
* [`_transfer(from, to, tokenId)`](#ERC721-_transfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId)`](#ERC721-_safeTransfer-address-address-uint256-)
 
* [`_safeTransfer(from, to, tokenId, data)`](#ERC721-_safeTransfer-address-address-uint256-bytes-)
 
* [`_approve(to, tokenId, auth)`](#ERC721-_approve-address-uint256-address-)
 
* [`_approve(to, tokenId, auth, emitEvent)`](#ERC721-_approve-address-uint256-address-bool-)
 
* [`_setApprovalForAll(owner, operator, approved)`](#ERC721-_setApprovalForAll-address-address-bool-)
 
* [`_requireOwned(tokenId)`](#ERC721-_requireOwned-uint256-)
 
#### [](#ERC721Wrapper-constructor-contract-IERC721-)`constructor(contract IERC721 underlyingToken)` internal
#### [](#ERC721Wrapper-depositFor-address-uint256---)`depositFor(address account, uint256[] tokenIds) → bool` public
Allow a user to deposit underlying tokens and mint the corresponding tokenIds.
#### [](#ERC721Wrapper-withdrawTo-address-uint256---)`withdrawTo(address account, uint256[] tokenIds) → bool` public
Allow a user to burn wrapped tokens and withdraw the corresponding tokenIds of the underlying tokens.
#### [](#ERC721Wrapper-onERC721Received-address-address-uint256-bytes-)`onERC721Received(address, address from, uint256 tokenId, bytes) → bytes4` public
Overrides [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) to allow minting on direct ERC-721 transfers to this contract.
In case there’s data attached, it validates that the operator is this contract, so only trusted data is accepted from [`depositFor`](#ERC721Wrapper-depositFor-address-uint256---).
Doesn’t work with unsafe transfers (eg. [`IERC721.transferFrom`](#IERC721-transferFrom-address-address-uint256-)). Use [`ERC721Wrapper._recover`](#ERC721Wrapper-_recover-address-uint256-) for recovering in that scenario.
#### [](#ERC721Wrapper-_recover-address-uint256-)`_recover(address account, uint256 tokenId) → uint256` internal
Mint a wrapped token to cover any underlyingToken that would have been transferred by mistake. Internal function that can be exposed with access control if desired.
#### [](#ERC721Wrapper-underlying--)`underlying() → contract IERC721` public
Returns the underlying token.
#### [](#ERC721Wrapper-ERC721UnsupportedToken-address-)`ERC721UnsupportedToken(address token)` error
The received ERC-721 token couldn’t be wrapped.
## [](#utilities)Utilities
### [](#ERC721Holder)`ERC721Holder`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/utils/ERC721Holder.sol)
 import "@openzeppelin/contracts/token/ERC721/utils/ERC721Holder.sol";
Implementation of the [`IERC721Receiver`](#IERC721Receiver) interface.
Accepts all token transfers. Make sure the contract is able to use its token with [`IERC721.safeTransferFrom`](#IERC721-safeTransferFrom-address-address-uint256-), [`IERC721.approve`](#IERC721-approve-address-uint256-) or [`IERC721.setApprovalForAll`](#IERC721-setApprovalForAll-address-bool-).
#### [](#ERC721Holder-onERC721Received-address-address-uint256-bytes-)`onERC721Received(address, address, uint256, bytes) → bytes4` public
Always returns `IERC721Receiver.onERC721Received.selector`.
### [](#ERC721Utils)`ERC721Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC721/utils/ERC721Utils.sol)
 import "@openzeppelin/contracts/token/ERC721/utils/ERC721Utils.sol";
Library that provide common ERC-721 utility functions.
_Available since v5.1._
#### [](#ERC721Utils-checkOnERC721Received-address-address-address-uint256-bytes-)`checkOnERC721Received(address operator, address from, address to, uint256 tokenId, bytes data)` internal
Performs an acceptance check for the provided `operator` by calling [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) on the `to` address. The `operator` is generally the address that initiated the token transfer (i.e. `msg.sender`).
The acceptance call is not executed and treated as a no-op if the target address doesn’t contain code (i.e. an EOA). Otherwise, the recipient must implement [`IERC721Receiver.onERC721Received`](#IERC721Receiver-onERC721Received-address-address-uint256-bytes-) and return the acceptance magic value to accept the transfer.

# [ERC-20 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20_

This set of interfaces, contracts, and utilities are all related to the [ERC-20 Token Standard](https://eips.ethereum.org/EIPS/eip-20).
For an overview of ERC-20 tokens and a walk through on how to create a token contract read our [ERC-20 guide](https://docs.openzeppelin.com/contracts/5.x/erc20).
There are a few core contracts that implement the behavior specified in the ERC-20 standard:
* [`IERC20`](#IERC20): the interface all ERC-20 implementations should conform to.
 
* [`IERC20Metadata`](#IERC20Metadata): the extended ERC-20 interface including the [`name`](#ERC20-name--), [`symbol`](#ERC20-symbol--) and [`decimals`](#ERC20-decimals--) functions.
 
* [`ERC20`](#ERC20): the implementation of the ERC-20 interface, including the [`name`](#ERC20-name--), [`symbol`](#ERC20-symbol--) and [`decimals`](#ERC20-decimals--) optional extensions to the standard interface.
 
Additionally there are multiple custom extensions, including:
* [`ERC20Permit`](#ERC20Permit): gasless approval of tokens (standardized as ERC-2612).
 
* [`ERC20Burnable`](#ERC20Burnable): destruction of own tokens.
 
* [`ERC20Capped`](#ERC20Capped): enforcement of a cap to the total supply when minting tokens.
 
* [`ERC20Pausable`](#ERC20Pausable): ability to pause token transfers.
 
* [`ERC20FlashMint`](#ERC20FlashMint): token level support for flash loans through the minting and burning of ephemeral tokens (standardized as ERC-3156).
 
* [`ERC20Votes`](#ERC20Votes): support for voting and vote delegation.
 
* [`ERC20Wrapper`](#ERC20Wrapper): wrapper to create an ERC-20 backed by another ERC-20, with deposit and withdraw methods. Useful in conjunction with [`ERC20Votes`](#ERC20Votes).
 
* [`ERC20TemporaryApproval`](#ERC20TemporaryApproval): support for approvals lasting for only one transaction, as defined in ERC-7674.
 
* [`ERC1363`](#ERC1363): support for calling the target of a transfer or approval, enabling code execution on the receiver within a single transaction.
 
* [`ERC4626`](#ERC4626): tokenized vault that manages shares (represented as ERC-20) that are backed by assets (another ERC-20).
 
Finally, there are some utilities to interact with ERC-20 contracts in various ways:
* [`SafeERC20`](#SafeERC20): a wrapper around the interface that eliminates the need to handle boolean return values.
 
Other utilities that support ERC-20 assets can be found in the codebase:
* ERC-20 tokens can be timelocked (held for a beneficiary until a specified time) or vested (released following a given schedule) using a [`VestingWallet`](https://docs.openzeppelin.com/contracts/5.x/api/finance#VestingWallet).
 
This core set of contracts is designed to be unopinionated, allowing developers to access the internal functions in ERC-20 (such as [`_mint`](#ERC20-_mint-address-uint256-)) and expose them as external functions in the way they prefer.
## [](#core)Core
### [](#IERC20)`IERC20`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/IERC20.sol)
 import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
Interface of the ERC-20 standard as defined in the ERC.
Functions
* [`totalSupply()`](#IERC20-totalSupply--)
 
* [`balanceOf(account)`](#IERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#IERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#IERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#IERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#IERC20-transferFrom-address-address-uint256-)
 
#### [](#IERC20-totalSupply--)`totalSupply() → uint256` external
Returns the value of tokens in existence.
#### [](#IERC20-balanceOf-address-)`balanceOf(address account) → uint256` external
Returns the value of tokens owned by `account`.
#### [](#IERC20-transfer-address-uint256-)`transfer(address to, uint256 value) → bool` external
Moves a `value` amount of tokens from the caller’s account to `to`.
Returns a boolean value indicating whether the operation succeeded.
Emits a [`transfer`](#IERC20-transfer-address-uint256-) event.
#### [](#IERC20-allowance-address-address-)`allowance(address owner, address spender) → uint256` external
Returns the remaining number of tokens that `spender` will be allowed to spend on behalf of `owner` through [`transferFrom`](#IERC20-transferFrom-address-address-uint256-). This is zero by default.
This value changes when [`approve`](#IERC20-approve-address-uint256-) or [`transferFrom`](#IERC20-transferFrom-address-address-uint256-) are called.
#### [](#IERC20-approve-address-uint256-)`approve(address spender, uint256 value) → bool` external
Sets a `value` amount of tokens as the allowance of `spender` over the caller’s tokens.
Returns a boolean value indicating whether the operation succeeded.
Beware that changing an allowance with this method brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. One possible solution to mitigate this race condition is to first reduce the spender’s allowance to 0 and set the desired value afterwards: [https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729](https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729)
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
#### [](#IERC20-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 value) → bool` external
Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism. `value` is then deducted from the caller’s allowance.
Returns a boolean value indicating whether the operation succeeded.
Emits a [`transfer`](#IERC20-transfer-address-uint256-) event.
#### [](#IERC20-Transfer-address-address-uint256-)`Transfer(address indexed from, address indexed to, uint256 value)` event
Emitted when `value` tokens are moved from one account (`from`) to another (`to`).
Note that `value` may be zero.
#### [](#IERC20-Approval-address-address-uint256-)`Approval(address indexed owner, address indexed spender, uint256 value)` event
Emitted when the allowance of a `spender` for an `owner` is set by a call to [`approve`](#IERC20-approve-address-uint256-). `value` is the new allowance.
### [](#IERC20Metadata)`IERC20Metadata`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/IERC20Metadata.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/IERC20Metadata.sol";
Interface for the optional metadata functions from the ERC-20 standard.
#### [](#IERC20Metadata-name--)`name() → string` external
Returns the name of the token.
#### [](#IERC20Metadata-symbol--)`symbol() → string` external
Returns the symbol of the token.
#### [](#IERC20Metadata-decimals--)`decimals() → uint8` external
Returns the decimals places of the token.
### [](#ERC20)`ERC20`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/ERC20.sol)
 import "@openzeppelin/contracts/token/ERC20/ERC20.sol";
Implementation of the [`IERC20`](#IERC20) interface.
This implementation is agnostic to the way tokens are created. This means that a supply mechanism has to be added in a derived contract using [`_mint`](#ERC20-_mint-address-uint256-).
The default value of [`decimals`](#ERC20-decimals--) is 18. To change this, you should override this function so it returns a different value.
We have followed general OpenZeppelin Contracts guidelines: functions revert instead returning `false` on failure. This behavior is nonetheless conventional and does not conflict with the expectations of ERC-20 applications.
Functions
* [`constructor(name_, symbol_)`](#ERC20-constructor-string-string-)
 
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20-constructor-string-string-)`constructor(string name_, string symbol_)` internal
Sets the values for [`name`](#ERC20-name--) and [`symbol`](#ERC20-symbol--).
Both values are immutable: they can only be set once during construction.
#### [](#ERC20-name--)`name() → string` public
Returns the name of the token.
#### [](#ERC20-symbol--)`symbol() → string` public
Returns the symbol of the token, usually a shorter version of the name.
#### [](#ERC20-decimals--)`decimals() → uint8` public
Returns the number of decimals used to get its user representation. For example, if `decimals` equals `2`, a balance of `505` tokens should be displayed to a user as `5.05` (`505 / 10 ** 2`).
Tokens usually opt for a value of 18, imitating the relationship between Ether and Wei. This is the default value returned by this function, unless it’s overridden.
This information is only used for _display_ purposes: it in no way affects any of the arithmetic of the contract, including [`IERC20.balanceOf`](#IERC20-balanceOf-address-) and [`IERC20.transfer`](#IERC20-transfer-address-uint256-).
#### [](#ERC20-totalSupply--)`totalSupply() → uint256` public
See [`IERC20.totalSupply`](#IERC20-totalSupply--).
#### [](#ERC20-balanceOf-address-)`balanceOf(address account) → uint256` public
See [`IERC20.balanceOf`](#IERC20-balanceOf-address-).
#### [](#ERC20-transfer-address-uint256-)`transfer(address to, uint256 value) → bool` public
See [`IERC20.transfer`](#IERC20-transfer-address-uint256-).
Requirements:
* `to` cannot be the zero address.
 
* the caller must have a balance of at least `value`.
 
#### [](#ERC20-allowance-address-address-)`allowance(address owner, address spender) → uint256` public
See [`IERC20.allowance`](#IERC20-allowance-address-address-).
#### [](#ERC20-approve-address-uint256-)`approve(address spender, uint256 value) → bool` public
See [`IERC20.approve`](#IERC20-approve-address-uint256-).
If `value` is the maximum `uint256`, the allowance is not updated on `transferFrom`. This is semantically equivalent to an infinite approval.
Requirements:
* `spender` cannot be the zero address.
 
#### [](#ERC20-transferFrom-address-address-uint256-)`transferFrom(address from, address to, uint256 value) → bool` public
See [`IERC20.transferFrom`](#IERC20-transferFrom-address-address-uint256-).
Skips emitting an [`Approval`](#IERC20-Approval-address-address-uint256-) event indicating an allowance update. This is not required by the ERC. See [\_approve](#ERC20-_approve-address-address-uint256-bool-).
Does not update the allowance if the current allowance is the maximum `uint256`.
Requirements:
* `from` and `to` cannot be the zero address.
 
* `from` must have a balance of at least `value`.
 
* the caller must have allowance for `from`'s tokens of at least `value`.
 
#### [](#ERC20-_transfer-address-address-uint256-)`_transfer(address from, address to, uint256 value)` internal
Moves a `value` amount of tokens from `from` to `to`.
This internal function is equivalent to [`transfer`](#ERC20-transfer-address-uint256-), and can be used to e.g. implement automatic token fees, slashing mechanisms, etc.
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event.
This function is not virtual, [`_update`](#ERC20-_update-address-address-uint256-) should be overridden instead.
#### [](#ERC20-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
Transfers a `value` amount of tokens from `from` to `to`, or alternatively mints (or burns) if `from` (or `to`) is the zero address. All customizations to transfers, mints, and burns should be done by overriding this function.
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event.
#### [](#ERC20-_mint-address-uint256-)`_mint(address account, uint256 value)` internal
Creates a `value` amount of tokens and assigns them to `account`, by transferring it from address(0). Relies on the `_update` mechanism
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event with `from` set to the zero address.
This function is not virtual, [`_update`](#ERC20-_update-address-address-uint256-) should be overridden instead.
#### [](#ERC20-_burn-address-uint256-)`_burn(address account, uint256 value)` internal
Destroys a `value` amount of tokens from `account`, lowering the total supply. Relies on the `_update` mechanism.
Emits a [`transfer`](#ERC20-transfer-address-uint256-) event with `to` set to the zero address.
This function is not virtual, [`_update`](#ERC20-_update-address-address-uint256-) should be overridden instead
#### [](#ERC20-_approve-address-address-uint256-)`_approve(address owner, address spender, uint256 value)` internal
Sets `value` as the allowance of `spender` over the \`owner’s tokens.
This internal function is equivalent to `approve`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
Requirements:
* `owner` cannot be the zero address.
 
* `spender` cannot be the zero address.
 
Overrides to this logic should be done to the variant with an additional `bool emitEvent` argument.
#### [](#ERC20-_approve-address-address-uint256-bool-)`_approve(address owner, address spender, uint256 value, bool emitEvent)` internal
Variant of [`_approve`](#ERC20-_approve-address-address-uint256-bool-) with an optional flag to enable or disable the [`Approval`](#IERC20-Approval-address-address-uint256-) event.
By default (when calling [`_approve`](#ERC20-_approve-address-address-uint256-bool-)) the flag is set to true. On the other hand, approval changes made by `_spendAllowance` during the `transferFrom` operation set the flag to false. This saves gas by not emitting any `Approval` event during `transferFrom` operations.
Anyone who wishes to continue emitting `Approval` events on the\`transferFrom\` operation can force the flag to true using the following override:
 function _approve(address owner, address spender, uint256 value, bool) internal virtual override {
 super._approve(owner, spender, value, true);
 }
Requirements are the same as [`_approve`](#ERC20-_approve-address-address-uint256-bool-).
#### [](#ERC20-_spendAllowance-address-address-uint256-)`_spendAllowance(address owner, address spender, uint256 value)` internal
Updates ``owner’s allowance for `spender`` based on spent `value`.
Does not update the allowance value in case of infinite allowance. Revert if not enough allowance is available.
Does not emit an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
## [](#extensions)Extensions
### [](#IERC20Permit)`IERC20Permit`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/IERC20Permit.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol";
Interface of the ERC-20 Permit extension allowing approvals to be made via signatures, as defined in [ERC-2612](https://eips.ethereum.org/EIPS/eip-2612).
Adds the [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) method, which can be used to change an account’s ERC-20 allowance (see [`IERC20.allowance`](#IERC20-allowance-address-address-)) by presenting a message signed by the account. By not relying on [`IERC20.approve`](#IERC20-approve-address-uint256-), the token holder account doesn’t need to send a transaction, and thus is not required to hold Ether at all.
#### [](#security_considerations)Security Considerations
There are two important considerations concerning the use of `permit`. The first is that a valid permit signature expresses an allowance, and it should not be assumed to convey additional meaning. In particular, it should not be considered as an intention to spend the allowance in any specific way. The second is that because permits have built-in replay protection and can be submitted by anyone, they can be frontrun. A protocol that uses permits should take this into consideration and allow a `permit` call to fail. Combining these two aspects, a pattern that may be generally recommended is:
 function doThingWithPermit(..., uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s) public {
 try token.permit(msg.sender, address(this), value, deadline, v, r, s) {} catch {}
 doThing(..., value);
 }
 
 function doThing(..., uint256 value) public {
 token.safeTransferFrom(msg.sender, address(this), value);
 ...
 }
Observe that: 1) `msg.sender` is used as the owner, leaving no ambiguity as to the signer intent, and 2) the use of `try/catch` allows the permit to fail and makes the code tolerant to frontrunning. (See also [`SafeERC20.safeTransferFrom`](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-)).
Additionally, note that smart contract wallets (such as Argent or Safe) are not able to produce permit signatures, so contracts should have entry points that don’t rely on permit.
#### [](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-)`permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)` external
Sets `value` as the allowance of `spender` over `owner`'s tokens, given `owner`'s signed approval.
The same issues [`IERC20.approve`](#IERC20-approve-address-uint256-) has related to transaction ordering also apply here.
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
Requirements:
* `spender` cannot be the zero address.
 
* `deadline` must be a timestamp in the future.
 
* `v`, `r` and `s` must be a valid `secp256k1` signature from `owner` over the EIP712-formatted function arguments.
 
* the signature must use `owner`'s current nonce (see [`nonces`](#IERC20Permit-nonces-address-)).
 
See Security Considerations above.
#### [](#IERC20Permit-nonces-address-)`nonces(address owner) → uint256` external
Returns the current nonce for `owner`. This value must be included whenever a signature is generated for [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-).
Every successful call to [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) increases `owner`'s nonce by one. This prevents a signature from being used multiple times.
#### [](#IERC20Permit-DOMAIN_SEPARATOR--)`DOMAIN_SEPARATOR() → bytes32` external
Returns the domain separator used in the encoding of the signature for [`permit`](#IERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-), as defined by [`EIP712`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712).
### [](#ERC20Permit)`ERC20Permit`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Permit.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Permit.sol";
Implementation of the ERC-20 Permit extension allowing approvals to be made via signatures, as defined in [ERC-2612](https://eips.ethereum.org/EIPS/eip-2612).
Adds the [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) method, which can be used to change an account’s ERC-20 allowance (see [`IERC20.allowance`](#IERC20-allowance-address-address-)) by presenting a message signed by the account. By not relying on ``[`IERC20.approve`](#IERC20-approve-address-uint256-)``, the token holder account doesn’t need to send a transaction, and thus is not required to hold Ether at all.
Functions
* [`constructor(name)`](#ERC20Permit-constructor-string-)
 
* [`permit(owner, spender, value, deadline, v, r, s)`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-)
 
* [`nonces(owner)`](#ERC20Permit-nonces-address-)
 
* [`DOMAIN_SEPARATOR()`](#ERC20Permit-DOMAIN_SEPARATOR--)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Permit-constructor-string-)`constructor(string name)` internal
Initializes the [`EIP712`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712) domain separator using the `name` parameter, and setting `version` to `"1"`.
It’s a good idea to use the same `name` that is defined as the ERC-20 token name.
#### [](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-)`permit(address owner, address spender, uint256 value, uint256 deadline, uint8 v, bytes32 r, bytes32 s)` public
Sets `value` as the allowance of `spender` over `owner`'s tokens, given `owner`'s signed approval.
The same issues [`IERC20.approve`](#IERC20-approve-address-uint256-) has related to transaction ordering also apply here.
Emits an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
Requirements:
* `spender` cannot be the zero address.
 
* `deadline` must be a timestamp in the future.
 
* `v`, `r` and `s` must be a valid `secp256k1` signature from `owner` over the EIP712-formatted function arguments.
 
* the signature must use `owner`'s current nonce (see [`nonces`](#ERC20Permit-nonces-address-)).
 
See Security Considerations above.
#### [](#ERC20Permit-nonces-address-)`nonces(address owner) → uint256` public
Returns the current nonce for `owner`. This value must be included whenever a signature is generated for [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-).
Every successful call to [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-) increases `owner`'s nonce by one. This prevents a signature from being used multiple times.
#### [](#ERC20Permit-DOMAIN_SEPARATOR--)`DOMAIN_SEPARATOR() → bytes32` external
Returns the domain separator used in the encoding of the signature for [`permit`](#ERC20Permit-permit-address-address-uint256-uint256-uint8-bytes32-bytes32-), as defined by [`EIP712`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712).
#### [](#ERC20Permit-ERC2612ExpiredSignature-uint256-)`ERC2612ExpiredSignature(uint256 deadline)` error
Permit deadline has expired.
#### [](#ERC20Permit-ERC2612InvalidSigner-address-address-)`ERC2612InvalidSigner(address signer, address owner)` error
Mismatched signature.
### [](#ERC20Burnable)`ERC20Burnable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Burnable.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Burnable.sol";
Extension of [`ERC20`](#ERC20) that allows token holders to destroy both their own tokens and those that they have an allowance for, in a way that can be recognized off-chain (via event analysis).
Functions
* [`burn(value)`](#ERC20Burnable-burn-uint256-)
 
* [`burnFrom(account, value)`](#ERC20Burnable-burnFrom-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Burnable-burn-uint256-)`burn(uint256 value)` public
Destroys a `value` amount of tokens from the caller.
See [`ERC20._burn`](#ERC20-_burn-address-uint256-).
#### [](#ERC20Burnable-burnFrom-address-uint256-)`burnFrom(address account, uint256 value)` public
Destroys a `value` amount of tokens from `account`, deducting from the caller’s allowance.
See [`ERC20._burn`](#ERC20-_burn-address-uint256-) and [`ERC20.allowance`](#ERC20-allowance-address-address-).
Requirements:
* the caller must have allowance for `accounts`'s tokens of at least `value`.
 
### [](#ERC20Capped)`ERC20Capped`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Capped.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Capped.sol";
Extension of [`ERC20`](#ERC20) that adds a cap to the supply of tokens.
Functions
* [`constructor(cap_)`](#ERC20Capped-constructor-uint256-)
 
* [`cap()`](#ERC20Capped-cap--)
 
* [`_update(from, to, value)`](#ERC20Capped-_update-address-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Capped-constructor-uint256-)`constructor(uint256 cap_)` internal
Sets the value of the `cap`. This value is immutable, it can only be set once during construction.
#### [](#ERC20Capped-cap--)`cap() → uint256` public
Returns the cap on the token’s total supply.
#### [](#ERC20Capped-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
See [`ERC20._update`](#ERC20-_update-address-address-uint256-).
#### [](#ERC20Capped-ERC20ExceededCap-uint256-uint256-)`ERC20ExceededCap(uint256 increasedSupply, uint256 cap)` error
Total supply cap has been exceeded.
#### [](#ERC20Capped-ERC20InvalidCap-uint256-)`ERC20InvalidCap(uint256 cap)` error
The supplied cap is not a valid cap.
### [](#ERC20Pausable)`ERC20Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Pausable.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Pausable.sol";
ERC-20 token with pausable token transfers, minting and burning.
Useful for scenarios such as preventing trades until the end of an evaluation period, or having an emergency switch for freezing all token transfers in the event of a large bug.
This contract does not include public pause and unpause functions. In addition to inheriting this contract, you must define both functions, invoking the [`Pausable._pause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_pause--) and [`Pausable._unpause`](https://docs.openzeppelin.com/contracts/5.x/api/utils#Pausable-_unpause--) internal functions, with appropriate access control, e.g. using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) or [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable). Not doing so will make the contract pause mechanism of the contract unreachable, and thus unusable.
Functions
* [`_update(from, to, value)`](#ERC20Pausable-_update-address-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Pausable-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
See [`ERC20._update`](#ERC20-_update-address-address-uint256-).
Requirements:
* the contract must not be paused.
 
### [](#ERC20Votes)`ERC20Votes`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Votes.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
Extension of ERC-20 to support Compound-like voting and delegation. This version is more generic than Compound’s, and supports token supply up to 2208 - 1, while COMP is limited to 296 - 1.
This contract does not provide interface compatibility with Compound’s COMP token.
This extension keeps a history (checkpoints) of each account’s vote power. Vote power can be delegated either by calling the [`Votes.delegate`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegate-address-) function directly, or by providing a signature to be used with [`Votes.delegateBySig`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-). Voting power can be queried through the public accessors [`Votes.getVotes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getVotes-address-) and [`Votes.getPastVotes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastVotes-address-uint256-).
By default, token balance does not account for voting power. This makes transfers cheaper. The downside is that it requires users to delegate to themselves in order to activate checkpoints and have their voting power tracked.
Functions
* [`_maxSupply()`](#ERC20Votes-_maxSupply--)
 
* [`_update(from, to, value)`](#ERC20Votes-_update-address-address-uint256-)
 
* [`_getVotingUnits(account)`](#ERC20Votes-_getVotingUnits-address-)
 
* [`numCheckpoints(account)`](#ERC20Votes-numCheckpoints-address-)
 
* [`checkpoints(account, pos)`](#ERC20Votes-checkpoints-address-uint32-)
 
Votes
* [`clock()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-clock--)
 
* [`CLOCK_MODE()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-CLOCK_MODE--)
 
* [`_validateTimepoint(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_validateTimepoint-uint256-)
 
* [`getVotes(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getVotes-address-)
 
* [`getPastVotes(account, timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastVotes-address-uint256-)
 
* [`getPastTotalSupply(timepoint)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-getPastTotalSupply-uint256-)
 
* [`_getTotalSupply()`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_getTotalSupply--)
 
* [`delegates(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegates-address-)
 
* [`delegate(delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegate-address-)
 
* [`delegateBySig(delegatee, nonce, expiry, v, r, s)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-)
 
* [`_delegate(account, delegatee)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_delegate-address-address-)
 
* [`_transferVotingUnits(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_transferVotingUnits-address-address-uint256-)
 
* [`_moveDelegateVotes(from, to, amount)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_moveDelegateVotes-address-address-uint256-)
 
* [`_numCheckpoints(account)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_numCheckpoints-address-)
 
* [`_checkpoints(account, pos)`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_checkpoints-address-uint32-)
 
EIP712
* [`_domainSeparatorV4()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](https://docs.openzeppelin.com/contracts/5.x/api/utils#EIP712-_EIP712Version--)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Votes-_maxSupply--)`_maxSupply() → uint256` internal
Maximum token supply. Defaults to `type(uint208).max` (2208 - 1).
This maximum is enforced in [`_update`](#ERC20Votes-_update-address-address-uint256-). It limits the total supply of the token, which is otherwise a uint256, so that checkpoints can be stored in the Trace208 structure used by [`Votes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes). Increasing this value will not remove the underlying limitation, and will cause [`_update`](#ERC20Votes-_update-address-address-uint256-) to fail because of a math overflow in [`Votes._transferVotingUnits`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes-_transferVotingUnits-address-address-uint256-). An override could be used to further restrict the total supply (to a lower value) if additional logic requires it. When resolving override conflicts on this function, the minimum should be returned.
#### [](#ERC20Votes-_update-address-address-uint256-)`_update(address from, address to, uint256 value)` internal
Move voting power when tokens are transferred.
#### [](#ERC20Votes-_getVotingUnits-address-)`_getVotingUnits(address account) → uint256` internal
Returns the voting units of an `account`.
Overriding this function may compromise the internal vote accounting. `ERC20Votes` assumes tokens map to voting units 1:1 and this is not easy to change.
#### [](#ERC20Votes-numCheckpoints-address-)`numCheckpoints(address account) → uint32` public
Get number of checkpoints for `account`.
#### [](#ERC20Votes-checkpoints-address-uint32-)`checkpoints(address account, uint32 pos) → struct Checkpoints.Checkpoint208` public
Get the `pos`\-th checkpoint for `account`.
#### [](#ERC20Votes-ERC20ExceededSafeSupply-uint256-uint256-)`ERC20ExceededSafeSupply(uint256 increasedSupply, uint256 cap)` error
Total supply cap has been exceeded, introducing a risk of votes overflowing.
### [](#ERC20Wrapper)`ERC20Wrapper`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20Wrapper.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20Wrapper.sol";
Extension of the ERC-20 token contract to support token wrapping.
Users can deposit and withdraw "underlying tokens" and receive a matching number of "wrapped tokens". This is useful in conjunction with other modules. For example, combining this wrapping mechanism with [`ERC20Votes`](#ERC20Votes) will allow the wrapping of an existing "basic" ERC-20 into a governance token.
Any mechanism in which the underlying token changes the [`balanceOf`](#ERC20-balanceOf-address-) of an account without an explicit transfer may desynchronize this contract’s supply and its underlying balance. Please exercise caution when wrapping tokens that may undercollateralize the wrapper (i.e. wrapper’s total supply is higher than its underlying balance). See [`_recover`](#ERC20Wrapper-_recover-address-) for recovering value accrued to the wrapper.
Functions
* [`constructor(underlyingToken)`](#ERC20Wrapper-constructor-contract-IERC20-)
 
* [`decimals()`](#ERC20Wrapper-decimals--)
 
* [`underlying()`](#ERC20Wrapper-underlying--)
 
* [`depositFor(account, value)`](#ERC20Wrapper-depositFor-address-uint256-)
 
* [`withdrawTo(account, value)`](#ERC20Wrapper-withdrawTo-address-uint256-)
 
* [`_recover(account)`](#ERC20Wrapper-_recover-address-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20Wrapper-constructor-contract-IERC20-)`constructor(contract IERC20 underlyingToken)` internal
#### [](#ERC20Wrapper-decimals--)`decimals() → uint8` public
See [`ERC20.decimals`](#ERC20-decimals--).
#### [](#ERC20Wrapper-underlying--)`underlying() → contract IERC20` public
Returns the address of the underlying ERC-20 token that is being wrapped.
#### [](#ERC20Wrapper-depositFor-address-uint256-)`depositFor(address account, uint256 value) → bool` public
Allow a user to deposit underlying tokens and mint the corresponding number of wrapped tokens.
#### [](#ERC20Wrapper-withdrawTo-address-uint256-)`withdrawTo(address account, uint256 value) → bool` public
Allow a user to burn a number of wrapped tokens and withdraw the corresponding number of underlying tokens.
#### [](#ERC20Wrapper-_recover-address-)`_recover(address account) → uint256` internal
Mint wrapped token to cover any underlyingTokens that would have been transferred by mistake or acquired from rebasing mechanisms. Internal function that can be exposed with access control if desired.
#### [](#ERC20Wrapper-ERC20InvalidUnderlying-address-)`ERC20InvalidUnderlying(address token)` error
The underlying token couldn’t be wrapped.
### [](#ERC20FlashMint)`ERC20FlashMint`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC20FlashMint.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC20FlashMint.sol";
Implementation of the ERC-3156 Flash loans extension, as defined in [ERC-3156](https://eips.ethereum.org/EIPS/eip-3156).
Adds the [`flashLoan`](#ERC20FlashMint-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-) method, which provides flash loan support at the token level. By default there is no fee, but this can be changed by overriding [`flashFee`](#ERC20FlashMint-flashFee-address-uint256-).
When this extension is used along with the [`ERC20Capped`](#ERC20Capped) or [`ERC20Votes`](#ERC20Votes) extensions, [`maxFlashLoan`](#ERC20FlashMint-maxFlashLoan-address-) will not correctly reflect the maximum that can be flash minted. We recommend overriding [`maxFlashLoan`](#ERC20FlashMint-maxFlashLoan-address-) so that it correctly reflects the supply cap.
Functions
* [`maxFlashLoan(token)`](#ERC20FlashMint-maxFlashLoan-address-)
 
* [`flashFee(token, value)`](#ERC20FlashMint-flashFee-address-uint256-)
 
* [`_flashFee(token, value)`](#ERC20FlashMint-_flashFee-address-uint256-)
 
* [`_flashFeeReceiver()`](#ERC20FlashMint-_flashFeeReceiver--)
 
* [`flashLoan(receiver, token, value, data)`](#ERC20FlashMint-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC20FlashMint-maxFlashLoan-address-)`maxFlashLoan(address token) → uint256` public
Returns the maximum amount of tokens available for loan.
#### [](#ERC20FlashMint-flashFee-address-uint256-)`flashFee(address token, uint256 value) → uint256` public
Returns the fee applied when doing flash loans. This function calls the [`_flashFee`](#ERC20FlashMint-_flashFee-address-uint256-) function which returns the fee applied when doing flash loans.
#### [](#ERC20FlashMint-_flashFee-address-uint256-)`_flashFee(address token, uint256 value) → uint256` internal
Returns the fee applied when doing flash loans. By default this implementation has 0 fees. This function can be overloaded to make the flash loan mechanism deflationary.
#### [](#ERC20FlashMint-_flashFeeReceiver--)`_flashFeeReceiver() → address` internal
Returns the receiver address of the flash fee. By default this implementation returns the address(0) which means the fee amount will be burnt. This function can be overloaded to change the fee receiver.
#### [](#ERC20FlashMint-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-)`flashLoan(contract IERC3156FlashBorrower receiver, address token, uint256 value, bytes data) → bool` public
Performs a flash loan. New tokens are minted and sent to the `receiver`, who is required to implement the [`IERC3156FlashBorrower`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC3156FlashBorrower) interface. By the end of the flash loan, the receiver is expected to own value + fee tokens and have them approved back to the token contract itself so they can be burned.
#### [](#ERC20FlashMint-ERC3156UnsupportedToken-address-)`ERC3156UnsupportedToken(address token)` error
The loan token is not valid.
#### [](#ERC20FlashMint-ERC3156ExceededMaxLoan-uint256-)`ERC3156ExceededMaxLoan(uint256 maxLoan)` error
The requested loan exceeds the max loan value for `token`.
#### [](#ERC20FlashMint-ERC3156InvalidReceiver-address-)`ERC3156InvalidReceiver(address receiver)` error
### [](#ERC20TemporaryApproval)`ERC20TemporaryApproval`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/draft-ERC20TemporaryApproval.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/draft-ERC20TemporaryApproval.sol";
Extension of [`ERC20`](#ERC20) that adds support for temporary allowances following ERC-7674.
This is a draft contract. The corresponding ERC is still subject to changes.
_Available since v5.1._
Functions
* [`allowance(owner, spender)`](#ERC20TemporaryApproval-allowance-address-address-)
 
* [`_temporaryAllowance(owner, spender)`](#ERC20TemporaryApproval-_temporaryAllowance-address-address-)
 
* [`temporaryApprove(spender, value)`](#ERC20TemporaryApproval-temporaryApprove-address-uint256-)
 
* [`_temporaryApprove(owner, spender, value)`](#ERC20TemporaryApproval-_temporaryApprove-address-address-uint256-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20TemporaryApproval-_spendAllowance-address-address-uint256-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
#### [](#ERC20TemporaryApproval-allowance-address-address-)`allowance(address owner, address spender) → uint256` public
[`allowance`](#ERC20TemporaryApproval-allowance-address-address-) override that includes the temporary allowance when looking up the current allowance. If adding up the persistent and the temporary allowances result in an overflow, type(uint256).max is returned.
#### [](#ERC20TemporaryApproval-_temporaryAllowance-address-address-)`_temporaryAllowance(address owner, address spender) → uint256` internal
Internal getter for the current temporary allowance that `spender` has over `owner` tokens.
#### [](#ERC20TemporaryApproval-temporaryApprove-address-uint256-)`temporaryApprove(address spender, uint256 value) → bool` public
Alternative to [`approve`](#ERC20-approve-address-uint256-) that sets a `value` amount of tokens as the temporary allowance of `spender` over the caller’s tokens.
Returns a boolean value indicating whether the operation succeeded.
Requirements: - `spender` cannot be the zero address.
Does NOT emit an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
#### [](#ERC20TemporaryApproval-_temporaryApprove-address-address-uint256-)`_temporaryApprove(address owner, address spender, uint256 value)` internal
Sets `value` as the temporary allowance of `spender` over the \`owner’s tokens.
This internal function is equivalent to `temporaryApprove`, and can be used to e.g. set automatic allowances for certain subsystems, etc.
Requirements: - `owner` cannot be the zero address. - `spender` cannot be the zero address.
Does NOT emit an [`Approval`](#IERC20-Approval-address-address-uint256-) event.
#### [](#ERC20TemporaryApproval-_spendAllowance-address-address-uint256-)`_spendAllowance(address owner, address spender, uint256 value)` internal
[`_spendAllowance`](#ERC20TemporaryApproval-_spendAllowance-address-address-uint256-) override that consumes the temporary allowance (if any) before eventually falling back to consuming the persistent allowance. NOTE: This function skips calling `super._spendAllowance` if the temporary allowance is enough to cover the spending.
### [](#ERC1363)`ERC1363`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC1363.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC1363.sol";
Extension of [`ERC20`](#ERC20) tokens that adds support for code execution after transfers and approvals on recipient contracts. Calls after transfers are enabled through the [`ERC1363.transferAndCall`](#ERC1363-transferAndCall-address-uint256-bytes-) and [`ERC1363.transferFromAndCall`](#ERC1363-transferFromAndCall-address-address-uint256-bytes-) methods while calls after approvals can be made with [`ERC1363.approveAndCall`](#ERC1363-approveAndCall-address-uint256-bytes-)
_Available since v5.1._
Functions
* [`supportsInterface(interfaceId)`](#ERC1363-supportsInterface-bytes4-)
 
* [`transferAndCall(to, value)`](#ERC1363-transferAndCall-address-uint256-)
 
* [`transferAndCall(to, value, data)`](#ERC1363-transferAndCall-address-uint256-bytes-)
 
* [`transferFromAndCall(from, to, value)`](#ERC1363-transferFromAndCall-address-address-uint256-)
 
* [`transferFromAndCall(from, to, value, data)`](#ERC1363-transferFromAndCall-address-address-uint256-bytes-)
 
* [`approveAndCall(spender, value)`](#ERC1363-approveAndCall-address-uint256-)
 
* [`approveAndCall(spender, value, data)`](#ERC1363-approveAndCall-address-uint256-bytes-)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`decimals()`](#ERC20-decimals--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
#### [](#ERC1363-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding [ERC section](https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified) to learn more about how these ids are created.
This function call must use less than 30 000 gas.
#### [](#ERC1363-transferAndCall-address-uint256-)`transferAndCall(address to, uint256 value) → bool` public
Moves a `value` amount of tokens from the caller’s account to `to` and then calls [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`. Returns a flag that indicates if the call succeeded.
Requirements:
* The target has code (i.e. is a contract).
 
* The target `to` must implement the [`IERC1363Receiver`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver) interface.
 
* The target must return the [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) selector to accept the transfer.
 
* The internal [`transfer`](#ERC20-transfer-address-uint256-) must succeed (returned `true`).
 
#### [](#ERC1363-transferAndCall-address-uint256-bytes-)`transferAndCall(address to, uint256 value, bytes data) → bool` public
Variant of [`transferAndCall`](#ERC1363-transferAndCall-address-uint256-bytes-) that accepts an additional `data` parameter with no specified format.
#### [](#ERC1363-transferFromAndCall-address-address-uint256-)`transferFromAndCall(address from, address to, uint256 value) → bool` public
Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism and then calls [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`. Returns a flag that indicates if the call succeeded.
Requirements:
* The target has code (i.e. is a contract).
 
* The target `to` must implement the [`IERC1363Receiver`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver) interface.
 
* The target must return the [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) selector to accept the transfer.
 
* The internal [`transferFrom`](#ERC20-transferFrom-address-address-uint256-) must succeed (returned `true`).
 
#### [](#ERC1363-transferFromAndCall-address-address-uint256-bytes-)`transferFromAndCall(address from, address to, uint256 value, bytes data) → bool` public
Variant of [`transferFromAndCall`](#ERC1363-transferFromAndCall-address-address-uint256-bytes-) that accepts an additional `data` parameter with no specified format.
#### [](#ERC1363-approveAndCall-address-uint256-)`approveAndCall(address spender, uint256 value) → bool` public
Sets a `value` amount of tokens as the allowance of `spender` over the caller’s tokens and then calls [`IERC1363Spender.onApprovalReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) on `spender`. Returns a flag that indicates if the call succeeded.
Requirements:
* The target has code (i.e. is a contract).
 
* The target `spender` must implement the [`IERC1363Spender`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender) interface.
 
* The target must return the [`IERC1363Spender.onApprovalReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) selector to accept the approval.
 
* The internal [`approve`](#ERC20-approve-address-uint256-) must succeed (returned `true`).
 
#### [](#ERC1363-approveAndCall-address-uint256-bytes-)`approveAndCall(address spender, uint256 value, bytes data) → bool` public
Variant of [`approveAndCall`](#ERC1363-approveAndCall-address-uint256-bytes-) that accepts an additional `data` parameter with no specified format.
#### [](#ERC1363-ERC1363TransferFailed-address-uint256-)`ERC1363TransferFailed(address receiver, uint256 value)` error
Indicates a failure within the [`transfer`](#ERC20-transfer-address-uint256-) part of a transferAndCall operation.
#### [](#ERC1363-ERC1363TransferFromFailed-address-address-uint256-)`ERC1363TransferFromFailed(address sender, address receiver, uint256 value)` error
Indicates a failure within the [`transferFrom`](#ERC20-transferFrom-address-address-uint256-) part of a transferFromAndCall operation.
#### [](#ERC1363-ERC1363ApproveFailed-address-uint256-)`ERC1363ApproveFailed(address spender, uint256 value)` error
Indicates a failure within the [`approve`](#ERC20-approve-address-uint256-) part of a approveAndCall operation.
### [](#ERC4626)`ERC4626`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/extensions/ERC4626.sol)
 import "@openzeppelin/contracts/token/ERC20/extensions/ERC4626.sol";
Implementation of the ERC-4626 "Tokenized Vault Standard" as defined in [ERC-4626](https://eips.ethereum.org/EIPS/eip-4626).
This extension allows the minting and burning of "shares" (represented using the ERC-20 inheritance) in exchange for underlying "assets" through standardized [`deposit`](#ERC4626-deposit-uint256-address-), [`mint`](#ERC4626-mint-uint256-address-), [`redeem`](#ERC4626-redeem-uint256-address-address-) and [`burn`](#ERC20Burnable-burn-uint256-) workflows. This contract extends the ERC-20 standard. Any additional extensions included along it would affect the "shares" token represented by this contract and not the "assets" token which is an independent contract.
In empty (or nearly empty) ERC-4626 vaults, deposits are at high risk of being stolen through frontrunning with a "donation" to the vault that inflates the price of a share. This is variously known as a donation or inflation attack and is essentially a problem of slippage. Vault deployers can protect against this attack by making an initial deposit of a non-trivial amount of the asset, such that price manipulation becomes infeasible. Withdrawals may similarly be affected by slippage. Users can protect against this attack as well as unexpected slippage in general by verifying the amount received is as expected, using a wrapper that performs these checks such as [ERC4626Router](https://github.com/fei-protocol/ERC4626#erc4626router-and-base).
Since v4.9, this implementation introduces configurable virtual assets and shares to help developers mitigate that risk. The `_decimalsOffset()` corresponds to an offset in the decimal representation between the underlying asset’s decimals and the vault decimals. This offset also determines the rate of virtual shares to virtual assets in the vault, which itself determines the initial exchange rate. While not fully preventing the attack, analysis shows that the default offset (0) makes it non-profitable even if an attacker is able to capture value from multiple user deposits, as a result of the value being captured by the virtual shares (out of the attacker’s donation) matching the attacker’s expected gains. With a larger offset, the attack becomes orders of magnitude more expensive than it is profitable. More details about the underlying math can be found [here](https://docs.openzeppelin.com/contracts/5.x/erc4626#inflation-attack).
The drawback of this approach is that the virtual shares do capture (a very small) part of the value being accrued to the vault. Also, if the vault experiences losses, the users try to exit the vault, the virtual shares and assets will cause the first user to exit to experience reduced losses in detriment to the last users that will experience bigger losses. Developers willing to revert back to the pre-v4.9 behavior just need to override the `_convertToShares` and `_convertToAssets` functions.
Functions
* [`constructor(asset_)`](#ERC4626-constructor-contract-IERC20-)
 
* [`decimals()`](#ERC4626-decimals--)
 
* [`asset()`](#ERC4626-asset--)
 
* [`totalAssets()`](#ERC4626-totalAssets--)
 
* [`convertToShares(assets)`](#ERC4626-convertToShares-uint256-)
 
* [`convertToAssets(shares)`](#ERC4626-convertToAssets-uint256-)
 
* [`maxDeposit()`](#ERC4626-maxDeposit-address-)
 
* [`maxMint()`](#ERC4626-maxMint-address-)
 
* [`maxWithdraw(owner)`](#ERC4626-maxWithdraw-address-)
 
* [`maxRedeem(owner)`](#ERC4626-maxRedeem-address-)
 
* [`previewDeposit(assets)`](#ERC4626-previewDeposit-uint256-)
 
* [`previewMint(shares)`](#ERC4626-previewMint-uint256-)
 
* [`previewWithdraw(assets)`](#ERC4626-previewWithdraw-uint256-)
 
* [`previewRedeem(shares)`](#ERC4626-previewRedeem-uint256-)
 
* [`deposit(assets, receiver)`](#ERC4626-deposit-uint256-address-)
 
* [`mint(shares, receiver)`](#ERC4626-mint-uint256-address-)
 
* [`withdraw(assets, receiver, owner)`](#ERC4626-withdraw-uint256-address-address-)
 
* [`redeem(shares, receiver, owner)`](#ERC4626-redeem-uint256-address-address-)
 
* [`_convertToShares(assets, rounding)`](#ERC4626-_convertToShares-uint256-enum-Math-Rounding-)
 
* [`_convertToAssets(shares, rounding)`](#ERC4626-_convertToAssets-uint256-enum-Math-Rounding-)
 
* [`_deposit(caller, receiver, assets, shares)`](#ERC4626-_deposit-address-address-uint256-uint256-)
 
* [`_withdraw(caller, receiver, owner, assets, shares)`](#ERC4626-_withdraw-address-address-address-uint256-uint256-)
 
* [`_decimalsOffset()`](#ERC4626-_decimalsOffset--)
 
ERC20
* [`name()`](#ERC20-name--)
 
* [`symbol()`](#ERC20-symbol--)
 
* [`totalSupply()`](#ERC20-totalSupply--)
 
* [`balanceOf(account)`](#ERC20-balanceOf-address-)
 
* [`transfer(to, value)`](#ERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](#ERC20-allowance-address-address-)
 
* [`approve(spender, value)`](#ERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](#ERC20-transferFrom-address-address-uint256-)
 
* [`_transfer(from, to, value)`](#ERC20-_transfer-address-address-uint256-)
 
* [`_update(from, to, value)`](#ERC20-_update-address-address-uint256-)
 
* [`_mint(account, value)`](#ERC20-_mint-address-uint256-)
 
* [`_burn(account, value)`](#ERC20-_burn-address-uint256-)
 
* [`_approve(owner, spender, value)`](#ERC20-_approve-address-address-uint256-)
 
* [`_approve(owner, spender, value, emitEvent)`](#ERC20-_approve-address-address-uint256-bool-)
 
* [`_spendAllowance(owner, spender, value)`](#ERC20-_spendAllowance-address-address-uint256-)
 
Errors
* [`ERC4626ExceededMaxDeposit(receiver, assets, max)`](#ERC4626-ERC4626ExceededMaxDeposit-address-uint256-uint256-)
 
* [`ERC4626ExceededMaxMint(receiver, shares, max)`](#ERC4626-ERC4626ExceededMaxMint-address-uint256-uint256-)
 
* [`ERC4626ExceededMaxWithdraw(owner, assets, max)`](#ERC4626-ERC4626ExceededMaxWithdraw-address-uint256-uint256-)
 
* [`ERC4626ExceededMaxRedeem(owner, shares, max)`](#ERC4626-ERC4626ExceededMaxRedeem-address-uint256-uint256-)
 
IERC20Errors
* [`ERC20InsufficientBalance(sender, balance, needed)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InsufficientBalance-address-uint256-uint256-)
 
* [`ERC20InvalidSender(sender)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidSender-address-)
 
* [`ERC20InvalidReceiver(receiver)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidReceiver-address-)
 
* [`ERC20InsufficientAllowance(spender, allowance, needed)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InsufficientAllowance-address-uint256-uint256-)
 
* [`ERC20InvalidApprover(approver)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidApprover-address-)
 
* [`ERC20InvalidSpender(spender)`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC20Errors-ERC20InvalidSpender-address-)
 
#### [](#ERC4626-constructor-contract-IERC20-)`constructor(contract IERC20 asset_)` internal
Set the underlying asset contract. This must be an ERC20-compatible contract (ERC-20 or ERC-777).
#### [](#ERC4626-decimals--)`decimals() → uint8` public
Decimals are computed by adding the decimal offset on top of the underlying asset’s decimals. This "original" value is cached during construction of the vault contract. If this read operation fails (e.g., the asset has not been created yet), a default of 18 is used to represent the underlying asset’s decimals.
See [`IERC20Metadata.decimals`](#IERC20Metadata-decimals--).
#### [](#ERC4626-asset--)`asset() → address` public
#### [](#ERC4626-totalAssets--)`totalAssets() → uint256` public
#### [](#ERC4626-convertToShares-uint256-)`convertToShares(uint256 assets) → uint256` public
#### [](#ERC4626-convertToAssets-uint256-)`convertToAssets(uint256 shares) → uint256` public
#### [](#ERC4626-maxDeposit-address-)`maxDeposit(address) → uint256` public
#### [](#ERC4626-maxMint-address-)`maxMint(address) → uint256` public
#### [](#ERC4626-maxWithdraw-address-)`maxWithdraw(address owner) → uint256` public
#### [](#ERC4626-maxRedeem-address-)`maxRedeem(address owner) → uint256` public
#### [](#ERC4626-previewDeposit-uint256-)`previewDeposit(uint256 assets) → uint256` public
#### [](#ERC4626-previewMint-uint256-)`previewMint(uint256 shares) → uint256` public
#### [](#ERC4626-previewWithdraw-uint256-)`previewWithdraw(uint256 assets) → uint256` public
#### [](#ERC4626-previewRedeem-uint256-)`previewRedeem(uint256 shares) → uint256` public
#### [](#ERC4626-deposit-uint256-address-)`deposit(uint256 assets, address receiver) → uint256` public
#### [](#ERC4626-mint-uint256-address-)`mint(uint256 shares, address receiver) → uint256` public
#### [](#ERC4626-withdraw-uint256-address-address-)`withdraw(uint256 assets, address receiver, address owner) → uint256` public
#### [](#ERC4626-redeem-uint256-address-address-)`redeem(uint256 shares, address receiver, address owner) → uint256` public
#### [](#ERC4626-_convertToShares-uint256-enum-Math-Rounding-)`_convertToShares(uint256 assets, enum Math.Rounding rounding) → uint256` internal
Internal conversion function (from assets to shares) with support for rounding direction.
#### [](#ERC4626-_convertToAssets-uint256-enum-Math-Rounding-)`_convertToAssets(uint256 shares, enum Math.Rounding rounding) → uint256` internal
Internal conversion function (from shares to assets) with support for rounding direction.
#### [](#ERC4626-_deposit-address-address-uint256-uint256-)`_deposit(address caller, address receiver, uint256 assets, uint256 shares)` internal
Deposit/mint common workflow.
#### [](#ERC4626-_withdraw-address-address-address-uint256-uint256-)`_withdraw(address caller, address receiver, address owner, uint256 assets, uint256 shares)` internal
Withdraw/redeem common workflow.
#### [](#ERC4626-_decimalsOffset--)`_decimalsOffset() → uint8` internal
#### [](#ERC4626-ERC4626ExceededMaxDeposit-address-uint256-uint256-)`ERC4626ExceededMaxDeposit(address receiver, uint256 assets, uint256 max)` error
Attempted to deposit more assets than the max amount for `receiver`.
#### [](#ERC4626-ERC4626ExceededMaxMint-address-uint256-uint256-)`ERC4626ExceededMaxMint(address receiver, uint256 shares, uint256 max)` error
Attempted to mint more shares than the max amount for `receiver`.
#### [](#ERC4626-ERC4626ExceededMaxWithdraw-address-uint256-uint256-)`ERC4626ExceededMaxWithdraw(address owner, uint256 assets, uint256 max)` error
Attempted to withdraw more assets than the max amount for `receiver`.
#### [](#ERC4626-ERC4626ExceededMaxRedeem-address-uint256-uint256-)`ERC4626ExceededMaxRedeem(address owner, uint256 shares, uint256 max)` error
Attempted to redeem more shares than the max amount for `receiver`.
## [](#utilities)Utilities
### [](#SafeERC20)`SafeERC20`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/utils/SafeERC20.sol)
 import "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";
Wrappers around ERC-20 operations that throw on failure (when the token contract returns false). Tokens that return no value (and instead revert or throw on failure) are also supported, non-reverting calls are assumed to be successful. To use this library you can add a `using SafeERC20 for IERC20;` statement to your contract, which allows you to call the safe operations as `token.safeTransfer(…​)`, etc.
Functions
* [`safeTransfer(token, to, value)`](#SafeERC20-safeTransfer-contract-IERC20-address-uint256-)
 
* [`safeTransferFrom(token, from, to, value)`](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-)
 
* [`trySafeTransfer(token, to, value)`](#SafeERC20-trySafeTransfer-contract-IERC20-address-uint256-)
 
* [`trySafeTransferFrom(token, from, to, value)`](#SafeERC20-trySafeTransferFrom-contract-IERC20-address-address-uint256-)
 
* [`safeIncreaseAllowance(token, spender, value)`](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-)
 
* [`safeDecreaseAllowance(token, spender, requestedDecrease)`](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-)
 
* [`forceApprove(token, spender, value)`](#SafeERC20-forceApprove-contract-IERC20-address-uint256-)
 
* [`transferAndCallRelaxed(token, to, value, data)`](#SafeERC20-transferAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)
 
* [`transferFromAndCallRelaxed(token, from, to, value, data)`](#SafeERC20-transferFromAndCallRelaxed-contract-IERC1363-address-address-uint256-bytes-)
 
* [`approveAndCallRelaxed(token, to, value, data)`](#SafeERC20-approveAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)
 
Errors
* [`SafeERC20FailedOperation(token)`](#SafeERC20-SafeERC20FailedOperation-address-)
 
* [`SafeERC20FailedDecreaseAllowance(spender, currentAllowance, requestedDecrease)`](#SafeERC20-SafeERC20FailedDecreaseAllowance-address-uint256-uint256-)
 
#### [](#SafeERC20-safeTransfer-contract-IERC20-address-uint256-)`safeTransfer(contract IERC20 token, address to, uint256 value)` internal
Transfer `value` amount of `token` from the calling contract to `to`. If `token` returns no value, non-reverting calls are assumed to be successful.
#### [](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-)`safeTransferFrom(contract IERC20 token, address from, address to, uint256 value)` internal
Transfer `value` amount of `token` from `from` to `to`, spending the approval given by `from` to the calling contract. If `token` returns no value, non-reverting calls are assumed to be successful.
#### [](#SafeERC20-trySafeTransfer-contract-IERC20-address-uint256-)`trySafeTransfer(contract IERC20 token, address to, uint256 value) → bool` internal
Variant of [`safeTransfer`](#SafeERC20-safeTransfer-contract-IERC20-address-uint256-) that returns a bool instead of reverting if the operation is not successful.
#### [](#SafeERC20-trySafeTransferFrom-contract-IERC20-address-address-uint256-)`trySafeTransferFrom(contract IERC20 token, address from, address to, uint256 value) → bool` internal
Variant of [`safeTransferFrom`](#SafeERC20-safeTransferFrom-contract-IERC20-address-address-uint256-) that returns a bool instead of reverting if the operation is not successful.
#### [](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-)`safeIncreaseAllowance(contract IERC20 token, address spender, uint256 value)` internal
Increase the calling contract’s allowance toward `spender` by `value`. If `token` returns no value, non-reverting calls are assumed to be successful.
If the token implements ERC-7674 (ERC-20 with temporary allowance), and if the "client" smart contract uses ERC-7674 to set temporary allowances, then the "client" smart contract should avoid using this function. Performing a [`safeIncreaseAllowance`](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-) or [`safeDecreaseAllowance`](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-) operation on a token contract that has a non-zero temporary allowance (for that particular owner-spender) will result in unexpected behavior.
#### [](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-)`safeDecreaseAllowance(contract IERC20 token, address spender, uint256 requestedDecrease)` internal
Decrease the calling contract’s allowance toward `spender` by `requestedDecrease`. If `token` returns no value, non-reverting calls are assumed to be successful.
If the token implements ERC-7674 (ERC-20 with temporary allowance), and if the "client" smart contract uses ERC-7674 to set temporary allowances, then the "client" smart contract should avoid using this function. Performing a [`safeIncreaseAllowance`](#SafeERC20-safeIncreaseAllowance-contract-IERC20-address-uint256-) or [`safeDecreaseAllowance`](#SafeERC20-safeDecreaseAllowance-contract-IERC20-address-uint256-) operation on a token contract that has a non-zero temporary allowance (for that particular owner-spender) will result in unexpected behavior.
#### [](#SafeERC20-forceApprove-contract-IERC20-address-uint256-)`forceApprove(contract IERC20 token, address spender, uint256 value)` internal
Set the calling contract’s allowance toward `spender` to `value`. If `token` returns no value, non-reverting calls are assumed to be successful. Meant to be used with tokens that require the approval to be set to zero before setting it to a non-zero value, such as USDT.
If the token implements ERC-7674, this function will not modify any temporary allowance. This function only sets the "standard" allowance. Any temporary allowance will remain active, in addition to the value being set here.
#### [](#SafeERC20-transferAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)`transferAndCallRelaxed(contract IERC1363 token, address to, uint256 value, bytes data)` internal
Performs an [`ERC1363`](#ERC1363) transferAndCall, with a fallback to the simple [`ERC20`](#ERC20) transfer if the target has no code. This can be used to implement an [`ERC721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721)\-like safe transfer that rely on [`ERC1363`](#ERC1363) checks when targeting contracts.
Reverts if the returned value is other than `true`.
#### [](#SafeERC20-transferFromAndCallRelaxed-contract-IERC1363-address-address-uint256-bytes-)`transferFromAndCallRelaxed(contract IERC1363 token, address from, address to, uint256 value, bytes data)` internal
Performs an [`ERC1363`](#ERC1363) transferFromAndCall, with a fallback to the simple [`ERC20`](#ERC20) transferFrom if the target has no code. This can be used to implement an [`ERC721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721)\-like safe transfer that rely on [`ERC1363`](#ERC1363) checks when targeting contracts.
Reverts if the returned value is other than `true`.
#### [](#SafeERC20-approveAndCallRelaxed-contract-IERC1363-address-uint256-bytes-)`approveAndCallRelaxed(contract IERC1363 token, address to, uint256 value, bytes data)` internal
Performs an [`ERC1363`](#ERC1363) approveAndCall, with a fallback to the simple [`ERC20`](#ERC20) approve if the target has no code. This can be used to implement an [`ERC721`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721)\-like safe transfer that rely on [`ERC1363`](#ERC1363) checks when targeting contracts.
When the recipient address (`to`) has no code (i.e. is an EOA), this function behaves as [`forceApprove`](#SafeERC20-forceApprove-contract-IERC20-address-uint256-). Opposedly, when the recipient address (`to`) has code, this function only attempts to call [`ERC1363.approveAndCall`](#ERC1363-approveAndCall-address-uint256-bytes-) once without retrying, and relies on the returned value to be true.
Reverts if the returned value is other than `true`.
#### [](#SafeERC20-SafeERC20FailedOperation-address-)`SafeERC20FailedOperation(address token)` error
An operation with an ERC-20 token failed.
#### [](#SafeERC20-SafeERC20FailedDecreaseAllowance-address-uint256-uint256-)`SafeERC20FailedDecreaseAllowance(address spender, uint256 currentAllowance, uint256 requestedDecrease)` error
Indicates a failed `decreaseAllowance` request.
### [](#ERC1363Utils)`ERC1363Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/ERC20/utils/ERC1363Utils.sol)
 import "@openzeppelin/contracts/token/ERC20/utils/ERC1363Utils.sol";
Library that provides common ERC-1363 utility functions.
Functions
* [`checkOnERC1363TransferReceived(operator, from, to, value, data)`](#ERC1363Utils-checkOnERC1363TransferReceived-address-address-address-uint256-bytes-)
 
* [`checkOnERC1363ApprovalReceived(operator, spender, value, data)`](#ERC1363Utils-checkOnERC1363ApprovalReceived-address-address-uint256-bytes-)
 
#### [](#ERC1363Utils-checkOnERC1363TransferReceived-address-address-address-uint256-bytes-)`checkOnERC1363TransferReceived(address operator, address from, address to, uint256 value, bytes data)` internal
Requirements:
* The target has code (i.e. is a contract).
 
* The target `to` must implement the [`IERC1363Receiver`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver) interface.
 
* The target must return the [`IERC1363Receiver.onTransferReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) selector to accept the transfer.
 
#### [](#ERC1363Utils-checkOnERC1363ApprovalReceived-address-address-uint256-bytes-)`checkOnERC1363ApprovalReceived(address operator, address spender, uint256 value, bytes data)` internal
Requirements:
* The target has code (i.e. is a contract).
 
* The target `spender` must implement the [`IERC1363Spender`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender) interface.
 
* The target must return the [`IERC1363Spender.onApprovalReceived`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) selector to accept the approval.
 
#### [](#ERC1363Utils-ERC1363InvalidReceiver-address-)`ERC1363InvalidReceiver(address receiver)` error
Indicates a failure with the token `receiver`. Used in transfers.
#### [](#ERC1363Utils-ERC1363InvalidSpender-address-)`ERC1363InvalidSpender(address spender)` error
Indicates a failure with the token `spender`. Used in approvals.

# [ERC-1155 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/erc1155) 
 _https://docs.openzeppelin.com/contracts/5.x/erc1155_

ERC-1155 is a novel token standard that aims to take the best from previous standards to create a [**fungibility-agnostic**](https://docs.openzeppelin.com/contracts/5.x/tokens#different-kinds-of-tokens) and **gas-efficient** [token contract](https://docs.openzeppelin.com/contracts/5.x/tokens#but_first_coffee_a_primer_on_token_contracts).
ERC-1155 draws ideas from all of [ERC-20](https://docs.openzeppelin.com/contracts/5.x/erc20), [ERC-721](https://docs.openzeppelin.com/contracts/5.x/erc721), and [ERC-777](https://eips.ethereum.org/EIPS/eip-777). If you’re unfamiliar with those standards, head to their guides before moving on.
## [](#multi-token-standard)Multi Token Standard
The distinctive feature of ERC-1155 is that it uses a single smart contract to represent multiple tokens at once. This is why its [`balanceOf`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155-balanceOf-address-uint256-) function differs from ERC-20’s and ERC-777’s: it has an additional `id` argument for the identifier of the token that you want to query the balance of.
This is similar to how ERC-721 does things, but in that standard a token `id` has no concept of balance: each token is non-fungible and exists or doesn’t. The ERC-721 [`balanceOf`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-balanceOf-address-) function refers to _how many different tokens_ an account has, not how many of each. On the other hand, in ERC-1155 accounts have a distinct balance for each token `id`, and non-fungible tokens are implemented by simply minting a single one of them.
This approach leads to massive gas savings for projects that require multiple tokens. Instead of deploying a new contract for each token type, a single ERC-1155 token contract can hold the entire system state, reducing deployment costs and complexity.
## [](#batch-operations)Batch Operations
Because all state is held in a single contract, it is possible to operate over multiple tokens in a single transaction very efficiently. The standard provides two functions, [`balanceOfBatch`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155-balanceOfBatch-address---uint256---) and [`safeBatchTransferFrom`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155-safeBatchTransferFrom-address-address-uint256---uint256---bytes-), that make querying multiple balances and transferring multiple tokens simpler and less gas-intensive.
In the spirit of the standard, we’ve also included batch operations in the non-standard functions, such as [`_mintBatch`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#ERC1155-_mintBatch-address-uint256---uint256---bytes-).
## [](#constructing_an_erc_1155_token_contract)Constructing an ERC-1155 Token Contract
We’ll use ERC-1155 to track multiple items in our game, which will each have their own unique attributes. We mint all items to the deployer of the contract, which we can later transfer to players. Players are free to keep their tokens or trade them with other people as they see fit, as they would any other asset on the blockchain!
For simplicity, we will mint all items in the constructor, but you could add minting functionality to the contract to mint on demand to players.
Here’s what a contract for tokenized items might look like:
 // contracts/GameItems.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC1155} from "@openzeppelin/contracts/token/ERC1155/ERC1155.sol";
 
 contract GameItems is ERC1155 {
 uint256 public constant GOLD = 0;
 uint256 public constant SILVER = 1;
 uint256 public constant THORS_HAMMER = 2;
 uint256 public constant SWORD = 3;
 uint256 public constant SHIELD = 4;
 
 constructor() ERC1155("https://game.example/api/item/{id}.json") {
 _mint(msg.sender, GOLD, 10 ** 18, "");
 _mint(msg.sender, SILVER, 10 ** 27, "");
 _mint(msg.sender, THORS_HAMMER, 1, "");
 _mint(msg.sender, SWORD, 10 ** 9, "");
 _mint(msg.sender, SHIELD, 10 ** 9, "");
 }
 }
Note that for our Game Items, Gold is a fungible token whilst Thor’s Hammer is a non-fungible token as we minted only one.
The [`ERC1155`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#ERC1155) contract includes the optional extension [`IERC1155MetadataURI`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155MetadataURI). That’s where the [`uri`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155MetadataURI-uri-uint256-) function comes from: we use it to retrieve the metadata uri.
Also note that, unlike ERC-20, ERC-1155 lacks a `decimals` field, since each token is distinct and cannot be partitioned.
Once deployed, we will be able to query the deployer’s balance:
 > gameItems.balanceOf(deployerAddress,3)
 1000000000
We can transfer items to player accounts:
 > gameItems.safeTransferFrom(deployerAddress, playerAddress, 2, 1, "0x0")
 > gameItems.balanceOf(playerAddress, 2)
 1
 > gameItems.balanceOf(deployerAddress, 2)
 0
We can also batch transfer items to player accounts and get the balance of batches:
 > gameItems.safeBatchTransferFrom(deployerAddress, playerAddress, [0,1,3,4], [50,100,1,1], "0x0")
 > gameItems.balanceOfBatch([playerAddress,playerAddress,playerAddress,playerAddress,playerAddress], [0,1,2,3,4])
 [50,100,1,1,1]
The metadata uri can be obtained:
 > gameItems.uri(2)
 "https://game.example/api/item/{id}.json"
The `uri` can include the string `{id}` which clients must replace with the actual token ID, in lowercase hexadecimal (with no 0x prefix) and leading zero padded to 64 hex characters.
The JSON document for token ID 2 might look something like:
 {
 "name": "Thor's hammer",
 "description": "Mjölnir, the legendary hammer of the Norse god of thunder.",
 "image": "https://game.example/item-id-8u5h2m.png",
 "strength": 20
 }
You’ll notice that the item’s information is included in the metadata, but that information isn’t on-chain! So a game developer could change the underlying metadata, changing the rules of the game!
If you’d like to put all item information on-chain, you can extend ERC-721 to do so (though it will be rather costly) by providing a [`Base64`](https://docs.openzeppelin.com/contracts/5.x/utilities#base64) Data URI with the JSON schema encoded. You could also leverage IPFS to store the URI information, but these techniques are out of the scope of this overview guide
## [](#sending-to-contracts)Sending Tokens to Contracts
A key difference when using [`safeTransferFrom`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#IERC1155-safeTransferFrom-address-address-uint256-uint256-bytes-) is that token transfers to other contracts may revert with the following custom error:
 ERC1155InvalidReceiver("<ADDRESS>")
This is a good thing! It means that the recipient contract has not registered itself as aware of the ERC-1155 protocol, so transfers to it are disabled to **prevent tokens from being locked forever**. As an example, [the Golem contract currently holds over 350k `GNT` tokens](https://etherscan.io/token/0xa74476443119A942dE498590Fe1f2454d7D4aC0d?a=0xa74476443119A942dE498590Fe1f2454d7D4aC0d), and lacks methods to get them out of there. This has happened to virtually every ERC20-backed project, usually due to user error.
In order for our contract to receive ERC-1155 tokens we can inherit from the convenience contract [`ERC1155Holder`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC1155#ERC1155Holder) which handles the registering for us. However, we need to remember to implement functionality to allow tokens to be transferred out of our contract:
 // contracts/MyERC115HolderContract.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC1155Holder} from "@openzeppelin/contracts/token/ERC1155/utils/ERC1155Holder.sol";
 
 contract MyERC115HolderContract is ERC1155Holder {}

# [Access Control - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/access-control) 
 _https://docs.openzeppelin.com/contracts/5.x/access-control_

Access control—that is, "who is allowed to do this thing"—is incredibly important in the world of smart contracts. The access control of your contract may govern who can mint tokens, vote on proposals, freeze transfers, and many other things. It is therefore **critical** to understand how you implement it, lest someone else [steals your whole system](https://blog.openzeppelin.com/on-the-parity-wallet-multisig-hack-405a8c12e8f7).
## [](#ownership-and-ownable)Ownership and `Ownable`
The most common and basic form of access control is the concept of _ownership_: there’s an account that is the `owner` of a contract and can do administrative tasks on it. This approach is perfectly reasonable for contracts that have a single administrative user.
OpenZeppelin Contracts provides [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable) for implementing ownership in your contracts.
 // SPDX-License-Identifier: MIT
 
 pragma solidity ^0.8.20;
 
 import {Ownable} from "@openzeppelin/contracts/access/Ownable.sol";
 
 contract MyContract is Ownable {
 constructor(address initialOwner) Ownable(initialOwner) {}
 
 function normalThing() public {
 // anyone can call this normalThing()
 }
 
 function specialThing() public onlyOwner {
 // only the owner can call specialThing()!
 }
 }
At deployment, the [`owner`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-owner--) of an `Ownable` contract is set to the provided `initialOwner` parameter.
Ownable also lets you:
* [`transferOwnership`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-transferOwnership-address-) from the owner account to a new one, and
 
* [`renounceOwnership`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable-renounceOwnership--) for the owner to relinquish this administrative privilege, a common pattern after an initial stage with centralized administration is over.
 
Removing the owner altogether will mean that administrative tasks that are protected by `onlyOwner` will no longer be callable!
Ownable is a simple and effective way to implement access control, but you should be mindful of the dangers associated with transferring the ownership to an incorrect account that can’t interact with this contract anymore. An alternative to this problem is using [`Ownable2Step`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable2Step); a variant of Ownable that requires the new owner to explicitly accept the ownership transfer by calling [`acceptOwnership`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable2Step-acceptOwnership--).
Note that **a contract can also be the owner of another one**! This opens the door to using, for example, a [Gnosis Safe](https://safe.global/), an [Aragon DAO](https://aragon.org/), or a totally custom contract that _you_ create.
In this way, you can use _composability_ to add additional layers of access control complexity to your contracts. Instead of having a single regular Ethereum account (Externally Owned Account, or EOA) as the owner, you could use a 2-of-3 multisig run by your project leads, for example. Prominent projects in the space, such as [MakerDAO](https://makerdao.com/), use systems similar to this one.
## [](#role-based-access-control)Role-Based Access Control
While the simplicity of _ownership_ can be useful for simple systems or quick prototyping, different levels of authorization are often needed. You may want for an account to have permission to ban users from a system, but not create new tokens. [_Role-Based Access Control (RBAC)_](https://en.wikipedia.org/wiki/Role-based_access_control) offers flexibility in this regard.
In essence, we will be defining multiple _roles_, each allowed to perform different sets of actions. An account may have, for example, 'moderator', 'minter' or 'admin' roles, which you will then check for instead of simply using `onlyOwner`. This check can be enforced through the `onlyRole` modifier. Separately, you will be able to define rules for how accounts can be granted a role, have it revoked, and more.
Most software uses access control systems that are role-based: some users are regular users, some may be supervisors or managers, and a few will often have administrative privileges.
### [](#using-access-control)Using `AccessControl`
OpenZeppelin Contracts provides [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) for implementing role-based access control. Its usage is straightforward: for each role that you want to define, you will create a new _role identifier_ that is used to grant, revoke, and check if an account has that role.
Here’s a simple example of using `AccessControl` in an [ERC-20 token](https://docs.openzeppelin.com/contracts/5.x/erc20) to define a 'minter' role, which allows accounts that have it create new tokens:
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 
 contract AccessControlERC20MintBase is ERC20, AccessControl {
 // Create a new role identifier for the minter role
 bytes32 public constant MINTER_ROLE = keccak256("MINTER_ROLE");
 
 error CallerNotMinter(address caller);
 
 constructor(address minter) ERC20("MyToken", "TKN") {
 // Grant the minter role to a specified account
 _grantRole(MINTER_ROLE, minter);
 }
 
 function mint(address to, uint256 amount) public {
 // Check that the calling account has the minter role
 if (!hasRole(MINTER_ROLE, msg.sender)) {
 revert CallerNotMinter(msg.sender);
 }
 _mint(to, amount);
 }
 }
Make sure you fully understand how [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) works before using it on your system, or copy-pasting the examples from this guide.
While clear and explicit, this isn’t anything we wouldn’t have been able to achieve with `Ownable`. Indeed, where `AccessControl` shines is in scenarios where granular permissions are required, which can be implemented by defining _multiple_ roles.
Let’s augment our ERC-20 token example by also defining a 'burner' role, which lets accounts destroy tokens, and by using the `onlyRole` modifier:
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 
 contract AccessControlERC20Mint is ERC20, AccessControl {
 bytes32 public constant MINTER_ROLE = keccak256("MINTER_ROLE");
 bytes32 public constant BURNER_ROLE = keccak256("BURNER_ROLE");
 
 constructor(address minter, address burner) ERC20("MyToken", "TKN") {
 _grantRole(MINTER_ROLE, minter);
 _grantRole(BURNER_ROLE, burner);
 }
 
 function mint(address to, uint256 amount) public onlyRole(MINTER_ROLE) {
 _mint(to, amount);
 }
 
 function burn(address from, uint256 amount) public onlyRole(BURNER_ROLE) {
 _burn(from, amount);
 }
 }
So clean! By splitting concerns this way, more granular levels of permission may be implemented than were possible with the simpler _ownership_ approach to access control. Limiting what each component of a system is able to do is known as the [principle of least privilege](https://en.wikipedia.org/wiki/Principle_of_least_privilege), and is a good security practice. Note that each account may still have more than one role, if so desired.
### [](#granting-and-revoking)Granting and Revoking Roles
The ERC-20 token example above uses `_grantRole`, an `internal` function that is useful when programmatically assigning roles (such as during construction). But what if we later want to grant the 'minter' role to additional accounts?
By default, **accounts with a role cannot grant it or revoke it from other accounts**: all having a role does is making the `hasRole` check pass. To grant and revoke roles dynamically, you will need help from the _role’s admin_.
Every role has an associated admin role, which grants permission to call the `grantRole` and `revokeRole` functions. A role can be granted or revoked by using these if the calling account has the corresponding admin role. Multiple roles may have the same admin role to make management easier. A role’s admin can even be the same role itself, which would cause accounts with that role to be able to also grant and revoke it.
This mechanism can be used to create complex permissioning structures resembling organizational charts, but it also provides an easy way to manage simpler applications. `AccessControl` includes a special role, called `DEFAULT_ADMIN_ROLE`, which acts as the **default admin role for all roles**. An account with this role will be able to manage any other role, unless `_setRoleAdmin` is used to select a new admin role.
Since it is the admin for all roles by default, and in fact it is also its own admin, this role carries significant risk. To mitigate this risk we provide [`AccessControlDefaultAdminRules`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControlDefaultAdminRules), a recommended extension of `AccessControl` that adds a number of enforced security measures for this role: the admin is restricted to a single account, with a 2-step transfer procedure with a delay in between steps.
Let’s take a look at the ERC-20 token example, this time taking advantage of the default admin role:
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {AccessControl} from "@openzeppelin/contracts/access/AccessControl.sol";
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 
 contract AccessControlERC20MintMissing is ERC20, AccessControl {
 bytes32 public constant MINTER_ROLE = keccak256("MINTER_ROLE");
 bytes32 public constant BURNER_ROLE = keccak256("BURNER_ROLE");
 
 constructor() ERC20("MyToken", "TKN") {
 // Grant the contract deployer the default admin role: it will be able
 // to grant and revoke any roles
 _grantRole(DEFAULT_ADMIN_ROLE, msg.sender);
 }
 
 function mint(address to, uint256 amount) public onlyRole(MINTER_ROLE) {
 _mint(to, amount);
 }
 
 function burn(address from, uint256 amount) public onlyRole(BURNER_ROLE) {
 _burn(from, amount);
 }
 }
Note that, unlike the previous examples, no accounts are granted the 'minter' or 'burner' roles. However, because those roles' admin role is the default admin role, and _that_ role was granted to `msg.sender`, that same account can call `grantRole` to give minting or burning permission, and `revokeRole` to remove it.
Dynamic role allocation is often a desirable property, for example in systems where trust in a participant may vary over time. It can also be used to support use cases such as [KYC](https://en.wikipedia.org/wiki/Know_your_customer), where the list of role-bearers may not be known up-front, or may be prohibitively expensive to include in a single transaction.
### [](#querying-privileged-accounts)Querying Privileged Accounts
Because accounts might [grant and revoke roles](#granting-and-revoking) dynamically, it is not always possible to determine which accounts hold a particular role. This is important as it allows proving certain properties about a system, such as that an administrative account is a multisig or a DAO, or that a certain role has been removed from all users, effectively disabling any associated functionality.
Under the hood, `AccessControl` uses `EnumerableSet`, a more powerful variant of Solidity’s `mapping` type, which allows for key enumeration. `getRoleMemberCount` can be used to retrieve the number of accounts that have a particular role, and `getRoleMember` can then be called to get the address of each of these accounts.
 const minterCount = await myToken.getRoleMemberCount(MINTER_ROLE);
 
 const members = [];
 for (let i = 0; i < minterCount; ++i) {
 members.push(await myToken.getRoleMember(MINTER_ROLE, i));
 }
## [](#delayed_operation)Delayed operation
Access control is essential to prevent unauthorized access to critical functions. These functions may be used to mint tokens, freeze transfers or perform an upgrade that completely changes the smart contract logic. While [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable) and [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) can prevent unauthorized access, they do not address the issue of a misbehaving administrator attacking their own system to the prejudice of their users.
The [`TimelockController`](https://docs.openzeppelin.com/contracts/5.x/api/governance#TimelockController) is a proxy that is governed by proposers and executors. When set as the owner/admin/controller of a smart contract, it ensures that whichever maintenance operation is ordered by the proposers is subject to a delay. This delay protects the users of the smart contract by giving them time to review the maintenance operation and exit the system if they consider it is in their best interest to do so.
### [](#using_timelockcontroller)Using `TimelockController`
By default, the address that deployed the [`TimelockController`](https://docs.openzeppelin.com/contracts/5.x/api/governance#TimelockController) gets administration privileges over the timelock. This role grants the right to assign proposers, executors, and other administrators.
The first step in configuring the [`TimelockController`](https://docs.openzeppelin.com/contracts/5.x/api/governance#TimelockController) is to assign at least one proposer and one executor. These can be assigned during construction or later by anyone with the administrator role. These roles are not exclusive, meaning an account can have both roles.
Roles are managed using the [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) interface and the `bytes32` values for each role are accessible through the `ADMIN_ROLE`, `PROPOSER_ROLE` and `EXECUTOR_ROLE` constants.
There is an additional feature built on top of `AccessControl`: giving the executor role to `address(0)` opens access to anyone to execute a proposal once the timelock has expired. This feature, while useful, should be used with caution.
At this point, with both a proposer and an executor assigned, the timelock can perform operations.
An optional next step is for the deployer to renounce its administrative privileges and leave the timelock self-administered. If the deployer decides to do so, all further maintenance, including assigning new proposers/schedulers or changing the timelock duration will have to follow the timelock workflow. This links the governance of the timelock to the governance of contracts attached to the timelock, and enforce a delay on timelock maintenance operations.
If the deployer renounces administrative rights in favour of timelock itself, assigning new proposers or executors will require a timelocked operation. This means that if the accounts in charge of any of these two roles become unavailable, then the entire contract (and any contract it controls) becomes locked indefinitely.
With both the proposer and executor roles assigned and the timelock in charge of its own administration, you can now transfer the ownership/control of any contract to the timelock.
A recommended configuration is to grant both roles to a secure governance contract such as a DAO or a multisig, and to additionally grant the executor role to a few EOAs held by people in charge of helping with the maintenance operations. These wallets cannot take over control of the timelock but they can help smoothen the workflow.
### [](#minimum_delay)Minimum delay
Operations executed by the [`TimelockController`](https://docs.openzeppelin.com/contracts/5.x/api/governance#TimelockController) are not subject to a fixed delay but rather a minimum delay. Some major updates might call for a longer delay. For example, if a delay of just a few days might be sufficient for users to audit a minting operation, it makes sense to use a delay of a few weeks, or even a few months, when scheduling a smart contract upgrade.
The minimum delay (accessible through the [`getMinDelay`](https://docs.openzeppelin.com/contracts/5.x/api/governance#TimelockController-getMinDelay--) method) can be updated by calling the [`updateDelay`](https://docs.openzeppelin.com/contracts/5.x/api/governance#TimelockController-updateDelay-uint256-) function. Bear in mind that access to this function is only accessible by the timelock itself, meaning this maintenance operation has to go through the timelock itself.
## [](#access-management)Access Management
For a system of contracts, better integrated role management can be achieved with an [`AccessManager`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager) instance. Instead of managing each contract’s permission separately, AccessManager stores all the permissions in a single contract, making your protocol easier to audit and maintain.
Although [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) offers a more dynamic solution for adding permissions to your contracts than Ownable, decentralized protocols tend to become more complex after integrating new contract instances and requires you to keep track of permissions separately in each contract. This increases the complexity of permissions management and monitoring across the system.
Protocols managing permissions in production systems often require more integrated alternatives to fragmented permissions through multiple `AccessControl` instances.
The AccessManager is designed around the concept of role and target functions:
* Roles are granted to accounts (addresses) following a many-to-many approach for flexibility. This means that each user can have one or multiple roles and multiple users can have the same role.
 
* Access to a restricted target function is limited to one role. A target function is defined by one [function selector](https://docs.soliditylang.org/en/v0.8.20/abi-spec.html#function-selector) on one contract (called target).
 
For a call to be authorized, the caller must bear the role that is assigned to the current target function (contract address + function selector).
### [](#using_accessmanager)Using `AccessManager`
OpenZeppelin Contracts provides [`AccessManager`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager) for managing roles across any number of contracts. The `AccessManager` itself is a contract that can be deployed and used out of the box. It sets an initial admin in the constructor who will be allowed to perform management operations.
In order to restrict access to some functions of your contract, you should inherit from the [`AccessManaged`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManaged) contract provided along with the manager. This provides the `restricted` modifier that can be used to protect any externally facing function. Note that you will have to specify the address of the AccessManager instance ([`initialAuthority`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManaged-constructor-address-)) in the constructor so the `restricted` modifier knows which manager to use for checking permissions.
Here’s a simple example of an [ERC-20 token](https://docs.openzeppelin.com/contracts/5.x/tokens#ERC20) that defines a `mint` function that is restricted by an [`AccessManager`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager):
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {AccessManaged} from "@openzeppelin/contracts/access/manager/AccessManaged.sol";
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 
 contract AccessManagedERC20Mint is ERC20, AccessManaged {
 constructor(address manager) ERC20("MyToken", "TKN") AccessManaged(manager) {}
 
 // Minting is restricted according to the manager rules for this function.
 // The function is identified by its selector: 0x40c10f19.
 // Calculated with bytes4(keccak256('mint(address,uint256)'))
 function mint(address to, uint256 amount) public restricted {
 _mint(to, amount);
 }
 }
Make sure you fully understand how [`AccessManager`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager) works before using it or copy-pasting the examples from this guide.
Once the managed contract has been deployed, it is now under the manager’s control. The initial admin can then assign the minter role to an address and also allow the role to call the `mint` function. For example, this is demonstrated in the following Javascript code using Ethers.js:
 // const target = ...;
 // const user = ...;
 const MINTER = 42n; // Roles are uint64 (0 is reserved for the ADMIN_ROLE)
 
 // Grant the minter role with no execution delay
 await manager.grantRole(MINTER, user, 0);
 
 // Allow the minter role to call the function selector
 // corresponding to the mint function
 await manager.setTargetFunctionRole(
 target,
 ['0x40c10f19'], // bytes4(keccak256('mint(address,uint256)'))
 MINTER
 );
Even though each role has its own list of function permissions, each role member (`address`) has an execution delay that will dictate how long the account should wait to execute a function that requires its role. Delayed operations must have the [`schedule`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-schedule-address-bytes-uint48-) function called on them first in the AccessManager before they can be executed, either by calling to the target function or using the AccessManager’s [`execute`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-execute-address-bytes-) function.
Additionally, roles can have a granting delay that prevents adding members immediately. The AccessManager admins can set this grant delay as follows:
 const HOUR = 60 * 60;
 
 const GRANT_DELAY = 24 * HOUR;
 const EXECUTION_DELAY = 5 * HOUR;
 const ACCOUNT = "0x...";
 
 await manager.connect(initialAdmin).setGrantDelay(MINTER, GRANT_DELAY);
 
 // The role will go into effect after the GRANT_DELAY passes
 await manager.connect(initialAdmin).grantRole(MINTER, ACCOUNT, EXECUTION_DELAY);
Note that roles do not define a name. As opposed to the [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl) case, roles are identified as numeric values instead of being hardcoded in the contract as `bytes32` values. It is still possible to allow for tooling discovery (e.g. for role exploration) using role labeling with the [`labelRole`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-labelRole-uint64-string-) function.
 await manager.labelRole(MINTER, "MINTER");
Given the admins of the `AccessManaged` can modify all of its permissions, it’s recommended to keep only a single admin address secured under a multisig or governance layer. To achieve this, it is possible for the initial admin to set up all the required permissions, targets, and functions, assign a new admin, and finally renounce its admin role.
For improved incident response coordination, the manager includes a mode where administrators can completely close a target contract. When closed, all calls to restricted target functions in a target contract will revert.
Closing and opening contracts don’t alter any of their settings, neither permissions nor delays. Particularly, the roles required for calling specific target functions are not modified.
This mode is useful for incident response operations that require temporarily shutting down a contract in order to evaluate emergencies and reconfigure permissions.
 const target = await myToken.getAddress();
 
 // Token's `restricted` functions closed
 await manager.setTargetClosed(target, true);
 
 // Token's `restricted` functions open
 await manager.setTargetClosed(target, false);
Even if an `AccessManager` defines permissions for a target function, these won’t be applied if the managed contract instance is not using the [`restricted`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManaged-restricted--) modifier for that function, or if its manager is a different one.
### [](#role_admins_and_guardians)Role Admins and Guardians
An important aspect of the AccessControl contract is that roles aren’t granted nor revoked by role members. Instead, it relies on the concept of a role admin for granting and revoking.
In the case of the `AccessManager`, the same rule applies and only the role’s admins are able to call [grant](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-grantRole-uint64-address-uint32-) and [revoke](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-revokeRole-uint64-address-) functions. Note that calling these functions will be subject to the execution delay that the executing role admin has.
Additionally, the `AccessManager` stores a _guardian_ as an extra protection for each role. This guardian has the ability to cancel operations that have been scheduled by any role member with an execution delay. Consider that a role will have its initial admin and guardian default to the `ADMIN_ROLE` (`0`).
Be careful with the members of `ADMIN_ROLE`, since it acts as the default admin and guardian for every role. A misbehaved guardian can cancel operations at will, affecting the AccessManager’s operation.
### [](#manager_configuration)Manager configuration
The `AccessManager` provides a built-in interface for configuring permission settings that can be accessed by its `ADMIN_ROLE` members.
This configuration interface includes the following functions:
* Add a label to a role using the [`labelRole`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-labelRole-uint64-string-) function.
 
* Assign the admin and guardian of a role with [`setRoleAdmin`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-setRoleAdmin-uint64-uint64-) and [`setRoleGuardian`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-setRoleGuardian-uint64-uint64-).
 
* Set each role’s grant delay via [`setGrantDelay`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-setGrantDelay-uint64-uint32-).
 
As an admin, some actions will require a delay. Similar to each member’s execution delay, some admin operations require waiting for execution and should follow the [`schedule`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-schedule-address-bytes-uint48-) and [`execute`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-execute-address-bytes-) workflow.
More specifically, these delayed functions are those for configuring the settings of a specific target contract. The delay applied to these functions can be adjusted by the manager admins with [`setTargetAdminDelay`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-setTargetAdminDelay-address-uint32-).
The delayed admin actions are:
* Updating an `AccessManaged` contract [authority](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManaged-authority--) using [`updateAuthority`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-updateAuthority-address-address-).
 
* Closing or opening a target via [`setTargetClosed`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-setTargetClosed-address-bool-).
 
* Changing permissions of whether a role can call a target function with [`setTargetFunctionRole`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-setTargetFunctionRole-address-bytes4---uint64-).
 
### [](#using_with_ownable)Using with Ownable
Contracts already inheriting from [`Ownable`](https://docs.openzeppelin.com/contracts/5.x/api/access#Ownable) can migrate to AccessManager by transferring ownership to the manager. After that, all calls to functions with the `onlyOwner` modifier should be called through the manager’s [`execute`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-execute-address-bytes-) function, even if the caller doesn’t require a delay.
 await ownable.connect(owner).transferOwnership(accessManager);
### [](#using_with_accesscontrol)Using with AccessControl
For systems already using [`AccessControl`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessControl), the `DEFAULT_ADMIN_ROLE` can be granted to the `AccessManager` after revoking every other role. Subsequent calls should be made through the manager’s [`execute`](https://docs.openzeppelin.com/contracts/5.x/api/access#AccessManager-execute-address-bytes-) method, similar to the Ownable case.
 // Revoke old roles
 await accessControl.connect(admin).revokeRole(MINTER_ROLE, account);
 
 // Grant the admin role to the access manager
 await accessControl.connect(admin).grantRole(DEFAULT_ADMIN_ROLE, accessManager);
 
 await accessControl.connect(admin).renounceRole(DEFAULT_ADMIN_ROLE, admin);

# [Frequently Asked Questions - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/faq) 
 _https://docs.openzeppelin.com/contracts/5.x/faq_

## [](#can_i_restrict_a_function_to_eoas_only)Can I restrict a function to EOAs only?
When calling external addresses from your contract it is unsafe to assume that an address is an externally-owned account (EOA) and not a contract. Attempting to prevent calls from contracts is highly discouraged. It breaks composability, breaks support for smart wallets like Gnosis Safe, and does not provide security since it can be circumvented by calling from a contract constructor.
Although checking that the address has code, `address.code.length > 0`, may seem to differentiate contracts from EOAs, it can only say that an address is currently a contract, and its negation (that an address is not currently a contract) does not imply that the address is an EOA. Some counterexamples are:
* address of a contract in construction
 
* address where a contract will be created
 
* address where a contract lived, but was destroyed
 
Furthermore, an address will be considered a contract within the same transaction where it is scheduled for destruction by `SELFDESTRUCT`, which only has an effect at the end of the entire transaction.

# [Interfaces - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/interfaces) 
 _https://docs.openzeppelin.com/contracts/5.x/api/interfaces_

### [](#IERC20Errors)`IERC20Errors`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6093.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6093.sol";
Standard ERC-20 Errors Interface of the [ERC-6093](https://eips.ethereum.org/EIPS/eip-6093) custom errors for ERC-20 tokens.
Errors
* [`ERC20InsufficientBalance(sender, balance, needed)`](#IERC20Errors-ERC20InsufficientBalance-address-uint256-uint256-)
 
* [`ERC20InvalidSender(sender)`](#IERC20Errors-ERC20InvalidSender-address-)
 
* [`ERC20InvalidReceiver(receiver)`](#IERC20Errors-ERC20InvalidReceiver-address-)
 
* [`ERC20InsufficientAllowance(spender, allowance, needed)`](#IERC20Errors-ERC20InsufficientAllowance-address-uint256-uint256-)
 
* [`ERC20InvalidApprover(approver)`](#IERC20Errors-ERC20InvalidApprover-address-)
 
* [`ERC20InvalidSpender(spender)`](#IERC20Errors-ERC20InvalidSpender-address-)
 
#### [](#IERC20Errors-ERC20InsufficientBalance-address-uint256-uint256-)`ERC20InsufficientBalance(address sender, uint256 balance, uint256 needed)` error
Indicates an error related to the current `balance` of a `sender`. Used in transfers.
#### [](#IERC20Errors-ERC20InvalidSender-address-)`ERC20InvalidSender(address sender)` error
Indicates a failure with the token `sender`. Used in transfers.
#### [](#IERC20Errors-ERC20InvalidReceiver-address-)`ERC20InvalidReceiver(address receiver)` error
Indicates a failure with the token `receiver`. Used in transfers.
#### [](#IERC20Errors-ERC20InsufficientAllowance-address-uint256-uint256-)`ERC20InsufficientAllowance(address spender, uint256 allowance, uint256 needed)` error
Indicates a failure with the `spender`’s `allowance`. Used in transfers.
#### [](#IERC20Errors-ERC20InvalidApprover-address-)`ERC20InvalidApprover(address approver)` error
Indicates a failure with the `approver` of a token to be approved. Used in approvals.
#### [](#IERC20Errors-ERC20InvalidSpender-address-)`ERC20InvalidSpender(address spender)` error
Indicates a failure with the `spender` to be approved. Used in approvals.
### [](#IERC721Errors)`IERC721Errors`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6093.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6093.sol";
Standard ERC-721 Errors Interface of the [ERC-6093](https://eips.ethereum.org/EIPS/eip-6093) custom errors for ERC-721 tokens.
Errors
* [`ERC721InvalidOwner(owner)`](#IERC721Errors-ERC721InvalidOwner-address-)
 
* [`ERC721NonexistentToken(tokenId)`](#IERC721Errors-ERC721NonexistentToken-uint256-)
 
* [`ERC721IncorrectOwner(sender, tokenId, owner)`](#IERC721Errors-ERC721IncorrectOwner-address-uint256-address-)
 
* [`ERC721InvalidSender(sender)`](#IERC721Errors-ERC721InvalidSender-address-)
 
* [`ERC721InvalidReceiver(receiver)`](#IERC721Errors-ERC721InvalidReceiver-address-)
 
* [`ERC721InsufficientApproval(operator, tokenId)`](#IERC721Errors-ERC721InsufficientApproval-address-uint256-)
 
* [`ERC721InvalidApprover(approver)`](#IERC721Errors-ERC721InvalidApprover-address-)
 
* [`ERC721InvalidOperator(operator)`](#IERC721Errors-ERC721InvalidOperator-address-)
 
#### [](#IERC721Errors-ERC721InvalidOwner-address-)`ERC721InvalidOwner(address owner)` error
Indicates that an address can’t be an owner. For example, `address(0)` is a forbidden owner in ERC-20. Used in balance queries.
#### [](#IERC721Errors-ERC721NonexistentToken-uint256-)`ERC721NonexistentToken(uint256 tokenId)` error
Indicates a `tokenId` whose `owner` is the zero address.
#### [](#IERC721Errors-ERC721IncorrectOwner-address-uint256-address-)`ERC721IncorrectOwner(address sender, uint256 tokenId, address owner)` error
Indicates an error related to the ownership over a particular token. Used in transfers.
#### [](#IERC721Errors-ERC721InvalidSender-address-)`ERC721InvalidSender(address sender)` error
Indicates a failure with the token `sender`. Used in transfers.
#### [](#IERC721Errors-ERC721InvalidReceiver-address-)`ERC721InvalidReceiver(address receiver)` error
Indicates a failure with the token `receiver`. Used in transfers.
#### [](#IERC721Errors-ERC721InsufficientApproval-address-uint256-)`ERC721InsufficientApproval(address operator, uint256 tokenId)` error
Indicates a failure with the `operator`’s approval. Used in transfers.
#### [](#IERC721Errors-ERC721InvalidApprover-address-)`ERC721InvalidApprover(address approver)` error
Indicates a failure with the `approver` of a token to be approved. Used in approvals.
#### [](#IERC721Errors-ERC721InvalidOperator-address-)`ERC721InvalidOperator(address operator)` error
Indicates a failure with the `operator` to be approved. Used in approvals.
### [](#IERC1155Errors)`IERC1155Errors`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6093.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6093.sol";
Standard ERC-1155 Errors Interface of the [ERC-6093](https://eips.ethereum.org/EIPS/eip-6093) custom errors for ERC-1155 tokens.
Errors
* [`ERC1155InsufficientBalance(sender, balance, needed, tokenId)`](#IERC1155Errors-ERC1155InsufficientBalance-address-uint256-uint256-uint256-)
 
* [`ERC1155InvalidSender(sender)`](#IERC1155Errors-ERC1155InvalidSender-address-)
 
* [`ERC1155InvalidReceiver(receiver)`](#IERC1155Errors-ERC1155InvalidReceiver-address-)
 
* [`ERC1155MissingApprovalForAll(operator, owner)`](#IERC1155Errors-ERC1155MissingApprovalForAll-address-address-)
 
* [`ERC1155InvalidApprover(approver)`](#IERC1155Errors-ERC1155InvalidApprover-address-)
 
* [`ERC1155InvalidOperator(operator)`](#IERC1155Errors-ERC1155InvalidOperator-address-)
 
* [`ERC1155InvalidArrayLength(idsLength, valuesLength)`](#IERC1155Errors-ERC1155InvalidArrayLength-uint256-uint256-)
 
#### [](#IERC1155Errors-ERC1155InsufficientBalance-address-uint256-uint256-uint256-)`ERC1155InsufficientBalance(address sender, uint256 balance, uint256 needed, uint256 tokenId)` error
Indicates an error related to the current `balance` of a `sender`. Used in transfers.
#### [](#IERC1155Errors-ERC1155InvalidSender-address-)`ERC1155InvalidSender(address sender)` error
Indicates a failure with the token `sender`. Used in transfers.
#### [](#IERC1155Errors-ERC1155InvalidReceiver-address-)`ERC1155InvalidReceiver(address receiver)` error
Indicates a failure with the token `receiver`. Used in transfers.
#### [](#IERC1155Errors-ERC1155MissingApprovalForAll-address-address-)`ERC1155MissingApprovalForAll(address operator, address owner)` error
Indicates a failure with the `operator`’s approval. Used in transfers.
#### [](#IERC1155Errors-ERC1155InvalidApprover-address-)`ERC1155InvalidApprover(address approver)` error
Indicates a failure with the `approver` of a token to be approved. Used in approvals.
#### [](#IERC1155Errors-ERC1155InvalidOperator-address-)`ERC1155InvalidOperator(address operator)` error
Indicates a failure with the `operator` to be approved. Used in approvals.
#### [](#IERC1155Errors-ERC1155InvalidArrayLength-uint256-uint256-)`ERC1155InvalidArrayLength(uint256 idsLength, uint256 valuesLength)` error
Indicates an array length mismatch between ids and values in a safeBatchTransferFrom operation. Used in batch transfers.
### [](#IERC1271)`IERC1271`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC1271.sol)
 import "@openzeppelin/contracts/interfaces/IERC1271.sol";
Interface of the ERC-1271 standard signature validation method for contracts as defined in [ERC-1271](https://eips.ethereum.org/EIPS/eip-1271).
#### [](#IERC1271-isValidSignature-bytes32-bytes-)`isValidSignature(bytes32 hash, bytes signature) → bytes4 magicValue` external
Should return whether the signature provided is valid for the provided data
### [](#IERC1363)`IERC1363`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC1363.sol)
 import "@openzeppelin/contracts/interfaces/IERC1363.sol";
Interface of the ERC-1363 standard as defined in the [ERC-1363](https://eips.ethereum.org/EIPS/eip-1363).
Defines an extension interface for ERC-20 tokens that supports executing code on a recipient contract after `transfer` or `transferFrom`, or code on a spender contract after `approve`, in a single transaction.
Functions
* [`transferAndCall(to, value)`](#IERC1363-transferAndCall-address-uint256-)
 
* [`transferAndCall(to, value, data)`](#IERC1363-transferAndCall-address-uint256-bytes-)
 
* [`transferFromAndCall(from, to, value)`](#IERC1363-transferFromAndCall-address-address-uint256-)
 
* [`transferFromAndCall(from, to, value, data)`](#IERC1363-transferFromAndCall-address-address-uint256-bytes-)
 
* [`approveAndCall(spender, value)`](#IERC1363-approveAndCall-address-uint256-)
 
* [`approveAndCall(spender, value, data)`](#IERC1363-approveAndCall-address-uint256-bytes-)
 
IERC20
* [`totalSupply()`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-totalSupply--)
 
* [`balanceOf(account)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-balanceOf-address-)
 
* [`transfer(to, value)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-allowance-address-address-)
 
* [`approve(spender, value)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-transferFrom-address-address-uint256-)
 
#### [](#IERC1363-transferAndCall-address-uint256-)`transferAndCall(address to, uint256 value) → bool` external
Moves a `value` amount of tokens from the caller’s account to `to` and then calls [`IERC1363Receiver.onTransferReceived`](#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`.
#### [](#IERC1363-transferAndCall-address-uint256-bytes-)`transferAndCall(address to, uint256 value, bytes data) → bool` external
Moves a `value` amount of tokens from the caller’s account to `to` and then calls [`IERC1363Receiver.onTransferReceived`](#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`.
#### [](#IERC1363-transferFromAndCall-address-address-uint256-)`transferFromAndCall(address from, address to, uint256 value) → bool` external
Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism and then calls [`IERC1363Receiver.onTransferReceived`](#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`.
#### [](#IERC1363-transferFromAndCall-address-address-uint256-bytes-)`transferFromAndCall(address from, address to, uint256 value, bytes data) → bool` external
Moves a `value` amount of tokens from `from` to `to` using the allowance mechanism and then calls [`IERC1363Receiver.onTransferReceived`](#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-) on `to`.
#### [](#IERC1363-approveAndCall-address-uint256-)`approveAndCall(address spender, uint256 value) → bool` external
Sets a `value` amount of tokens as the allowance of `spender` over the caller’s tokens and then calls [`IERC1363Spender.onApprovalReceived`](#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) on `spender`.
#### [](#IERC1363-approveAndCall-address-uint256-bytes-)`approveAndCall(address spender, uint256 value, bytes data) → bool` external
Sets a `value` amount of tokens as the allowance of `spender` over the caller’s tokens and then calls [`IERC1363Spender.onApprovalReceived`](#IERC1363Spender-onApprovalReceived-address-uint256-bytes-) on `spender`.
### [](#IERC1363Receiver)`IERC1363Receiver`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC1363Receiver.sol)
 import "@openzeppelin/contracts/interfaces/IERC1363Receiver.sol";
Interface for any contract that wants to support `transferAndCall` or `transferFromAndCall` from ERC-1363 token contracts.
#### [](#IERC1363Receiver-onTransferReceived-address-address-uint256-bytes-)`onTransferReceived(address operator, address from, uint256 value, bytes data) → bytes4` external
Whenever ERC-1363 tokens are transferred to this contract via `transferAndCall` or `transferFromAndCall` by `operator` from `from`, this function is called.
To accept the transfer, this must return `bytes4(keccak256("onTransferReceived(address,address,uint256,bytes)"))` (i.e. 0x88a7ca5c, or its own function selector).
### [](#IERC1363Spender)`IERC1363Spender`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC1363Spender.sol)
 import "@openzeppelin/contracts/interfaces/IERC1363Spender.sol";
Interface for any contract that wants to support `approveAndCall` from ERC-1363 token contracts.
#### [](#IERC1363Spender-onApprovalReceived-address-uint256-bytes-)`onApprovalReceived(address owner, uint256 value, bytes data) → bytes4` external
Whenever an ERC-1363 token `owner` approves this contract via `approveAndCall` to spend their tokens, this function is called.
To accept the approval, this must return `bytes4(keccak256("onApprovalReceived(address,uint256,bytes)"))` (i.e. 0x7b04a2d0, or its own function selector).
### [](#IERC1820Implementer)`IERC1820Implementer`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC1820Implementer.sol)
 import "@openzeppelin/contracts/interfaces/IERC1820Implementer.sol";
Interface for an ERC-1820 implementer, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-1820#interface-implementation-erc1820implementerinterface). Used by contracts that will be registered as implementers in the [`IERC1820Registry`](#IERC1820Registry).
#### [](#IERC1820Implementer-canImplementInterfaceForAddress-bytes32-address-)`canImplementInterfaceForAddress(bytes32 interfaceHash, address account) → bytes32` external
Returns a special value (`ERC1820_ACCEPT_MAGIC`) if this contract implements `interfaceHash` for `account`.
### [](#IERC1820Registry)`IERC1820Registry`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC1820Registry.sol)
 import "@openzeppelin/contracts/interfaces/IERC1820Registry.sol";
Interface of the global ERC-1820 Registry, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-1820). Accounts may register implementers for interfaces in this registry, as well as query support.
Implementers may be shared by multiple accounts, and can also implement more than a single interface for each account. Contracts can implement interfaces for themselves, but externally-owned accounts (EOA) must delegate this to a contract.
[`IERC165`](https://docs.openzeppelin.com/contracts/5.x/api/utils#IERC165) interfaces can also be queried via the registry.
For an in-depth explanation and source code analysis, see the ERC text.
Functions
* [`setManager(account, newManager)`](#IERC1820Registry-setManager-address-address-)
 
* [`getManager(account)`](#IERC1820Registry-getManager-address-)
 
* [`setInterfaceImplementer(account, _interfaceHash, implementer)`](#IERC1820Registry-setInterfaceImplementer-address-bytes32-address-)
 
* [`getInterfaceImplementer(account, _interfaceHash)`](#IERC1820Registry-getInterfaceImplementer-address-bytes32-)
 
* [`interfaceHash(interfaceName)`](#IERC1820Registry-interfaceHash-string-)
 
* [`updateERC165Cache(account, interfaceId)`](#IERC1820Registry-updateERC165Cache-address-bytes4-)
 
* [`implementsERC165Interface(account, interfaceId)`](#IERC1820Registry-implementsERC165Interface-address-bytes4-)
 
* [`implementsERC165InterfaceNoCache(account, interfaceId)`](#IERC1820Registry-implementsERC165InterfaceNoCache-address-bytes4-)
 
Events
* [`InterfaceImplementerSet(account, interfaceHash, implementer)`](#IERC1820Registry-InterfaceImplementerSet-address-bytes32-address-)
 
* [`ManagerChanged(account, newManager)`](#IERC1820Registry-ManagerChanged-address-address-)
 
#### [](#IERC1820Registry-setManager-address-address-)`setManager(address account, address newManager)` external
Sets `newManager` as the manager for `account`. A manager of an account is able to set interface implementers for it.
By default, each account is its own manager. Passing a value of `0x0` in `newManager` will reset the manager to this initial state.
Emits a [`ManagerChanged`](#IERC1820Registry-ManagerChanged-address-address-) event.
Requirements:
* the caller must be the current manager for `account`.
 
#### [](#IERC1820Registry-getManager-address-)`getManager(address account) → address` external
Returns the manager for `account`.
See [`setManager`](#IERC1820Registry-setManager-address-address-).
#### [](#IERC1820Registry-setInterfaceImplementer-address-bytes32-address-)`setInterfaceImplementer(address account, bytes32 _interfaceHash, address implementer)` external
Sets the `implementer` contract as `account`'s implementer for `interfaceHash`.
`account` being the zero address is an alias for the caller’s address. The zero address can also be used in `implementer` to remove an old one.
See [`interfaceHash`](#IERC1820Registry-interfaceHash-string-) to learn how these are created.
Emits an [`InterfaceImplementerSet`](#IERC1820Registry-InterfaceImplementerSet-address-bytes32-address-) event.
Requirements:
* the caller must be the current manager for `account`.
 
* `interfaceHash` must not be an [`IERC165`](https://docs.openzeppelin.com/contracts/5.x/api/utils#IERC165) interface id (i.e. it must not end in 28 zeroes).
 
* `implementer` must implement [`IERC1820Implementer`](#IERC1820Implementer) and return true when queried for support, unless `implementer` is the caller. See [`IERC1820Implementer.canImplementInterfaceForAddress`](#IERC1820Implementer-canImplementInterfaceForAddress-bytes32-address-).
 
#### [](#IERC1820Registry-getInterfaceImplementer-address-bytes32-)`getInterfaceImplementer(address account, bytes32 _interfaceHash) → address` external
Returns the implementer of `interfaceHash` for `account`. If no such implementer is registered, returns the zero address.
If `interfaceHash` is an [`IERC165`](https://docs.openzeppelin.com/contracts/5.x/api/utils#IERC165) interface id (i.e. it ends with 28 zeroes), `account` will be queried for support of it.
`account` being the zero address is an alias for the caller’s address.
#### [](#IERC1820Registry-interfaceHash-string-)`interfaceHash(string interfaceName) → bytes32` external
Returns the interface hash for an `interfaceName`, as defined in the corresponding [section of the ERC](https://eips.ethereum.org/EIPS/eip-1820#interface-name).
#### [](#IERC1820Registry-updateERC165Cache-address-bytes4-)`updateERC165Cache(address account, bytes4 interfaceId)` external
#### [](#IERC1820Registry-implementsERC165Interface-address-bytes4-)`implementsERC165Interface(address account, bytes4 interfaceId) → bool` external
#### [](#IERC1820Registry-implementsERC165InterfaceNoCache-address-bytes4-)`implementsERC165InterfaceNoCache(address account, bytes4 interfaceId) → bool` external
#### [](#IERC1820Registry-InterfaceImplementerSet-address-bytes32-address-)`InterfaceImplementerSet(address indexed account, bytes32 indexed interfaceHash, address indexed implementer)` event
#### [](#IERC1820Registry-ManagerChanged-address-address-)`ManagerChanged(address indexed account, address indexed newManager)` event
### [](#IERC1822Proxiable)`IERC1822Proxiable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC1822.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC1822.sol";
ERC-1822: Universal Upgradeable Proxy Standard (UUPS) documents a method for upgradeability through a simplified proxy whose upgrades are fully controlled by the current implementation.
Functions
* [`proxiableUUID()`](#IERC1822Proxiable-proxiableUUID--)
 
#### [](#IERC1822Proxiable-proxiableUUID--)`proxiableUUID() → bytes32` external
Returns the storage slot that the proxiable contract assumes is being used to store the implementation address.
A proxy pointing at a proxiable contract should not be considered proxiable itself, because this risks bricking a proxy that upgrades to it, by delegating to itself until out of gas. Thus it is critical that this function revert if invoked through a proxy.
### [](#IERC2612)`IERC2612`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC2612.sol)
 import "@openzeppelin/contracts/interfaces/IERC2612.sol";
### [](#IERC2981)`IERC2981`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC2981.sol)
 import "@openzeppelin/contracts/interfaces/IERC2981.sol";
Interface for the NFT Royalty Standard.
A standardized way to retrieve royalty payment information for non-fungible tokens (NFTs) to enable universal support for royalty payments across all NFT marketplaces and ecosystem participants.
#### [](#IERC2981-royaltyInfo-uint256-uint256-)`royaltyInfo(uint256 tokenId, uint256 salePrice) → address receiver, uint256 royaltyAmount` external
Returns how much royalty is owed and to whom, based on a sale price that may be denominated in any unit of exchange. The royalty amount is denominated and should be paid in that same unit of exchange.
ERC-2981 allows setting the royalty to 100% of the price. In that case all the price would be sent to the royalty receiver and 0 tokens to the seller. Contracts dealing with royalty should consider empty transfers.
### [](#IERC3156FlashLender)`IERC3156FlashLender`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC3156FlashLender.sol)
 import "@openzeppelin/contracts/interfaces/IERC3156FlashLender.sol";
Interface of the ERC-3156 FlashLender, as defined in [ERC-3156](https://eips.ethereum.org/EIPS/eip-3156).
#### [](#IERC3156FlashLender-maxFlashLoan-address-)`maxFlashLoan(address token) → uint256` external
The amount of currency available to be lended.
#### [](#IERC3156FlashLender-flashFee-address-uint256-)`flashFee(address token, uint256 amount) → uint256` external
The fee to be charged for a given loan.
#### [](#IERC3156FlashLender-flashLoan-contract-IERC3156FlashBorrower-address-uint256-bytes-)`flashLoan(contract IERC3156FlashBorrower receiver, address token, uint256 amount, bytes data) → bool` external
Initiate a flash loan.
### [](#IERC3156FlashBorrower)`IERC3156FlashBorrower`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC3156FlashBorrower.sol)
 import "@openzeppelin/contracts/interfaces/IERC3156FlashBorrower.sol";
Interface of the ERC-3156 FlashBorrower, as defined in [ERC-3156](https://eips.ethereum.org/EIPS/eip-3156).
#### [](#IERC3156FlashBorrower-onFlashLoan-address-address-uint256-uint256-bytes-)`onFlashLoan(address initiator, address token, uint256 amount, uint256 fee, bytes data) → bytes32` external
Receive a flash loan.
### [](#IERC4626)`IERC4626`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC4626.sol)
 import "@openzeppelin/contracts/interfaces/IERC4626.sol";
Interface of the ERC-4626 "Tokenized Vault Standard", as defined in [ERC-4626](https://eips.ethereum.org/EIPS/eip-4626).
Functions
* [`asset()`](#IERC4626-asset--)
 
* [`totalAssets()`](#IERC4626-totalAssets--)
 
* [`convertToShares(assets)`](#IERC4626-convertToShares-uint256-)
 
* [`convertToAssets(shares)`](#IERC4626-convertToAssets-uint256-)
 
* [`maxDeposit(receiver)`](#IERC4626-maxDeposit-address-)
 
* [`previewDeposit(assets)`](#IERC4626-previewDeposit-uint256-)
 
* [`deposit(assets, receiver)`](#IERC4626-deposit-uint256-address-)
 
* [`maxMint(receiver)`](#IERC4626-maxMint-address-)
 
* [`previewMint(shares)`](#IERC4626-previewMint-uint256-)
 
* [`mint(shares, receiver)`](#IERC4626-mint-uint256-address-)
 
* [`maxWithdraw(owner)`](#IERC4626-maxWithdraw-address-)
 
* [`previewWithdraw(assets)`](#IERC4626-previewWithdraw-uint256-)
 
* [`withdraw(assets, receiver, owner)`](#IERC4626-withdraw-uint256-address-address-)
 
* [`maxRedeem(owner)`](#IERC4626-maxRedeem-address-)
 
* [`previewRedeem(shares)`](#IERC4626-previewRedeem-uint256-)
 
* [`redeem(shares, receiver, owner)`](#IERC4626-redeem-uint256-address-address-)
 
IERC20
* [`totalSupply()`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-totalSupply--)
 
* [`balanceOf(account)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-balanceOf-address-)
 
* [`transfer(to, value)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-transfer-address-uint256-)
 
* [`allowance(owner, spender)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-allowance-address-address-)
 
* [`approve(spender, value)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-approve-address-uint256-)
 
* [`transferFrom(from, to, value)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#IERC20-transferFrom-address-address-uint256-)
 
Events
* [`Deposit(sender, owner, assets, shares)`](#IERC4626-Deposit-address-address-uint256-uint256-)
 
* [`Withdraw(sender, receiver, owner, assets, shares)`](#IERC4626-Withdraw-address-address-address-uint256-uint256-)
 
#### [](#IERC4626-asset--)`asset() → address assetTokenAddress` external
Returns the address of the underlying token used for the Vault for accounting, depositing, and withdrawing.
* MUST be an ERC-20 token contract.
 
* MUST NOT revert.
 
#### [](#IERC4626-totalAssets--)`totalAssets() → uint256 totalManagedAssets` external
Returns the total amount of the underlying asset that is “managed” by Vault.
* SHOULD include any compounding that occurs from yield.
 
* MUST be inclusive of any fees that are charged against assets in the Vault.
 
* MUST NOT revert.
 
#### [](#IERC4626-convertToShares-uint256-)`convertToShares(uint256 assets) → uint256 shares` external
Returns the amount of shares that the Vault would exchange for the amount of assets provided, in an ideal scenario where all the conditions are met.
* MUST NOT be inclusive of any fees that are charged against assets in the Vault.
 
* MUST NOT show any variations depending on the caller.
 
* MUST NOT reflect slippage or other on-chain conditions, when performing the actual exchange.
 
* MUST NOT revert.
 
This calculation MAY NOT reflect the “per-user” price-per-share, and instead should reflect the “average-user’s” price-per-share, meaning what the average user should expect to see when exchanging to and from.
#### [](#IERC4626-convertToAssets-uint256-)`convertToAssets(uint256 shares) → uint256 assets` external
Returns the amount of assets that the Vault would exchange for the amount of shares provided, in an ideal scenario where all the conditions are met.
* MUST NOT be inclusive of any fees that are charged against assets in the Vault.
 
* MUST NOT show any variations depending on the caller.
 
* MUST NOT reflect slippage or other on-chain conditions, when performing the actual exchange.
 
* MUST NOT revert.
 
This calculation MAY NOT reflect the “per-user” price-per-share, and instead should reflect the “average-user’s” price-per-share, meaning what the average user should expect to see when exchanging to and from.
#### [](#IERC4626-maxDeposit-address-)`maxDeposit(address receiver) → uint256 maxAssets` external
Returns the maximum amount of the underlying asset that can be deposited into the Vault for the receiver, through a deposit call.
* MUST return a limited value if receiver is subject to some deposit limit.
 
* MUST return 2 \*\* 256 - 1 if there is no limit on the maximum amount of assets that may be deposited.
 
* MUST NOT revert.
 
#### [](#IERC4626-previewDeposit-uint256-)`previewDeposit(uint256 assets) → uint256 shares` external
Allows an on-chain or off-chain user to simulate the effects of their deposit at the current block, given current on-chain conditions.
* MUST return as close to and no more than the exact amount of Vault shares that would be minted in a deposit call in the same transaction. I.e. deposit should return the same or more shares as previewDeposit if called in the same transaction.
 
* MUST NOT account for deposit limits like those returned from maxDeposit and should always act as though the deposit would be accepted, regardless if the user has enough tokens approved, etc.
 
* MUST be inclusive of deposit fees. Integrators should be aware of the existence of deposit fees.
 
* MUST NOT revert.
 
any unfavorable discrepancy between convertToShares and previewDeposit SHOULD be considered slippage in share price or some other type of condition, meaning the depositor will lose assets by depositing.
#### [](#IERC4626-deposit-uint256-address-)`deposit(uint256 assets, address receiver) → uint256 shares` external
Mints shares Vault shares to receiver by depositing exactly amount of underlying tokens.
* MUST emit the Deposit event.
 
* MAY support an additional flow in which the underlying tokens are owned by the Vault contract before the deposit execution, and are accounted for during deposit.
 
* MUST revert if all of assets cannot be deposited (due to deposit limit being reached, slippage, the user not approving enough underlying tokens to the Vault contract, etc).
 
most implementations will require pre-approval of the Vault with the Vault’s underlying asset token.
#### [](#IERC4626-maxMint-address-)`maxMint(address receiver) → uint256 maxShares` external
Returns the maximum amount of the Vault shares that can be minted for the receiver, through a mint call. - MUST return a limited value if receiver is subject to some mint limit. - MUST return 2 \*\* 256 - 1 if there is no limit on the maximum amount of shares that may be minted. - MUST NOT revert.
#### [](#IERC4626-previewMint-uint256-)`previewMint(uint256 shares) → uint256 assets` external
Allows an on-chain or off-chain user to simulate the effects of their mint at the current block, given current on-chain conditions.
* MUST return as close to and no fewer than the exact amount of assets that would be deposited in a mint call in the same transaction. I.e. mint should return the same or fewer assets as previewMint if called in the same transaction.
 
* MUST NOT account for mint limits like those returned from maxMint and should always act as though the mint would be accepted, regardless if the user has enough tokens approved, etc.
 
* MUST be inclusive of deposit fees. Integrators should be aware of the existence of deposit fees.
 
* MUST NOT revert.
 
any unfavorable discrepancy between convertToAssets and previewMint SHOULD be considered slippage in share price or some other type of condition, meaning the depositor will lose assets by minting.
#### [](#IERC4626-mint-uint256-address-)`mint(uint256 shares, address receiver) → uint256 assets` external
Mints exactly shares Vault shares to receiver by depositing amount of underlying tokens.
* MUST emit the Deposit event.
 
* MAY support an additional flow in which the underlying tokens are owned by the Vault contract before the mint execution, and are accounted for during mint.
 
* MUST revert if all of shares cannot be minted (due to deposit limit being reached, slippage, the user not approving enough underlying tokens to the Vault contract, etc).
 
most implementations will require pre-approval of the Vault with the Vault’s underlying asset token.
#### [](#IERC4626-maxWithdraw-address-)`maxWithdraw(address owner) → uint256 maxAssets` external
Returns the maximum amount of the underlying asset that can be withdrawn from the owner balance in the Vault, through a withdraw call.
* MUST return a limited value if owner is subject to some withdrawal limit or timelock.
 
* MUST NOT revert.
 
#### [](#IERC4626-previewWithdraw-uint256-)`previewWithdraw(uint256 assets) → uint256 shares` external
Allows an on-chain or off-chain user to simulate the effects of their withdrawal at the current block, given current on-chain conditions.
* MUST return as close to and no fewer than the exact amount of Vault shares that would be burned in a withdraw call in the same transaction. I.e. withdraw should return the same or fewer shares as previewWithdraw if called in the same transaction.
 
* MUST NOT account for withdrawal limits like those returned from maxWithdraw and should always act as though the withdrawal would be accepted, regardless if the user has enough shares, etc.
 
* MUST be inclusive of withdrawal fees. Integrators should be aware of the existence of withdrawal fees.
 
* MUST NOT revert.
 
any unfavorable discrepancy between convertToShares and previewWithdraw SHOULD be considered slippage in share price or some other type of condition, meaning the depositor will lose assets by depositing.
#### [](#IERC4626-withdraw-uint256-address-address-)`withdraw(uint256 assets, address receiver, address owner) → uint256 shares` external
Burns shares from owner and sends exactly assets of underlying tokens to receiver.
* MUST emit the Withdraw event.
 
* MAY support an additional flow in which the underlying tokens are owned by the Vault contract before the withdraw execution, and are accounted for during withdraw.
 
* MUST revert if all of assets cannot be withdrawn (due to withdrawal limit being reached, slippage, the owner not having enough shares, etc).
 
Note that some implementations will require pre-requesting to the Vault before a withdrawal may be performed. Those methods should be performed separately.
#### [](#IERC4626-maxRedeem-address-)`maxRedeem(address owner) → uint256 maxShares` external
Returns the maximum amount of Vault shares that can be redeemed from the owner balance in the Vault, through a redeem call.
* MUST return a limited value if owner is subject to some withdrawal limit or timelock.
 
* MUST return balanceOf(owner) if owner is not subject to any withdrawal limit or timelock.
 
* MUST NOT revert.
 
#### [](#IERC4626-previewRedeem-uint256-)`previewRedeem(uint256 shares) → uint256 assets` external
Allows an on-chain or off-chain user to simulate the effects of their redemption at the current block, given current on-chain conditions.
* MUST return as close to and no more than the exact amount of assets that would be withdrawn in a redeem call in the same transaction. I.e. redeem should return the same or more assets as previewRedeem if called in the same transaction.
 
* MUST NOT account for redemption limits like those returned from maxRedeem and should always act as though the redemption would be accepted, regardless if the user has enough shares, etc.
 
* MUST be inclusive of withdrawal fees. Integrators should be aware of the existence of withdrawal fees.
 
* MUST NOT revert.
 
any unfavorable discrepancy between convertToAssets and previewRedeem SHOULD be considered slippage in share price or some other type of condition, meaning the depositor will lose assets by redeeming.
#### [](#IERC4626-redeem-uint256-address-address-)`redeem(uint256 shares, address receiver, address owner) → uint256 assets` external
Burns exactly shares from owner and sends assets of underlying tokens to receiver.
* MUST emit the Withdraw event.
 
* MAY support an additional flow in which the underlying tokens are owned by the Vault contract before the redeem execution, and are accounted for during redeem.
 
* MUST revert if all of shares cannot be redeemed (due to withdrawal limit being reached, slippage, the owner not having enough shares, etc).
 
some implementations will require pre-requesting to the Vault before a withdrawal may be performed. Those methods should be performed separately.
#### [](#IERC4626-Deposit-address-address-uint256-uint256-)`Deposit(address indexed sender, address indexed owner, uint256 assets, uint256 shares)` event
#### [](#IERC4626-Withdraw-address-address-address-uint256-uint256-)`Withdraw(address indexed sender, address indexed receiver, address indexed owner, uint256 assets, uint256 shares)` event
### [](#IERC4906)`IERC4906`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC4906.sol)
 import "@openzeppelin/contracts/interfaces/IERC4906.sol";
Functions
IERC721
* [`balanceOf(owner)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-balanceOf-address-)
 
* [`ownerOf(tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-ownerOf-uint256-)
 
* [`safeTransferFrom(from, to, tokenId, data)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-safeTransferFrom-address-address-uint256-bytes-)
 
* [`safeTransferFrom(from, to, tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-safeTransferFrom-address-address-uint256-)
 
* [`transferFrom(from, to, tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-transferFrom-address-address-uint256-)
 
* [`approve(to, tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-approve-address-uint256-)
 
* [`setApprovalForAll(operator, approved)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-setApprovalForAll-address-bool-)
 
* [`getApproved(tokenId)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-getApproved-uint256-)
 
* [`isApprovedForAll(owner, operator)`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#IERC721-isApprovedForAll-address-address-)
 
#### [](#IERC4906-MetadataUpdate-uint256-)`MetadataUpdate(uint256 _tokenId)` event
This event emits when the metadata of a token is changed. So that the third-party platforms such as NFT market could timely update the images and related attributes of the NFT.
#### [](#IERC4906-BatchMetadataUpdate-uint256-uint256-)`BatchMetadataUpdate(uint256 _fromTokenId, uint256 _toTokenId)` event
This event emits when the metadata of a range of tokens is changed. So that the third-party platforms such as NFT market could timely update the images and related attributes of the NFTs.
### [](#IERC5267)`IERC5267`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC5267.sol)
 import "@openzeppelin/contracts/interfaces/IERC5267.sol";
#### [](#IERC5267-eip712Domain--)`eip712Domain() → bytes1 fields, string name, string version, uint256 chainId, address verifyingContract, bytes32 salt, uint256[] extensions` external
returns the fields and values that describe the domain separator used by this contract for EIP-712 signature.
#### [](#IERC5267-EIP712DomainChanged--)`EIP712DomainChanged()` event
MAY be emitted to signal that the domain could have changed.
### [](#IERC5313)`IERC5313`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC5313.sol)
 import "@openzeppelin/contracts/interfaces/IERC5313.sol";
Interface for the Light Contract Ownership Standard.
A standardized minimal interface required to identify an account that controls a contract
#### [](#IERC5313-owner--)`owner() → address` external
Gets the address of the owner.
### [](#IERC5805)`IERC5805`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC5805.sol)
 import "@openzeppelin/contracts/interfaces/IERC5805.sol";
### [](#IERC6372)`IERC6372`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/IERC6372.sol)
 import "@openzeppelin/contracts/interfaces/IERC6372.sol";
Functions
* [`clock()`](#IERC6372-clock--)
 
* [`CLOCK_MODE()`](#IERC6372-CLOCK_MODE--)
 
#### [](#IERC6372-clock--)`clock() → uint48` external
Clock used for flagging checkpoints. Can be overridden to implement timestamp based checkpoints (and voting).
#### [](#IERC6372-CLOCK_MODE--)`CLOCK_MODE() → string` external
Description of the clock
### [](#IERC6909)`IERC6909`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6909.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6909.sol";
Required interface of an ERC-6909 compliant contract, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-6909).
Functions
* [`balanceOf(owner, id)`](#IERC6909-balanceOf-address-uint256-)
 
* [`allowance(owner, spender, id)`](#IERC6909-allowance-address-address-uint256-)
 
* [`isOperator(owner, spender)`](#IERC6909-isOperator-address-address-)
 
* [`approve(spender, id, amount)`](#IERC6909-approve-address-uint256-uint256-)
 
* [`setOperator(spender, approved)`](#IERC6909-setOperator-address-bool-)
 
* [`transfer(receiver, id, amount)`](#IERC6909-transfer-address-uint256-uint256-)
 
* [`transferFrom(sender, receiver, id, amount)`](#IERC6909-transferFrom-address-address-uint256-uint256-)
 
Events
* [`Approval(owner, spender, id, amount)`](#IERC6909-Approval-address-address-uint256-uint256-)
 
* [`OperatorSet(owner, spender, approved)`](#IERC6909-OperatorSet-address-address-bool-)
 
* [`Transfer(caller, sender, receiver, id, amount)`](#IERC6909-Transfer-address-address-address-uint256-uint256-)
 
#### [](#IERC6909-balanceOf-address-uint256-)`balanceOf(address owner, uint256 id) → uint256` external
Returns the amount of tokens of type `id` owned by `owner`.
#### [](#IERC6909-allowance-address-address-uint256-)`allowance(address owner, address spender, uint256 id) → uint256` external
Returns the amount of tokens of type `id` that `spender` is allowed to spend on behalf of `owner`.
Does not include operator allowances.
#### [](#IERC6909-isOperator-address-address-)`isOperator(address owner, address spender) → bool` external
Returns true if `spender` is set as an operator for `owner`.
#### [](#IERC6909-approve-address-uint256-uint256-)`approve(address spender, uint256 id, uint256 amount) → bool` external
Sets an approval to `spender` for `amount` of tokens of type `id` from the caller’s tokens. An `amount` of `type(uint256).max` signifies an unlimited approval.
Must return true.
#### [](#IERC6909-setOperator-address-bool-)`setOperator(address spender, bool approved) → bool` external
Grants or revokes unlimited transfer permission of any token id to `spender` for the caller’s tokens.
Must return true.
#### [](#IERC6909-transfer-address-uint256-uint256-)`transfer(address receiver, uint256 id, uint256 amount) → bool` external
Transfers `amount` of token type `id` from the caller’s account to `receiver`.
Must return true.
#### [](#IERC6909-transferFrom-address-address-uint256-uint256-)`transferFrom(address sender, address receiver, uint256 id, uint256 amount) → bool` external
Transfers `amount` of token type `id` from `sender` to `receiver`.
Must return true.
#### [](#IERC6909-Approval-address-address-uint256-uint256-)`Approval(address indexed owner, address indexed spender, uint256 indexed id, uint256 amount)` event
Emitted when the allowance of a `spender` for an `owner` is set for a token of type `id`. The new allowance is `amount`.
#### [](#IERC6909-OperatorSet-address-address-bool-)`OperatorSet(address indexed owner, address indexed spender, bool approved)` event
Emitted when `owner` grants or revokes operator status for a `spender`.
#### [](#IERC6909-Transfer-address-address-address-uint256-uint256-)`Transfer(address caller, address indexed sender, address indexed receiver, uint256 indexed id, uint256 amount)` event
Emitted when `amount` tokens of type `id` are moved from `sender` to `receiver` initiated by `caller`.
### [](#IERC6909ContentURI)`IERC6909ContentURI`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6909.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6909.sol";
Optional extension of [`IERC6909`](#IERC6909) that adds content URI functions.
Functions
* [`contractURI()`](#IERC6909ContentURI-contractURI--)
 
* [`tokenURI(id)`](#IERC6909ContentURI-tokenURI-uint256-)
 
IERC6909
* [`balanceOf(owner, id)`](#IERC6909-balanceOf-address-uint256-)
 
* [`allowance(owner, spender, id)`](#IERC6909-allowance-address-address-uint256-)
 
* [`isOperator(owner, spender)`](#IERC6909-isOperator-address-address-)
 
* [`approve(spender, id, amount)`](#IERC6909-approve-address-uint256-uint256-)
 
* [`setOperator(spender, approved)`](#IERC6909-setOperator-address-bool-)
 
* [`transfer(receiver, id, amount)`](#IERC6909-transfer-address-uint256-uint256-)
 
* [`transferFrom(sender, receiver, id, amount)`](#IERC6909-transferFrom-address-address-uint256-uint256-)
 
#### [](#IERC6909ContentURI-contractURI--)`contractURI() → string` external
Returns URI for the contract.
#### [](#IERC6909ContentURI-tokenURI-uint256-)`tokenURI(uint256 id) → string` external
Returns the URI for the token of type `id`.
### [](#IERC6909Metadata)`IERC6909Metadata`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6909.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6909.sol";
Optional extension of [`IERC6909`](#IERC6909) that adds metadata functions.
Functions
* [`name(id)`](#IERC6909Metadata-name-uint256-)
 
* [`symbol(id)`](#IERC6909Metadata-symbol-uint256-)
 
* [`decimals(id)`](#IERC6909Metadata-decimals-uint256-)
 
IERC6909
* [`balanceOf(owner, id)`](#IERC6909-balanceOf-address-uint256-)
 
* [`allowance(owner, spender, id)`](#IERC6909-allowance-address-address-uint256-)
 
* [`isOperator(owner, spender)`](#IERC6909-isOperator-address-address-)
 
* [`approve(spender, id, amount)`](#IERC6909-approve-address-uint256-uint256-)
 
* [`setOperator(spender, approved)`](#IERC6909-setOperator-address-bool-)
 
* [`transfer(receiver, id, amount)`](#IERC6909-transfer-address-uint256-uint256-)
 
* [`transferFrom(sender, receiver, id, amount)`](#IERC6909-transferFrom-address-address-uint256-uint256-)
 
#### [](#IERC6909Metadata-name-uint256-)`name(uint256 id) → string` external
Returns the name of the token of type `id`.
#### [](#IERC6909Metadata-symbol-uint256-)`symbol(uint256 id) → string` external
Returns the ticker symbol of the token of type `id`.
#### [](#IERC6909Metadata-decimals-uint256-)`decimals(uint256 id) → uint8` external
Returns the number of decimals for the token of type `id`.
### [](#IERC6909TokenSupply)`IERC6909TokenSupply`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC6909.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC6909.sol";
Optional extension of [`IERC6909`](#IERC6909) that adds a token supply function.
Functions
* [`totalSupply(id)`](#IERC6909TokenSupply-totalSupply-uint256-)
 
IERC6909
* [`balanceOf(owner, id)`](#IERC6909-balanceOf-address-uint256-)
 
* [`allowance(owner, spender, id)`](#IERC6909-allowance-address-address-uint256-)
 
* [`isOperator(owner, spender)`](#IERC6909-isOperator-address-address-)
 
* [`approve(spender, id, amount)`](#IERC6909-approve-address-uint256-uint256-)
 
* [`setOperator(spender, approved)`](#IERC6909-setOperator-address-bool-)
 
* [`transfer(receiver, id, amount)`](#IERC6909-transfer-address-uint256-uint256-)
 
* [`transferFrom(sender, receiver, id, amount)`](#IERC6909-transferFrom-address-address-uint256-uint256-)
 
#### [](#IERC6909TokenSupply-totalSupply-uint256-)`totalSupply(uint256 id) → uint256` external
Returns the total supply of the token of type `id`.
### [](#IERC7674)`IERC7674`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/interfaces/draft-IERC7674.sol)
 import "@openzeppelin/contracts/interfaces/draft-IERC7674.sol";
Temporary Approval Extension for ERC-20 ([ERC-7674](https://github.com/ethereum/ERCs/pull/358))
#### [](#IERC7674-temporaryApprove-address-uint256-)`temporaryApprove(address spender, uint256 value) → bool success` external
Set the temporary allowance, allowing `spender` to withdraw (within the same transaction) assets held by the caller.

# [How to set up on-chain governance - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/governance) 
 _https://docs.openzeppelin.com/contracts/5.x/governance_

In this guide we will learn how OpenZeppelin’s Governor contract works, how to set it up, and how to use it to create proposals, vote for them, and execute them, using tools provided by Ethers.js and Tally.
## [](#introduction)Introduction
Decentralized protocols are in constant evolution from the moment they are publicly released. Often, the initial team retains control of this evolution in the first stages, but eventually delegates it to a community of stakeholders. The process by which this community makes decisions is called on-chain governance, and it has become a central component of decentralized protocols, fueling varied decisions such as parameter tweaking, smart contract upgrades, integrations with other protocols, treasury management, grants, etc.
This governance protocol is generally implemented in a special-purpose contract called “Governor”. The GovernorAlpha and GovernorBravo contracts designed by Compound have been very successful and popular so far, with the downside that projects with different requirements have had to fork the code to customize it for their needs, which can pose a high risk of introducing security issues. For OpenZeppelin Contracts, we set out to build a modular system of Governor contracts so that forking is not needed, and different requirements can be accommodated by writing small modules using Solidity inheritance. You will find the most common requirements out of the box in OpenZeppelin Contracts, but writing additional ones is simple, and we will be adding new features as requested by the community in future releases. Additionally, the design of OpenZeppelin Governor requires minimal use of storage and results in more gas efficient operation.
## [](#compatibility)Compatibility
OpenZeppelin’s Governor system was designed with a concern for compatibility with existing systems that were based on Compound’s GovernorAlpha and GovernorBravo. Because of this, you will find that many modules are presented in two variants, one of which is built for compatibility with those systems.
### [](#erc20votes_erc20votescomp)ERC20Votes & ERC20VotesComp
The ERC-20 extension to keep track of votes and vote delegation is one such case. The shorter one is the more generic version because it can support token supplies greater than 2^96, while the “Comp” variant is limited in that regard, but exactly fits the interface of the COMP token that is used by GovernorAlpha and Bravo. Both contract variants share the same events, so they are fully compatible when looking at events only.
### [](#governor_governorstorage)Governor & GovernorStorage
An OpenZeppelin Governor contract is not interface-compatible with Compound’s GovernorAlpha or Bravo. Even though events are fully compatible, proposal lifecycle functions (creation, execution, etc.) have different signatures that are meant to optimize storage use. Other functions from GovernorAlpha and Bravo are likewise not available. It’s possible to opt in some Bravo-like behavior by inheriting from the GovernorStorage module. This module provides proposal enumerability and alternate versions of the `queue`, `execute` and `cancel` function that only take the proposal id. This module reduces the calldata needed by some operations in exchange for an increased storage footprint. This might be a good trade-off for some L2 chains. It also provides primitives for indexer-free frontends.
Note that even with the use of this module, one important difference with Compound’s GovernorBravo is the way that \`proposalId\`s are calculated. Governor uses the hash of the proposal parameters with the purpose of keeping its data off-chain by event indexing, while the original Bravo implementation uses sequential \`proposalId\`s.
### [](#governortimelockcontrol_governortimelockcompound)GovernorTimelockControl & GovernorTimelockCompound
When using a timelock with your Governor contract, you can use either OpenZeppelin’s TimelockController or Compound’s Timelock. Based on the choice of timelock, you should choose the corresponding Governor module: GovernorTimelockControl or GovernorTimelockCompound respectively. This allows you to migrate an existing GovernorAlpha instance to an OpenZeppelin-based Governor without changing the timelock in use.
### [](#tally)Tally
[Tally](https://www.tally.xyz/) is a full-fledged application for user owned on-chain governance. It comprises a voting dashboard, proposal creation wizard, real time research and analysis, and educational content.
For all of these options, the Governor will be compatible with Tally: users will be able to create proposals, see voting periods and delays following [IERC6372](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC6372), visualize voting power and advocates, navigate proposals, and cast votes. For proposal creation in particular, projects can also use [Defender Transaction Proposals](https://docs.openzeppelin.com/defender/module/actions#transaction-proposals-reference) as an alternative interface.
In the rest of this guide, we will focus on a fresh deploy of the vanilla OpenZeppelin Governor features without concern for compatibility with GovernorAlpha or Bravo.
## [](#setup)Setup
### [](#token)Token
The voting power of each account in our governance setup will be determined by an ERC-20 token. The token has to implement the ERC20Votes extension. This extension will keep track of historical balances so that voting power is retrieved from past snapshots rather than current balance, which is an important protection that prevents double voting.
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 import {ERC20Permit} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Permit.sol";
 import {ERC20Votes} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
 import {Nonces} from "@openzeppelin/contracts/utils/Nonces.sol";
 
 contract MyToken is ERC20, ERC20Permit, ERC20Votes {
 constructor() ERC20("MyToken", "MTK") ERC20Permit("MyToken") {}
 
 // The functions below are overrides required by Solidity.
 
 function _update(address from, address to, uint256 amount) internal override(ERC20, ERC20Votes) {
 super._update(from, to, amount);
 }
 
 function nonces(address owner) public view virtual override(ERC20Permit, Nonces) returns (uint256) {
 return super.nonces(owner);
 }
 }
If your project already has a live token that does not include ERC20Votes and is not upgradeable, you can wrap it in a governance token by using ERC20Wrapper. This will allow token holders to participate in governance by wrapping their tokens 1-to-1.
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {IERC20, ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 import {ERC20Permit} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Permit.sol";
 import {ERC20Votes} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
 import {ERC20Wrapper} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Wrapper.sol";
 import {Nonces} from "@openzeppelin/contracts/utils/Nonces.sol";
 
 contract MyTokenWrapped is ERC20, ERC20Permit, ERC20Votes, ERC20Wrapper {
 constructor(
 IERC20 wrappedToken
 ) ERC20("MyTokenWrapped", "MTK") ERC20Permit("MyTokenWrapped") ERC20Wrapper(wrappedToken) {}
 
 // The functions below are overrides required by Solidity.
 
 function decimals() public view override(ERC20, ERC20Wrapper) returns (uint8) {
 return super.decimals();
 }
 
 function _update(address from, address to, uint256 amount) internal override(ERC20, ERC20Votes) {
 super._update(from, to, amount);
 }
 
 function nonces(address owner) public view virtual override(ERC20Permit, Nonces) returns (uint256) {
 return super.nonces(owner);
 }
 }
The only other source of voting power available in OpenZeppelin Contracts currently is [`ERC721Votes`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721Votes). ERC-721 tokens that don’t provide this functionality can be wrapped into a voting tokens using a combination of [`ERC721Votes`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721Votes) and [`ERC721Wrapper`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721Wrapper).
The internal clock used by the token to store voting balances will dictate the operating mode of the Governor contract attached to it. By default, block numbers are used. Since v4.9, developers can override the [IERC6372](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC6372) clock to use timestamps instead of block numbers.
### [](#governor)Governor
Initially, we will build a Governor without a timelock. The core logic is given by the Governor contract, but we still need to choose: 1) how voting power is determined, 2) how many votes are needed for quorum, 3) what options people have when casting a vote and how those votes are counted, and 4) what type of token should be used to vote. Each of these aspects is customizable by writing your own module, or more easily choosing one from OpenZeppelin Contracts.
For 1) we will use the GovernorVotes module, which hooks to an IVotes instance to determine the voting power of an account based on the token balance they hold when a proposal becomes active. This module requires as a constructor parameter the address of the token. This module also discovers the clock mode (ERC-6372) used by the token and applies it to the Governor.
For 2) we will use GovernorVotesQuorumFraction which works together with ERC20Votes to define quorum as a percentage of the total supply at the block a proposal’s voting power is retrieved. This requires a constructor parameter to set the percentage. Most Governors nowadays use 4%, so we will initialize the module with parameter 4 (this indicates the percentage, resulting in 4%).
For 3) we will use GovernorCountingSimple, a module that offers 3 options to voters: For, Against, and Abstain, and where only For and Abstain votes are counted towards quorum.
Besides these modules, Governor itself has some parameters we must set.
votingDelay: How long after a proposal is created should voting power be fixed. A large voting delay gives users time to unstake tokens if necessary.
votingPeriod: How long does a proposal remain open to votes.
These parameters are specified in the unit defined in the token’s clock. Assuming the token uses block numbers, and assuming block time of around 12 seconds, we will have set votingDelay = 1 day = 7200 blocks, and votingPeriod = 1 week = 50400 blocks.
We can optionally set a proposal threshold as well. This restricts proposal creation to accounts that have enough voting power.
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {IGovernor, Governor} from "@openzeppelin/contracts/governance/Governor.sol";
 import {GovernorCountingSimple} from "@openzeppelin/contracts/governance/extensions/GovernorCountingSimple.sol";
 import {GovernorVotes} from "@openzeppelin/contracts/governance/extensions/GovernorVotes.sol";
 import {GovernorVotesQuorumFraction} from "@openzeppelin/contracts/governance/extensions/GovernorVotesQuorumFraction.sol";
 import {GovernorTimelockControl} from "@openzeppelin/contracts/governance/extensions/GovernorTimelockControl.sol";
 import {TimelockController} from "@openzeppelin/contracts/governance/TimelockController.sol";
 import {IVotes} from "@openzeppelin/contracts/governance/utils/IVotes.sol";
 import {IERC165} from "@openzeppelin/contracts/interfaces/IERC165.sol";
 
 contract MyGovernor is
 Governor,
 GovernorCountingSimple,
 GovernorVotes,
 GovernorVotesQuorumFraction,
 GovernorTimelockControl
 {
 constructor(
 IVotes _token,
 TimelockController _timelock
 ) Governor("MyGovernor") GovernorVotes(_token) GovernorVotesQuorumFraction(4) GovernorTimelockControl(_timelock) {}
 
 function votingDelay() public pure override returns (uint256) {
 return 7200; // 1 day
 }
 
 function votingPeriod() public pure override returns (uint256) {
 return 50400; // 1 week
 }
 
 function proposalThreshold() public pure override returns (uint256) {
 return 0;
 }
 
 // The functions below are overrides required by Solidity.
 
 function state(uint256 proposalId) public view override(Governor, GovernorTimelockControl) returns (ProposalState) {
 return super.state(proposalId);
 }
 
 function proposalNeedsQueuing(
 uint256 proposalId
 ) public view virtual override(Governor, GovernorTimelockControl) returns (bool) {
 return super.proposalNeedsQueuing(proposalId);
 }
 
 function _queueOperations(
 uint256 proposalId,
 address[] memory targets,
 uint256[] memory values,
 bytes[] memory calldatas,
 bytes32 descriptionHash
 ) internal override(Governor, GovernorTimelockControl) returns (uint48) {
 return super._queueOperations(proposalId, targets, values, calldatas, descriptionHash);
 }
 
 function _executeOperations(
 uint256 proposalId,
 address[] memory targets,
 uint256[] memory values,
 bytes[] memory calldatas,
 bytes32 descriptionHash
 ) internal override(Governor, GovernorTimelockControl) {
 super._executeOperations(proposalId, targets, values, calldatas, descriptionHash);
 }
 
 function _cancel(
 address[] memory targets,
 uint256[] memory values,
 bytes[] memory calldatas,
 bytes32 descriptionHash
 ) internal override(Governor, GovernorTimelockControl) returns (uint256) {
 return super._cancel(targets, values, calldatas, descriptionHash);
 }
 
 function _executor() internal view override(Governor, GovernorTimelockControl) returns (address) {
 return super._executor();
 }
 }
### [](#timelock)Timelock
It is good practice to add a timelock to governance decisions. This allows users to exit the system if they disagree with a decision before it is executed. We will use OpenZeppelin’s TimelockController in combination with the GovernorTimelockControl module.
When using a timelock, it is the timelock that will execute proposals and thus the timelock that should hold any funds, ownership, and access control roles. Before version 4.5 there was no way to recover funds in the Governor contract when using a timelock! Before version 4.3, when using the Compound Timelock, ETH in the timelock was not easily accessible.
TimelockController uses an AccessControl setup that we need to understand in order to set up roles.
* The Proposer role is in charge of queueing operations: this is the role the Governor instance should be granted, and it should likely be the only proposer in the system.
 
* The Executor role is in charge of executing already available operations: we can assign this role to the special zero address to allow anyone to execute (if operations can be particularly time sensitive, the Governor should be made Executor instead).
 
* Lastly, there is the Admin role, which can grant and revoke the two previous roles: this is a very sensitive role that will be granted automatically to the timelock itself, and optionally to a second account, which can be used for ease of setup but should promptly renounce the role.
 
## [](#proposal_lifecycle)Proposal Lifecycle
Let’s walk through how to create and execute a proposal on our newly deployed Governor.
A proposal is a sequence of actions that the Governor contract will perform if it passes. Each action consists of a target address, calldata encoding a function call, and an amount of ETH to include. Additionally, a proposal includes a human-readable description.
### [](#create_a_proposal)Create a Proposal
Let’s say we want to create a proposal to give a team a grant, in the form of ERC-20 tokens from the governance treasury. This proposal will consist of a single action where the target is the ERC-20 token, calldata is the encoded function call `transfer(<team wallet>, <grant amount>)`, and with 0 ETH attached.
Generally a proposal will be created with the help of an interface such as Tally or [Defender Proposals](https://docs.openzeppelin.com/defender/module/actions#transaction-proposals-reference). Here we will show how to create the proposal using Ethers.js.
First we get all the parameters necessary for the proposal action.
 const tokenAddress = ...;
 const token = await ethers.getContractAt(‘ERC20’, tokenAddress);
 
 const teamAddress = ...;
 const grantAmount = ...;
 const transferCalldata = token.interface.encodeFunctionData(‘transfer’, [teamAddress, grantAmount]);
Now we are ready to call the propose function of the Governor. Note that we don’t pass in one array of actions, but instead three arrays corresponding to the list of targets, the list of values, and the list of calldatas. In this case it’s a single action, so it’s simple:
 await governor.propose(
 [tokenAddress],
 [0],
 [transferCalldata],
 “Proposal #1: Give grant to team”,
 );
This will create a new proposal, with a proposal id that is obtained by hashing together the proposal data, and which will also be found in an event in the logs of the transaction.
### [](#cast_a_vote)Cast a Vote
Once a proposal is active, delegates can cast their vote. Note that it is delegates who carry voting power: if a token holder wants to participate, they can set a trusted representative as their delegate, or they can become a delegate themselves by self-delegating their voting power.
Votes are cast by interacting with the Governor contract through the `castVote` family of functions. Voters would generally invoke this from a governance UI such as Tally.
### [](#execute_the_proposal)Execute the Proposal
Once the voting period is over, if quorum was reached (enough voting power participated) and the majority voted in favor, the proposal is considered successful and can proceed to be executed. Once a proposal passes, it can be queued and executed from the same place you voted.
We will see now how to do this manually using Ethers.js.
If a timelock was set up, the first step to execution is queueing. You will notice that both the queue and execute functions require passing in the entire proposal parameters, as opposed to just the proposal id. This is necessary because this data is not stored on chain, as a measure to save gas. Note that these parameters can always be found in the events emitted by the contract. The only parameter that is not sent in its entirety is the description, since this is only needed in its hashed form to compute the proposal id.
To queue, we call the queue function:
 const descriptionHash = ethers.utils.id(“Proposal #1: Give grant to team”);
 
 await governor.queue(
 [tokenAddress],
 [0],
 [transferCalldata],
 descriptionHash,
 );
This will cause the Governor to interact with the timelock contract and queue the actions for execution after the required delay.
After enough time has passed (according to the timelock parameters), the proposal can be executed. If there was no timelock to begin with, this step can be ran immediately after the proposal succeeds.
 await governor.execute(
 [tokenAddress],
 [0],
 [transferCalldata],
 descriptionHash,
 );
Executing the proposal will transfer the ERC-20 tokens to the chosen recipient. To wrap up: we set up a system where a treasury is controlled by the collective decision of the token holders of a project, and all actions are executed via proposals enforced by on-chain votes.
## [](#timestamp_based_governance)Timestamp based governance
### [](#motivation)Motivation
It is sometimes difficult to deal with durations expressed in number of blocks because of inconsistent or unpredictable time between blocks. This is particularly true of some L2 networks where blocks are produced based on blockchain usage. Using number of blocks can also lead to the governance rules being affected by network upgrades that modify the expected time between blocks.
The difficulty of replacing block numbers with timestamps is that the Governor and the token must both use the same format when querying past votes. If a token is designed around block numbers, it is not possible for a Governor to reliably do timestamp based lookups.
Therefore, designing a timestamp based voting system starts with the token.
### [](#token_2)Token
Since v4.9, all voting contracts (including [`ERC20Votes`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC20#ERC20Votes) and [`ERC721Votes`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC721#ERC721Votes)) rely on [IERC6372](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#IERC6372) for clock management. In order to change from operating with block numbers to operating with timestamps, all that is required is to override the `clock()` and `CLOCK_MODE()` functions.
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";
 import {ERC20Permit} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Permit.sol";
 import {ERC20Votes} from "@openzeppelin/contracts/token/ERC20/extensions/ERC20Votes.sol";
 import {Nonces} from "@openzeppelin/contracts/utils/Nonces.sol";
 
 contract MyTokenTimestampBased is ERC20, ERC20Permit, ERC20Votes {
 constructor() ERC20("MyTokenTimestampBased", "MTK") ERC20Permit("MyTokenTimestampBased") {}
 
 // Overrides IERC6372 functions to make the token & governor timestamp-based
 
 function clock() public view override returns (uint48) {
 return uint48(block.timestamp);
 }
 
 // solhint-disable-next-line func-name-mixedcase
 function CLOCK_MODE() public pure override returns (string memory) {
 return "mode=timestamp";
 }
 
 // The functions below are overrides required by Solidity.
 
 function _update(address from, address to, uint256 amount) internal override(ERC20, ERC20Votes) {
 super._update(from, to, amount);
 }
 
 function nonces(address owner) public view virtual override(ERC20Permit, Nonces) returns (uint256) {
 return super.nonces(owner);
 }
 }
### [](#governor_2)Governor
The Governor will automatically detect the clock mode used by the token and adapt to it. There is no need to override anything in the Governor contract. However, the clock mode does affect how some values are interpreted. It is therefore necessary to set the `votingDelay()` and `votingPeriod()` accordingly.
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {Governor} from "@openzeppelin/contracts/governance/Governor.sol";
 import {GovernorCountingSimple} from "@openzeppelin/contracts/governance/compatibility/GovernorCountingSimple.sol";
 import {GovernorVotes} from "@openzeppelin/contracts/governance/extensions/GovernorVotes.sol";
 import {GovernorVotesQuorumFraction} from "@openzeppelin/contracts/governance/extensions/GovernorVotesQuorumFraction.sol";
 import {GovernorTimelockControl} from "@openzeppelin/contracts/governance/extensions/GovernorTimelockControl.sol";
 import {TimelockController} from "@openzeppelin/contracts/governance/TimelockController.sol";
 import {IVotes} from "@openzeppelin/contracts/governance/utils/IVotes.sol";
 
 contract MyGovernor is Governor, GovernorCountingSimple, GovernorVotes, GovernorVotesQuorumFraction, GovernorTimelockControl {
 constructor(IVotes _token, TimelockController _timelock)
 Governor("MyGovernor")
 GovernorVotes(_token)
 GovernorVotesQuorumFraction(4)
 GovernorTimelockControl(_timelock)
 {}
 
 function votingDelay() public pure virtual override returns (uint256) {
 return 1 days;
 }
 
 function votingPeriod() public pure virtual override returns (uint256) {
 return 1 weeks;
 }
 
 function proposalThreshold() public pure virtual override returns (uint256) {
 return 0;
 }
 
 // ...
 }
### [](#disclaimer)Disclaimer
Timestamp based voting is a recent feature that was formalized in ERC-6372 and ERC-5805, and introduced in v4.9. At the time this feature is released, some governance tooling may not support it yet. Users can expect invalid reporting of deadlines & durations if the tool is not able to interpret the ERC6372 clock. This invalid reporting by offchain tools does not affect the onchain security and functionality of the governance contract.
Governors with timestamp support (v4.9 and above) are compatible with old tokens (before v4.9) and will operate in "block number" mode (which is the mode all old tokens operate on). On the other hand, old Governor instances (before v4.9) are not compatible with new tokens operating using timestamps. If you update your token code to use timestamps, make sure to also update your Governor code.

# [ERC-6909 - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/erc6909) 
 _https://docs.openzeppelin.com/contracts/5.x/erc6909_

ERC-6909 is a draft EIP that draws on ERC-1155 learnings since it was published in 2018. The main goals of ERC-6909 is to decrease gas costs and complexity—​this is mainly accomplished by removing batching and callbacks.
To understand the inspiration for a multi token standard, see the [multi token standard](https://docs.openzeppelin.com/contracts/5.x/erc1155#multi-token-standard) section within the EIP-1155 docs.
## [](#changes_from_erc_1155)Changes from ERC-1155
There are three main changes from ERC-1155 which are as follows:
1. The removal of batch operations.
 
2. The removal of transfer callbacks.
 
3. Granularization in approvals—​approvals can be set globally (as operators) or as amounts per token (inspired by ERC20).
 
## [](#constructing_an_erc_6909_token_contract)Constructing an ERC-6909 Token Contract
We’ll use ERC-6909 to track multiple items in a game, each having their own unique attributes. All item types will by minted to the deployer of the contract, which we can later transfer to players. We’ll also use the [`ERC6909Metadata`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC6909#ERC6909Metadata) extension to add decimals to our fungible items (the vanilla ERC-6909 implementation does not have decimals).
For simplicity, we will mint all items in the constructor—​however, minting functionality could be added to the contract to mint on demand to players.
Here’s what a contract for tokenized items might look like:
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC6909Metadata} from "@openzeppelin/contracts/token/ERC6909/extensions/draft-ERC6909Metadata.sol";
 
 contract ERC6909GameItems is ERC6909Metadata {
 uint256 public constant GOLD = 0;
 uint256 public constant SILVER = 1;
 uint256 public constant THORS_HAMMER = 2;
 uint256 public constant SWORD = 3;
 uint256 public constant SHIELD = 4;
 
 constructor() {
 _setDecimals(GOLD, 18);
 _setDecimals(SILVER, 18);
 // Default decimals is 0
 _setDecimals(SWORD, 9);
 _setDecimals(SHIELD, 9);
 
 _mint(msg.sender, GOLD, 10 ** 18);
 _mint(msg.sender, SILVER, 10_000 ** 18);
 _mint(msg.sender, THORS_HAMMER, 1);
 _mint(msg.sender, SWORD, 10 ** 9);
 _mint(msg.sender, SHIELD, 10 ** 9);
 }
 }
Note that there is no content URI functionality in the base implementation, but the [`ERC6909ContentURI`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC6909#ERC6909ContentURI) extension adds it. Additionally, the base implementation does not track total supplies, but the [`ERC6909TokenSupply`](https://docs.openzeppelin.com/contracts/5.x/api/token/ERC6909#ERC6909TokenSupply) extension tracks the total supply of each token id.
Once the contract is deployed, we will be able to query the deployer’s balance:
 > gameItems.balanceOf(deployerAddress, 3)
 1000000000
We can transfer items to player accounts:
 > gameItems.transfer(playerAddress, 2, 1)
 > gameItems.balanceOf(playerAddress, 2)
 1
 > gameItems.balanceOf(deployerAddress, 2)
 0

# [Account - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/account) 
 _https://docs.openzeppelin.com/contracts/5.x/api/account_

This directory includes contracts to build accounts for ERC-4337.
## [](#utilities)Utilities
### [](#ERC4337Utils)`ERC4337Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/account/utils/draft-ERC4337Utils.sol)
 import "@openzeppelin/contracts/account/utils/draft-ERC4337Utils.sol";
Library with common ERC-4337 utility functions.
Functions
* [`parseValidationData(validationData)`](#ERC4337Utils-parseValidationData-uint256-)
 
* [`packValidationData(aggregator, validAfter, validUntil)`](#ERC4337Utils-packValidationData-address-uint48-uint48-)
 
* [`packValidationData(sigSuccess, validAfter, validUntil)`](#ERC4337Utils-packValidationData-bool-uint48-uint48-)
 
* [`combineValidationData(validationData1, validationData2)`](#ERC4337Utils-combineValidationData-uint256-uint256-)
 
* [`getValidationData(validationData)`](#ERC4337Utils-getValidationData-uint256-)
 
* [`hash(self, entrypoint)`](#ERC4337Utils-hash-struct-PackedUserOperation-address-)
 
* [`factory(self)`](#ERC4337Utils-factory-struct-PackedUserOperation-)
 
* [`factoryData(self)`](#ERC4337Utils-factoryData-struct-PackedUserOperation-)
 
* [`verificationGasLimit(self)`](#ERC4337Utils-verificationGasLimit-struct-PackedUserOperation-)
 
* [`callGasLimit(self)`](#ERC4337Utils-callGasLimit-struct-PackedUserOperation-)
 
* [`maxPriorityFeePerGas(self)`](#ERC4337Utils-maxPriorityFeePerGas-struct-PackedUserOperation-)
 
* [`maxFeePerGas(self)`](#ERC4337Utils-maxFeePerGas-struct-PackedUserOperation-)
 
* [`gasPrice(self)`](#ERC4337Utils-gasPrice-struct-PackedUserOperation-)
 
* [`paymaster(self)`](#ERC4337Utils-paymaster-struct-PackedUserOperation-)
 
* [`paymasterVerificationGasLimit(self)`](#ERC4337Utils-paymasterVerificationGasLimit-struct-PackedUserOperation-)
 
* [`paymasterPostOpGasLimit(self)`](#ERC4337Utils-paymasterPostOpGasLimit-struct-PackedUserOperation-)
 
* [`paymasterData(self)`](#ERC4337Utils-paymasterData-struct-PackedUserOperation-)
 
#### [](#ERC4337Utils-parseValidationData-uint256-)`parseValidationData(uint256 validationData) → address aggregator, uint48 validAfter, uint48 validUntil` internal
Parses the validation data into its components. See [`packValidationData`](#ERC4337Utils-packValidationData-bool-uint48-uint48-).
#### [](#ERC4337Utils-packValidationData-address-uint48-uint48-)`packValidationData(address aggregator, uint48 validAfter, uint48 validUntil) → uint256` internal
Packs the validation data into a single uint256. See [`parseValidationData`](#ERC4337Utils-parseValidationData-uint256-).
#### [](#ERC4337Utils-packValidationData-bool-uint48-uint48-)`packValidationData(bool sigSuccess, uint48 validAfter, uint48 validUntil) → uint256` internal
Same as [`packValidationData`](#ERC4337Utils-packValidationData-bool-uint48-uint48-), but with a boolean signature success flag.
#### [](#ERC4337Utils-combineValidationData-uint256-uint256-)`combineValidationData(uint256 validationData1, uint256 validationData2) → uint256` internal
Combines two validation data into a single one.
The `aggregator` is set to [`SIG_VALIDATION_SUCCESS`](#ERC4337Utils-SIG_VALIDATION_SUCCESS-uint256) if both are successful, while the `validAfter` is the maximum and the `validUntil` is the minimum of both.
#### [](#ERC4337Utils-getValidationData-uint256-)`getValidationData(uint256 validationData) → address aggregator, bool outOfTimeRange` internal
Returns the aggregator of the `validationData` and whether it is out of time range.
#### [](#ERC4337Utils-hash-struct-PackedUserOperation-address-)`hash(struct PackedUserOperation self, address entrypoint) → bytes32` internal
Get the hash of a user operation for a given entrypoint
#### [](#ERC4337Utils-factory-struct-PackedUserOperation-)`factory(struct PackedUserOperation self) → address` internal
Returns `factory` from the [`PackedUserOperation`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#PackedUserOperation), or address(0) if the initCode is empty or not properly formatted.
#### [](#ERC4337Utils-factoryData-struct-PackedUserOperation-)`factoryData(struct PackedUserOperation self) → bytes` internal
Returns `factoryData` from the [`PackedUserOperation`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#PackedUserOperation), or empty bytes if the initCode is empty or not properly formatted.
#### [](#ERC4337Utils-verificationGasLimit-struct-PackedUserOperation-)`verificationGasLimit(struct PackedUserOperation self) → uint256` internal
#### [](#ERC4337Utils-callGasLimit-struct-PackedUserOperation-)`callGasLimit(struct PackedUserOperation self) → uint256` internal
#### [](#ERC4337Utils-maxPriorityFeePerGas-struct-PackedUserOperation-)`maxPriorityFeePerGas(struct PackedUserOperation self) → uint256` internal
#### [](#ERC4337Utils-maxFeePerGas-struct-PackedUserOperation-)`maxFeePerGas(struct PackedUserOperation self) → uint256` internal
#### [](#ERC4337Utils-gasPrice-struct-PackedUserOperation-)`gasPrice(struct PackedUserOperation self) → uint256` internal
Returns the total gas price for the [`PackedUserOperation`](https://docs.openzeppelin.com/contracts/5.x/api/interfaces#PackedUserOperation) (ie. `maxFeePerGas` or `maxPriorityFeePerGas + basefee`).
#### [](#ERC4337Utils-paymaster-struct-PackedUserOperation-)`paymaster(struct PackedUserOperation self) → address` internal
#### [](#ERC4337Utils-paymasterVerificationGasLimit-struct-PackedUserOperation-)`paymasterVerificationGasLimit(struct PackedUserOperation self) → uint256` internal
#### [](#ERC4337Utils-paymasterPostOpGasLimit-struct-PackedUserOperation-)`paymasterPostOpGasLimit(struct PackedUserOperation self) → uint256` internal
#### [](#ERC4337Utils-paymasterData-struct-PackedUserOperation-)`paymasterData(struct PackedUserOperation self) → bytes` internal
#### [](#ERC4337Utils-ENTRYPOINT_V07-contract-IEntryPoint)`contract IEntryPoint ENTRYPOINT_V07` internal constant
Address of the entrypoint v0.7.0
#### [](#ERC4337Utils-ENTRYPOINT_V08-contract-IEntryPoint)`contract IEntryPoint ENTRYPOINT_V08` internal constant
Address of the entrypoint v0.8.0
#### [](#ERC4337Utils-SIG_VALIDATION_SUCCESS-uint256)`uint256 SIG_VALIDATION_SUCCESS` internal constant
For simulation purposes, validateUserOp (and validatePaymasterUserOp) return this value on success.
#### [](#ERC4337Utils-SIG_VALIDATION_FAILED-uint256)`uint256 SIG_VALIDATION_FAILED` internal constant
For simulation purposes, validateUserOp (and validatePaymasterUserOp) must return this value in case of signature failure, instead of revert.
### [](#ERC7579Utils)`ERC7579Utils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/account/utils/draft-ERC7579Utils.sol)
 import "@openzeppelin/contracts/account/utils/draft-ERC7579Utils.sol";
Library with common ERC-7579 utility functions.
Functions
* [`execSingle(executionCalldata, execType)`](#ERC7579Utils-execSingle-bytes-ExecType-)
 
* [`execBatch(executionCalldata, execType)`](#ERC7579Utils-execBatch-bytes-ExecType-)
 
* [`execDelegateCall(executionCalldata, execType)`](#ERC7579Utils-execDelegateCall-bytes-ExecType-)
 
* [`encodeMode(callType, execType, selector, payload)`](#ERC7579Utils-encodeMode-CallType-ExecType-ModeSelector-ModePayload-)
 
* [`decodeMode(mode)`](#ERC7579Utils-decodeMode-Mode-)
 
* [`encodeSingle(target, value, callData)`](#ERC7579Utils-encodeSingle-address-uint256-bytes-)
 
* [`decodeSingle(executionCalldata)`](#ERC7579Utils-decodeSingle-bytes-)
 
* [`encodeDelegate(target, callData)`](#ERC7579Utils-encodeDelegate-address-bytes-)
 
* [`decodeDelegate(executionCalldata)`](#ERC7579Utils-decodeDelegate-bytes-)
 
* [`encodeBatch(executionBatch)`](#ERC7579Utils-encodeBatch-struct-Execution---)
 
* [`decodeBatch(executionCalldata)`](#ERC7579Utils-decodeBatch-bytes-)
 
Errors
* [`ERC7579UnsupportedCallType(callType)`](#ERC7579Utils-ERC7579UnsupportedCallType-CallType-)
 
* [`ERC7579UnsupportedExecType(execType)`](#ERC7579Utils-ERC7579UnsupportedExecType-ExecType-)
 
* [`ERC7579MismatchedModuleTypeId(moduleTypeId, module)`](#ERC7579Utils-ERC7579MismatchedModuleTypeId-uint256-address-)
 
* [`ERC7579UninstalledModule(moduleTypeId, module)`](#ERC7579Utils-ERC7579UninstalledModule-uint256-address-)
 
* [`ERC7579AlreadyInstalledModule(moduleTypeId, module)`](#ERC7579Utils-ERC7579AlreadyInstalledModule-uint256-address-)
 
* [`ERC7579UnsupportedModuleType(moduleTypeId)`](#ERC7579Utils-ERC7579UnsupportedModuleType-uint256-)
 
* [`ERC7579DecodingError()`](#ERC7579Utils-ERC7579DecodingError--)
 
Internal Variables
* [`CallType constant CALLTYPE_SINGLE`](#ERC7579Utils-CALLTYPE_SINGLE-CallType)
 
* [`CallType constant CALLTYPE_BATCH`](#ERC7579Utils-CALLTYPE_BATCH-CallType)
 
* [`CallType constant CALLTYPE_DELEGATECALL`](#ERC7579Utils-CALLTYPE_DELEGATECALL-CallType)
 
* [`ExecType constant EXECTYPE_DEFAULT`](#ERC7579Utils-EXECTYPE_DEFAULT-ExecType)
 
* [`ExecType constant EXECTYPE_TRY`](#ERC7579Utils-EXECTYPE_TRY-ExecType)
 
#### [](#ERC7579Utils-execSingle-bytes-ExecType-)`execSingle(bytes executionCalldata, ExecType execType) → bytes[] returnData` internal
Executes a single call.
#### [](#ERC7579Utils-execBatch-bytes-ExecType-)`execBatch(bytes executionCalldata, ExecType execType) → bytes[] returnData` internal
Executes a batch of calls.
#### [](#ERC7579Utils-execDelegateCall-bytes-ExecType-)`execDelegateCall(bytes executionCalldata, ExecType execType) → bytes[] returnData` internal
Executes a delegate call.
#### [](#ERC7579Utils-encodeMode-CallType-ExecType-ModeSelector-ModePayload-)`encodeMode(CallType callType, ExecType execType, ModeSelector selector, ModePayload payload) → Mode mode` internal
Encodes the mode with the provided parameters. See [`decodeMode`](#ERC7579Utils-decodeMode-Mode-).
#### [](#ERC7579Utils-decodeMode-Mode-)`decodeMode(Mode mode) → CallType callType, ExecType execType, ModeSelector selector, ModePayload payload` internal
Decodes the mode into its parameters. See [`encodeMode`](#ERC7579Utils-encodeMode-CallType-ExecType-ModeSelector-ModePayload-).
#### [](#ERC7579Utils-encodeSingle-address-uint256-bytes-)`encodeSingle(address target, uint256 value, bytes callData) → bytes executionCalldata` internal
Encodes a single call execution. See [`decodeSingle`](#ERC7579Utils-decodeSingle-bytes-).
#### [](#ERC7579Utils-decodeSingle-bytes-)`decodeSingle(bytes executionCalldata) → address target, uint256 value, bytes callData` internal
Decodes a single call execution. See [`encodeSingle`](#ERC7579Utils-encodeSingle-address-uint256-bytes-).
#### [](#ERC7579Utils-encodeDelegate-address-bytes-)`encodeDelegate(address target, bytes callData) → bytes executionCalldata` internal
Encodes a delegate call execution. See [`decodeDelegate`](#ERC7579Utils-decodeDelegate-bytes-).
#### [](#ERC7579Utils-decodeDelegate-bytes-)`decodeDelegate(bytes executionCalldata) → address target, bytes callData` internal
Decodes a delegate call execution. See [`encodeDelegate`](#ERC7579Utils-encodeDelegate-address-bytes-).
#### [](#ERC7579Utils-encodeBatch-struct-Execution---)`encodeBatch(struct Execution[] executionBatch) → bytes executionCalldata` internal
Encodes a batch of executions. See [`decodeBatch`](#ERC7579Utils-decodeBatch-bytes-).
#### [](#ERC7579Utils-decodeBatch-bytes-)`decodeBatch(bytes executionCalldata) → struct Execution[] executionBatch` internal
Decodes a batch of executions. See [`encodeBatch`](#ERC7579Utils-encodeBatch-struct-Execution---).
This function runs some checks and will throw a [`ERC7579DecodingError`](#ERC7579Utils-ERC7579DecodingError--) if the input is not properly formatted.
#### [](#ERC7579Utils-ERC7579TryExecuteFail-uint256-bytes-)`ERC7579TryExecuteFail(uint256 batchExecutionIndex, bytes returndata)` event
Emits when an [`EXECTYPE_TRY`](#ERC7579Utils-EXECTYPE_TRY-ExecType) execution fails.
#### [](#ERC7579Utils-ERC7579UnsupportedCallType-CallType-)`ERC7579UnsupportedCallType(CallType callType)` error
The provided [`CallType`](#CallType) is not supported.
#### [](#ERC7579Utils-ERC7579UnsupportedExecType-ExecType-)`ERC7579UnsupportedExecType(ExecType execType)` error
The provided [`ExecType`](#ExecType) is not supported.
#### [](#ERC7579Utils-ERC7579MismatchedModuleTypeId-uint256-address-)`ERC7579MismatchedModuleTypeId(uint256 moduleTypeId, address module)` error
The provided module doesn’t match the provided module type.
#### [](#ERC7579Utils-ERC7579UninstalledModule-uint256-address-)`ERC7579UninstalledModule(uint256 moduleTypeId, address module)` error
The module is not installed.
#### [](#ERC7579Utils-ERC7579AlreadyInstalledModule-uint256-address-)`ERC7579AlreadyInstalledModule(uint256 moduleTypeId, address module)` error
The module is already installed.
#### [](#ERC7579Utils-ERC7579UnsupportedModuleType-uint256-)`ERC7579UnsupportedModuleType(uint256 moduleTypeId)` error
The module type is not supported.
#### [](#ERC7579Utils-ERC7579DecodingError--)`ERC7579DecodingError()` error
Input calldata not properly formatted and possibly malicious.
#### [](#ERC7579Utils-CALLTYPE_SINGLE-CallType)`CallType CALLTYPE_SINGLE` internal constant
A single `call` execution.
#### [](#ERC7579Utils-CALLTYPE_BATCH-CallType)`CallType CALLTYPE_BATCH` internal constant
A batch of `call` executions.
#### [](#ERC7579Utils-CALLTYPE_DELEGATECALL-CallType)`CallType CALLTYPE_DELEGATECALL` internal constant
A `delegatecall` execution.
#### [](#ERC7579Utils-EXECTYPE_DEFAULT-ExecType)`ExecType EXECTYPE_DEFAULT` internal constant
Default execution type that reverts on failure.
#### [](#ERC7579Utils-EXECTYPE_TRY-ExecType)`ExecType EXECTYPE_TRY` internal constant
Execution type that does not revert on failure.

# [Contracts - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts) 
 _https://docs.openzeppelin.com/contracts_

**A library for secure smart contract development.** Build on a solid foundation of community-vetted code.
* Implementations of standards like [ERC20](https://docs.openzeppelin.com/erc20) and [ERC721](https://docs.openzeppelin.com/erc721).
 
* Flexible [role-based permissioning](https://docs.openzeppelin.com/access-control) scheme.
 
* Reusable [Solidity components](https://docs.openzeppelin.com/utilities) to build custom contracts and complex decentralized systems.
 
OpenZeppelin Contracts uses semantic versioning to communicate backwards compatibility of its API and storage layout. For upgradeable contracts, the storage layout of different major versions should be assumed incompatible, for example, it is unsafe to upgrade from 4.9.3 to 5.0.0. Learn more at [Backwards Compatibility](https://docs.openzeppelin.com/backwards-compatibility).
## [](#overview)Overview
### [](#install)Installation
#### [](#hardhat_npm)Hardhat (npm)
 $ npm install @openzeppelin/contracts
#### [](#foundry_git)Foundry (git)
When installing via git, it is a common error to use the `master` branch. This is a development branch that should be avoided in favor of tagged releases. The release process involves security measures that the `master` branch does not guarantee.
Foundry installs the latest version initially, but subsequent `forge update` commands will use the `master` branch.
 $ forge install OpenZeppelin/openzeppelin-contracts
Add `@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/` in `remappings.txt.`
### [](#usage)Usage
Once installed, you can use the contracts in the library by importing them:
 // contracts/MyNFT.sol
 // SPDX-License-Identifier: MIT
 pragma solidity ^0.8.20;
 
 import {ERC721} from "@openzeppelin/contracts/token/ERC721/ERC721.sol";
 
 contract MyNFT is ERC721 {
 constructor() ERC721("MyNFT", "MNFT") {}
 }
If you’re new to smart contract development, head to [Developing Smart Contracts](https://docs.openzeppelin.com/learn/developing-smart-contracts) to learn about creating a new project and compiling your contracts.
To keep your system secure, you should **always** use the installed code as-is, and neither copy-paste it from online sources, nor modify it yourself. The library is designed so that only the contracts and functions you use are deployed, so you don’t need to worry about it needlessly increasing gas costs.
## [](#security)Security
The [Security Center](https://contracts.openzeppelin.com/security) contains more details about the secure development process.
## [](#next-steps)Learn More
The guides in the sidebar will teach about different concepts, and how to use the related contracts that OpenZeppelin Contracts provides:
* [Access Control](https://docs.openzeppelin.com/access-control): decide who can perform each of the actions on your system.
 
* [Tokens](https://docs.openzeppelin.com/tokens): create tradable assets or collectibles, like the well known [ERC20](https://docs.openzeppelin.com/erc20) and [ERC721](https://docs.openzeppelin.com/erc721) standards.
 
* [Utilities](https://docs.openzeppelin.com/utilities): generic useful tools, including non-overflowing math, signature verification, and trustless paying systems.
 
The [full API](https://docs.openzeppelin.com/api/token/ERC20) is also thoroughly documented, and serves as a great reference when developing your smart contract application. You can also ask for help or follow Contracts' development in the [community forum](https://forum.openzeppelin.com/).
The following articles provide great background reading, though please note, some of the referenced tools have changed as the tooling in the ecosystem continues to rapidly evolve.
* [The Hitchhiker’s Guide to Smart Contracts in Ethereum](https://blog.openzeppelin.com/the-hitchhikers-guide-to-smart-contracts-in-ethereum-848f08001f05) will help you get an overview of the various tools available for smart contract development, and help you set up your environment.
 
* [A Gentle Introduction to Ethereum Programming, Part 1](https://blog.openzeppelin.com/a-gentle-introduction-to-ethereum-programming-part-1-783cc7796094) provides very useful information on an introductory level, including many basic concepts from the Ethereum platform.
 
* For a more in-depth dive, you may read the guide [Designing the architecture for your Ethereum application](https://blog.openzeppelin.com/designing-the-architecture-for-your-ethereum-application-9cec086f8317), which discusses how to better structure your application and its relationship to the real world.

# [Common (Tokens) - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/token/common) 
 _https://docs.openzeppelin.com/contracts/5.x/api/token/common_

### [](#ERC2981)`ERC2981`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/token/common/ERC2981.sol)
 import "@openzeppelin/contracts/token/common/ERC2981.sol";
Implementation of the NFT Royalty Standard, a standardized way to retrieve royalty payment information.
Royalty information can be specified globally for all token ids via [`_setDefaultRoyalty`](#ERC2981-_setDefaultRoyalty-address-uint96-), and/or individually for specific token ids via [`_setTokenRoyalty`](#ERC2981-_setTokenRoyalty-uint256-address-uint96-). The latter takes precedence over the first.
Royalty is specified as a fraction of sale price. [`_feeDenominator`](#ERC2981-_feeDenominator--) is overridable but defaults to 10000, meaning the fee is specified in basis points by default.
ERC-2981 only specifies a way to signal royalty information and does not enforce its payment. See [Rationale](https://eips.ethereum.org/EIPS/eip-2981#optional-royalty-payments) in the ERC. Marketplaces are expected to voluntarily pay royalties together with sales, but note that this standard is not yet widely supported.
Functions
* [`supportsInterface(interfaceId)`](#ERC2981-supportsInterface-bytes4-)
 
* [`royaltyInfo(tokenId, salePrice)`](#ERC2981-royaltyInfo-uint256-uint256-)
 
* [`_feeDenominator()`](#ERC2981-_feeDenominator--)
 
* [`_setDefaultRoyalty(receiver, feeNumerator)`](#ERC2981-_setDefaultRoyalty-address-uint96-)
 
* [`_deleteDefaultRoyalty()`](#ERC2981-_deleteDefaultRoyalty--)
 
* [`_setTokenRoyalty(tokenId, receiver, feeNumerator)`](#ERC2981-_setTokenRoyalty-uint256-address-uint96-)
 
* [`_resetTokenRoyalty(tokenId)`](#ERC2981-_resetTokenRoyalty-uint256-)
 
Errors
* [`ERC2981InvalidDefaultRoyalty(numerator, denominator)`](#ERC2981-ERC2981InvalidDefaultRoyalty-uint256-uint256-)
 
* [`ERC2981InvalidDefaultRoyaltyReceiver(receiver)`](#ERC2981-ERC2981InvalidDefaultRoyaltyReceiver-address-)
 
* [`ERC2981InvalidTokenRoyalty(tokenId, numerator, denominator)`](#ERC2981-ERC2981InvalidTokenRoyalty-uint256-uint256-uint256-)
 
* [`ERC2981InvalidTokenRoyaltyReceiver(tokenId, receiver)`](#ERC2981-ERC2981InvalidTokenRoyaltyReceiver-uint256-address-)
 
#### [](#ERC2981-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#ERC2981-royaltyInfo-uint256-uint256-)`royaltyInfo(uint256 tokenId, uint256 salePrice) → address receiver, uint256 amount` public
Returns how much royalty is owed and to whom, based on a sale price that may be denominated in any unit of exchange. The royalty amount is denominated and should be paid in that same unit of exchange.
ERC-2981 allows setting the royalty to 100% of the price. In that case all the price would be sent to the royalty receiver and 0 tokens to the seller. Contracts dealing with royalty should consider empty transfers.
#### [](#ERC2981-_feeDenominator--)`_feeDenominator() → uint96` internal
The denominator with which to interpret the fee set in [`_setTokenRoyalty`](#ERC2981-_setTokenRoyalty-uint256-address-uint96-) and [`_setDefaultRoyalty`](#ERC2981-_setDefaultRoyalty-address-uint96-) as a fraction of the sale price. Defaults to 10000 so fees are expressed in basis points, but may be customized by an override.
#### [](#ERC2981-_setDefaultRoyalty-address-uint96-)`_setDefaultRoyalty(address receiver, uint96 feeNumerator)` internal
Sets the royalty information that all ids in this contract will default to.
Requirements:
* `receiver` cannot be the zero address.
 
* `feeNumerator` cannot be greater than the fee denominator.
 
#### [](#ERC2981-_deleteDefaultRoyalty--)`_deleteDefaultRoyalty()` internal
Removes default royalty information.
#### [](#ERC2981-_setTokenRoyalty-uint256-address-uint96-)`_setTokenRoyalty(uint256 tokenId, address receiver, uint96 feeNumerator)` internal
Sets the royalty information for a specific token id, overriding the global default.
Requirements:
* `receiver` cannot be the zero address.
 
* `feeNumerator` cannot be greater than the fee denominator.
 
#### [](#ERC2981-_resetTokenRoyalty-uint256-)`_resetTokenRoyalty(uint256 tokenId)` internal
Resets royalty information for the token id back to the global default.
#### [](#ERC2981-ERC2981InvalidDefaultRoyalty-uint256-uint256-)`ERC2981InvalidDefaultRoyalty(uint256 numerator, uint256 denominator)` error
The default royalty set is invalid (eg. (numerator / denominator) >= 1).
#### [](#ERC2981-ERC2981InvalidDefaultRoyaltyReceiver-address-)`ERC2981InvalidDefaultRoyaltyReceiver(address receiver)` error
The default royalty receiver is invalid.
#### [](#ERC2981-ERC2981InvalidTokenRoyalty-uint256-uint256-uint256-)`ERC2981InvalidTokenRoyalty(uint256 tokenId, uint256 numerator, uint256 denominator)` error
The royalty set for a specific `tokenId` is invalid (eg. (numerator / denominator) >= 1).
#### [](#ERC2981-ERC2981InvalidTokenRoyaltyReceiver-uint256-address-)`ERC2981InvalidTokenRoyaltyReceiver(uint256 tokenId, address receiver)` error
The royalty receiver for `tokenId` is invalid.

# [Utilities - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/utils) 
 _https://docs.openzeppelin.com/contracts/5.x/api/utils_

Miscellaneous contracts and libraries containing utility functions you can use to improve security, work with new data types, or safely use low-level primitives.
* [`Math`](#Math), [`SignedMath`](#SignedMath): Implementation of various arithmetic functions.
 
* [`SafeCast`](#SafeCast): Checked downcasting functions to avoid silent truncation.
 
* [`ECDSA`](#ECDSA), [`MessageHashUtils`](#MessageHashUtils): Libraries for interacting with ECDSA signatures.
 
* [`P256`](#P256): Library for verifying and recovering public keys from secp256r1 signatures.
 
* [`RSA`](#RSA): Library with RSA PKCS#1 v1.5 signature verification utilities.
 
* [`SignatureChecker`](#SignatureChecker): A library helper to support regular ECDSA from EOAs as well as ERC-1271 signatures for smart contracts.
 
* [`Hashes`](#Hashes): Commonly used hash functions.
 
* [`MerkleProof`](#MerkleProof): Functions for verifying [Merkle Tree](https://en.wikipedia.org/wiki/Merkle_tree) proofs.
 
* [`EIP712`](#EIP712): Contract with functions to allow processing signed typed structure data according to [EIP-712](https://eips.ethereum.org/EIPS/eip-712).
 
* [`ReentrancyGuard`](#ReentrancyGuard): A modifier that can prevent reentrancy during certain functions.
 
* [`ReentrancyGuardTransient`](#ReentrancyGuardTransient): Variant of [`ReentrancyGuard`](#ReentrancyGuard) that uses transient storage ([EIP-1153](https://eips.ethereum.org/EIPS/eip-1153)).
 
* [`Pausable`](#Pausable): A common emergency response mechanism that can pause functionality while a remediation is pending.
 
* [`Nonces`](#Nonces): Utility for tracking and verifying address nonces that only increment.
 
* [`NoncesKeyed`](#NoncesKeyed): Alternative to [`Nonces`](#Nonces), that support keyed nonces following [ERC-4337 specifications](https://eips.ethereum.org/EIPS/eip-4337#semi-abstracted-nonce-support).
 
* [`ERC165`](#ERC165), [`ERC165Checker`](#ERC165Checker): Utilities for inspecting interfaces supported by contracts.
 
* [`BitMaps`](#BitMaps): A simple library to manage boolean value mapped to a numerical index in an efficient way.
 
* [`EnumerableMap`](#EnumerableMap): A type like Solidity’s [`mapping`](https://solidity.readthedocs.io/en/latest/types.html#mapping-types), but with key-value _enumeration_: this will let you know how many entries a mapping has, and iterate over them (which is not possible with `mapping`).
 
* [`EnumerableSet`](#EnumerableSet): Like [`EnumerableMap`](#EnumerableMap), but for [sets](https://en.wikipedia.org/wiki/Set_\(abstract_data_type\)). Can be used to store privileged accounts, issued IDs, etc.
 
* [`DoubleEndedQueue`](#DoubleEndedQueue): An implementation of a [double ended queue](https://en.wikipedia.org/wiki/Double-ended_queue) whose values can be added or removed from both sides. Useful for FIFO and LIFO structures.
 
* [`CircularBuffer`](#CircularBuffer): A data structure to store the last N values pushed to it.
 
* [`Checkpoints`](#Checkpoints): A data structure to store values mapped to a strictly increasing key. Can be used for storing and accessing values over time.
 
* [`Heap`](#Heap): A library that implements a [binary heap](https://en.wikipedia.org/wiki/Binary_heap) in storage.
 
* [`MerkleTree`](#MerkleTree): A library with [Merkle Tree](https://wikipedia.org/wiki/Merkle_Tree) data structures and helper functions.
 
* [`Create2`](#Create2): Wrapper around the [`CREATE2` EVM opcode](https://blog.openzeppelin.com/getting-the-most-out-of-create2/) for safe use without having to deal with low-level assembly.
 
* [`Address`](#Address): Collection of functions for overloading Solidity’s [`address`](https://docs.soliditylang.org/en/latest/types.html#address) type.
 
* [`Arrays`](#Arrays): Collection of functions that operate on [`arrays`](https://docs.soliditylang.org/en/latest/types.html#arrays).
 
* [`Base64`](#Base64): On-chain base64 and base64URL encoding according to [RFC-4648](https://datatracker.ietf.org/doc/html/rfc4648).
 
* [`Bytes`](#Bytes): Common operations on bytes objects.
 
* [`Calldata`](#Calldata): Helpers for manipulating calldata.
 
* [`Strings`](#Strings): Common operations for strings formatting.
 
* [`ShortStrings`](#ShortStrings): Library to encode (and decode) short strings into (or from) a single bytes32 slot for optimizing costs. Short strings are limited to 31 characters.
 
* [`SlotDerivation`](#SlotDerivation): Methods for deriving storage slot from ERC-7201 namespaces as well as from constructions such as mapping and arrays.
 
* [`StorageSlot`](#StorageSlot): Methods for accessing specific storage slots formatted as common primitive types.
 
* [`TransientSlot`](#TransientSlot): Primitives for reading from and writing to transient storage (only value types are currently supported).
 
* [`Multicall`](#Multicall): Abstract contract with a utility to allow batching together multiple calls in a single transaction. Useful for allowing EOAs to perform multiple operations at once.
 
* [`Context`](#Context): A utility for abstracting the sender and calldata in the current execution context.
 
* [`Packing`](#Packing): A library for packing and unpacking multiple values into bytes32
 
* [`Panic`](#Panic): A library to revert with [Solidity panic codes](https://docs.soliditylang.org/en/v0.8.20/control-structures.html#panic-via-assert-and-error-via-require).
 
* [`Comparators`](#Comparators): A library that contains comparator functions to use with the [`Heap`](#Heap) library.
 
* [`CAIP2`](#CAIP2), [`CAIP10`](#CAIP10): Libraries for formatting and parsing CAIP-2 and CAIP-10 identifiers.
 
Because Solidity does not support generic types, [`EnumerableMap`](#EnumerableMap) and [`EnumerableSet`](#EnumerableSet) are specialized to a limited number of key-value types.
## [](#math)Math
### [](#Math)`Math`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/math/Math.sol)
 import "@openzeppelin/contracts/utils/math/Math.sol";
Standard math utilities missing in the Solidity language.
Functions
* [`add512(a, b)`](#Math-add512-uint256-uint256-)
 
* [`mul512(a, b)`](#Math-mul512-uint256-uint256-)
 
* [`tryAdd(a, b)`](#Math-tryAdd-uint256-uint256-)
 
* [`trySub(a, b)`](#Math-trySub-uint256-uint256-)
 
* [`tryMul(a, b)`](#Math-tryMul-uint256-uint256-)
 
* [`tryDiv(a, b)`](#Math-tryDiv-uint256-uint256-)
 
* [`tryMod(a, b)`](#Math-tryMod-uint256-uint256-)
 
* [`saturatingAdd(a, b)`](#Math-saturatingAdd-uint256-uint256-)
 
* [`saturatingSub(a, b)`](#Math-saturatingSub-uint256-uint256-)
 
* [`saturatingMul(a, b)`](#Math-saturatingMul-uint256-uint256-)
 
* [`ternary(condition, a, b)`](#Math-ternary-bool-uint256-uint256-)
 
* [`max(a, b)`](#Math-max-uint256-uint256-)
 
* [`min(a, b)`](#Math-min-uint256-uint256-)
 
* [`average(a, b)`](#Math-average-uint256-uint256-)
 
* [`ceilDiv(a, b)`](#Math-ceilDiv-uint256-uint256-)
 
* [`mulDiv(x, y, denominator)`](#Math-mulDiv-uint256-uint256-uint256-)
 
* [`mulDiv(x, y, denominator, rounding)`](#Math-mulDiv-uint256-uint256-uint256-enum-Math-Rounding-)
 
* [`mulShr(x, y, n)`](#Math-mulShr-uint256-uint256-uint8-)
 
* [`mulShr(x, y, n, rounding)`](#Math-mulShr-uint256-uint256-uint8-enum-Math-Rounding-)
 
* [`invMod(a, n)`](#Math-invMod-uint256-uint256-)
 
* [`invModPrime(a, p)`](#Math-invModPrime-uint256-uint256-)
 
* [`modExp(b, e, m)`](#Math-modExp-uint256-uint256-uint256-)
 
* [`tryModExp(b, e, m)`](#Math-tryModExp-uint256-uint256-uint256-)
 
* [`modExp(b, e, m)`](#Math-modExp-bytes-bytes-bytes-)
 
* [`tryModExp(b, e, m)`](#Math-tryModExp-bytes-bytes-bytes-)
 
* [`sqrt(a)`](#Math-sqrt-uint256-)
 
* [`sqrt(a, rounding)`](#Math-sqrt-uint256-enum-Math-Rounding-)
 
* [`log2(x)`](#Math-log2-uint256-)
 
* [`log2(value, rounding)`](#Math-log2-uint256-enum-Math-Rounding-)
 
* [`log10(value)`](#Math-log10-uint256-)
 
* [`log10(value, rounding)`](#Math-log10-uint256-enum-Math-Rounding-)
 
* [`log256(x)`](#Math-log256-uint256-)
 
* [`log256(value, rounding)`](#Math-log256-uint256-enum-Math-Rounding-)
 
* [`unsignedRoundsUp(rounding)`](#Math-unsignedRoundsUp-enum-Math-Rounding-)
 
#### [](#Math-add512-uint256-uint256-)`add512(uint256 a, uint256 b) → uint256 high, uint256 low` internal
Return the 512-bit addition of two uint256.
The result is stored in two 256 variables such that sum = high \* 2²⁵⁶ + low.
#### [](#Math-mul512-uint256-uint256-)`mul512(uint256 a, uint256 b) → uint256 high, uint256 low` internal
Return the 512-bit multiplication of two uint256.
The result is stored in two 256 variables such that product = high \* 2²⁵⁶ + low.
#### [](#Math-tryAdd-uint256-uint256-)`tryAdd(uint256 a, uint256 b) → bool success, uint256 result` internal
Returns the addition of two unsigned integers, with a success flag (no overflow).
#### [](#Math-trySub-uint256-uint256-)`trySub(uint256 a, uint256 b) → bool success, uint256 result` internal
Returns the subtraction of two unsigned integers, with a success flag (no overflow).
#### [](#Math-tryMul-uint256-uint256-)`tryMul(uint256 a, uint256 b) → bool success, uint256 result` internal
Returns the multiplication of two unsigned integers, with a success flag (no overflow).
#### [](#Math-tryDiv-uint256-uint256-)`tryDiv(uint256 a, uint256 b) → bool success, uint256 result` internal
Returns the division of two unsigned integers, with a success flag (no division by zero).
#### [](#Math-tryMod-uint256-uint256-)`tryMod(uint256 a, uint256 b) → bool success, uint256 result` internal
Returns the remainder of dividing two unsigned integers, with a success flag (no division by zero).
#### [](#Math-saturatingAdd-uint256-uint256-)`saturatingAdd(uint256 a, uint256 b) → uint256` internal
Unsigned saturating addition, bounds to `2²⁵⁶ - 1` instead of overflowing.
#### [](#Math-saturatingSub-uint256-uint256-)`saturatingSub(uint256 a, uint256 b) → uint256` internal
Unsigned saturating subtraction, bounds to zero instead of overflowing.
#### [](#Math-saturatingMul-uint256-uint256-)`saturatingMul(uint256 a, uint256 b) → uint256` internal
Unsigned saturating multiplication, bounds to `2²⁵⁶ - 1` instead of overflowing.
#### [](#Math-ternary-bool-uint256-uint256-)`ternary(bool condition, uint256 a, uint256 b) → uint256` internal
Branchless ternary evaluation for `a ? b : c`. Gas costs are constant.
This function may reduce bytecode size and consume less gas when used standalone. However, the compiler may optimize Solidity ternary operations (i.e. `a ? b : c`) to only compute one branch when needed, making this function more expensive.
#### [](#Math-max-uint256-uint256-)`max(uint256 a, uint256 b) → uint256` internal
Returns the largest of two numbers.
#### [](#Math-min-uint256-uint256-)`min(uint256 a, uint256 b) → uint256` internal
Returns the smallest of two numbers.
#### [](#Math-average-uint256-uint256-)`average(uint256 a, uint256 b) → uint256` internal
Returns the average of two numbers. The result is rounded towards zero.
#### [](#Math-ceilDiv-uint256-uint256-)`ceilDiv(uint256 a, uint256 b) → uint256` internal
Returns the ceiling of the division of two numbers.
This differs from standard division with `/` in that it rounds towards infinity instead of rounding towards zero.
#### [](#Math-mulDiv-uint256-uint256-uint256-)`mulDiv(uint256 x, uint256 y, uint256 denominator) → uint256 result` internal
Calculates floor(x \* y / denominator) with full precision. Throws if result overflows a uint256 or denominator == 0.
Original credit to Remco Bloemen under MIT license ([https://xn—​2-umb.com/21/muldiv](https://xn--xn2-umb-316c.com/21/muldiv)) with further edits by Uniswap Labs also under MIT license.
#### [](#Math-mulDiv-uint256-uint256-uint256-enum-Math-Rounding-)`mulDiv(uint256 x, uint256 y, uint256 denominator, enum Math.Rounding rounding) → uint256` internal
Calculates x \* y / denominator with full precision, following the selected rounding direction.
#### [](#Math-mulShr-uint256-uint256-uint8-)`mulShr(uint256 x, uint256 y, uint8 n) → uint256 result` internal
Calculates floor(x \* y >> n) with full precision. Throws if result overflows a uint256.
#### [](#Math-mulShr-uint256-uint256-uint8-enum-Math-Rounding-)`mulShr(uint256 x, uint256 y, uint8 n, enum Math.Rounding rounding) → uint256` internal
Calculates x \* y >> n with full precision, following the selected rounding direction.
#### [](#Math-invMod-uint256-uint256-)`invMod(uint256 a, uint256 n) → uint256` internal
Calculate the modular multiplicative inverse of a number in Z/nZ.
If n is a prime, then Z/nZ is a field. In that case all elements are inversible, except 0. If n is not a prime, then Z/nZ is not a field, and some elements might not be inversible.
If the input value is not inversible, 0 is returned.
If you know for sure that n is (big) a prime, it may be cheaper to use Fermat’s little theorem and get the inverse using `Math.modExp(a, n - 2, n)`. See [`invModPrime`](#Math-invModPrime-uint256-uint256-).
#### [](#Math-invModPrime-uint256-uint256-)`invModPrime(uint256 a, uint256 p) → uint256` internal
Variant of [`invMod`](#Math-invMod-uint256-uint256-). More efficient, but only works if `p` is known to be a prime greater than `2`.
From [Fermat’s little theorem](https://en.wikipedia.org/wiki/Fermat%27s_little_theorem), we know that if p is prime, then `a**(p-1) ≡ 1 mod p**`**. As a consequence, we have `a * a`**`(p-2) ≡ 1 mod p`, which means that `a**(p-2)` is the modular multiplicative inverse of a in Fp.
this function does NOT check that `p` is a prime greater than `2`.
#### [](#Math-modExp-uint256-uint256-uint256-)`modExp(uint256 b, uint256 e, uint256 m) → uint256` internal
Returns the modular exponentiation of the specified base, exponent and modulus (b \*\* e % m)
Requirements: - modulus can’t be zero - underlying staticcall to precompile must succeed
The result is only valid if the underlying call succeeds. When using this function, make sure the chain you’re using it on supports the precompiled contract for modular exponentiation at address 0x05 as specified in [EIP-198](https://eips.ethereum.org/EIPS/eip-198). Otherwise, the underlying function will succeed given the lack of a revert, but the result may be incorrectly interpreted as 0.
#### [](#Math-tryModExp-uint256-uint256-uint256-)`tryModExp(uint256 b, uint256 e, uint256 m) → bool success, uint256 result` internal
Returns the modular exponentiation of the specified base, exponent and modulus (b \*\* e % m). It includes a success flag indicating if the operation succeeded. Operation will be marked as failed if trying to operate modulo 0 or if the underlying precompile reverted.
The result is only valid if the success flag is true. When using this function, make sure the chain you’re using it on supports the precompiled contract for modular exponentiation at address 0x05 as specified in [EIP-198](https://eips.ethereum.org/EIPS/eip-198). Otherwise, the underlying function will succeed given the lack of a revert, but the result may be incorrectly interpreted as 0.
#### [](#Math-modExp-bytes-bytes-bytes-)`modExp(bytes b, bytes e, bytes m) → bytes` internal
Variant of [`modExp`](#Math-modExp-bytes-bytes-bytes-) that supports inputs of arbitrary length.
#### [](#Math-tryModExp-bytes-bytes-bytes-)`tryModExp(bytes b, bytes e, bytes m) → bool success, bytes result` internal
Variant of [`tryModExp`](#Math-tryModExp-bytes-bytes-bytes-) that supports inputs of arbitrary length.
#### [](#Math-sqrt-uint256-)`sqrt(uint256 a) → uint256` internal
Returns the square root of a number. If the number is not a perfect square, the value is rounded towards zero.
This method is based on Newton’s method for computing square roots; the algorithm is restricted to only using integer operations.
#### [](#Math-sqrt-uint256-enum-Math-Rounding-)`sqrt(uint256 a, enum Math.Rounding rounding) → uint256` internal
Calculates sqrt(a), following the selected rounding direction.
#### [](#Math-log2-uint256-)`log2(uint256 x) → uint256 r` internal
Return the log in base 2 of a positive value rounded towards zero. Returns 0 if given 0.
#### [](#Math-log2-uint256-enum-Math-Rounding-)`log2(uint256 value, enum Math.Rounding rounding) → uint256` internal
Return the log in base 2, following the selected rounding direction, of a positive value. Returns 0 if given 0.
#### [](#Math-log10-uint256-)`log10(uint256 value) → uint256` internal
Return the log in base 10 of a positive value rounded towards zero. Returns 0 if given 0.
#### [](#Math-log10-uint256-enum-Math-Rounding-)`log10(uint256 value, enum Math.Rounding rounding) → uint256` internal
Return the log in base 10, following the selected rounding direction, of a positive value. Returns 0 if given 0.
#### [](#Math-log256-uint256-)`log256(uint256 x) → uint256 r` internal
Return the log in base 256 of a positive value rounded towards zero. Returns 0 if given 0.
Adding one to the result gives the number of pairs of hex symbols needed to represent `value` as a hex string.
#### [](#Math-log256-uint256-enum-Math-Rounding-)`log256(uint256 value, enum Math.Rounding rounding) → uint256` internal
Return the log in base 256, following the selected rounding direction, of a positive value. Returns 0 if given 0.
#### [](#Math-unsignedRoundsUp-enum-Math-Rounding-)`unsignedRoundsUp(enum Math.Rounding rounding) → bool` internal
Returns whether a provided rounding mode is considered rounding up for unsigned integers.
### [](#SignedMath)`SignedMath`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/math/SignedMath.sol)
 import "@openzeppelin/contracts/utils/math/SignedMath.sol";
Standard signed math utilities missing in the Solidity language.
#### [](#SignedMath-ternary-bool-int256-int256-)`ternary(bool condition, int256 a, int256 b) → int256` internal
Branchless ternary evaluation for `a ? b : c`. Gas costs are constant.
This function may reduce bytecode size and consume less gas when used standalone. However, the compiler may optimize Solidity ternary operations (i.e. `a ? b : c`) to only compute one branch when needed, making this function more expensive.
#### [](#SignedMath-max-int256-int256-)`max(int256 a, int256 b) → int256` internal
Returns the largest of two signed numbers.
#### [](#SignedMath-min-int256-int256-)`min(int256 a, int256 b) → int256` internal
Returns the smallest of two signed numbers.
#### [](#SignedMath-average-int256-int256-)`average(int256 a, int256 b) → int256` internal
Returns the average of two signed numbers without overflow. The result is rounded towards zero.
#### [](#SignedMath-abs-int256-)`abs(int256 n) → uint256` internal
Returns the absolute unsigned value of a signed value.
### [](#SafeCast)`SafeCast`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/math/SafeCast.sol)
 import "@openzeppelin/contracts/utils/math/SafeCast.sol";
Wrappers over Solidity’s uintXX/intXX/bool casting operators with added overflow checks.
Downcasting from uint256/int256 in Solidity does not revert on overflow. This can easily result in undesired exploitation or bugs, since developers usually assume that overflows raise errors. `SafeCast` restores this intuition by reverting the transaction when such an operation overflows.
Using this library instead of the unchecked operations eliminates an entire class of bugs, so it’s recommended to use it always.
Functions
* [`toUint248(value)`](#SafeCast-toUint248-uint256-)
 
* [`toUint240(value)`](#SafeCast-toUint240-uint256-)
 
* [`toUint232(value)`](#SafeCast-toUint232-uint256-)
 
* [`toUint224(value)`](#SafeCast-toUint224-uint256-)
 
* [`toUint216(value)`](#SafeCast-toUint216-uint256-)
 
* [`toUint208(value)`](#SafeCast-toUint208-uint256-)
 
* [`toUint200(value)`](#SafeCast-toUint200-uint256-)
 
* [`toUint192(value)`](#SafeCast-toUint192-uint256-)
 
* [`toUint184(value)`](#SafeCast-toUint184-uint256-)
 
* [`toUint176(value)`](#SafeCast-toUint176-uint256-)
 
* [`toUint168(value)`](#SafeCast-toUint168-uint256-)
 
* [`toUint160(value)`](#SafeCast-toUint160-uint256-)
 
* [`toUint152(value)`](#SafeCast-toUint152-uint256-)
 
* [`toUint144(value)`](#SafeCast-toUint144-uint256-)
 
* [`toUint136(value)`](#SafeCast-toUint136-uint256-)
 
* [`toUint128(value)`](#SafeCast-toUint128-uint256-)
 
* [`toUint120(value)`](#SafeCast-toUint120-uint256-)
 
* [`toUint112(value)`](#SafeCast-toUint112-uint256-)
 
* [`toUint104(value)`](#SafeCast-toUint104-uint256-)
 
* [`toUint96(value)`](#SafeCast-toUint96-uint256-)
 
* [`toUint88(value)`](#SafeCast-toUint88-uint256-)
 
* [`toUint80(value)`](#SafeCast-toUint80-uint256-)
 
* [`toUint72(value)`](#SafeCast-toUint72-uint256-)
 
* [`toUint64(value)`](#SafeCast-toUint64-uint256-)
 
* [`toUint56(value)`](#SafeCast-toUint56-uint256-)
 
* [`toUint48(value)`](#SafeCast-toUint48-uint256-)
 
* [`toUint40(value)`](#SafeCast-toUint40-uint256-)
 
* [`toUint32(value)`](#SafeCast-toUint32-uint256-)
 
* [`toUint24(value)`](#SafeCast-toUint24-uint256-)
 
* [`toUint16(value)`](#SafeCast-toUint16-uint256-)
 
* [`toUint8(value)`](#SafeCast-toUint8-uint256-)
 
* [`toUint256(value)`](#SafeCast-toUint256-int256-)
 
* [`toInt248(value)`](#SafeCast-toInt248-int256-)
 
* [`toInt240(value)`](#SafeCast-toInt240-int256-)
 
* [`toInt232(value)`](#SafeCast-toInt232-int256-)
 
* [`toInt224(value)`](#SafeCast-toInt224-int256-)
 
* [`toInt216(value)`](#SafeCast-toInt216-int256-)
 
* [`toInt208(value)`](#SafeCast-toInt208-int256-)
 
* [`toInt200(value)`](#SafeCast-toInt200-int256-)
 
* [`toInt192(value)`](#SafeCast-toInt192-int256-)
 
* [`toInt184(value)`](#SafeCast-toInt184-int256-)
 
* [`toInt176(value)`](#SafeCast-toInt176-int256-)
 
* [`toInt168(value)`](#SafeCast-toInt168-int256-)
 
* [`toInt160(value)`](#SafeCast-toInt160-int256-)
 
* [`toInt152(value)`](#SafeCast-toInt152-int256-)
 
* [`toInt144(value)`](#SafeCast-toInt144-int256-)
 
* [`toInt136(value)`](#SafeCast-toInt136-int256-)
 
* [`toInt128(value)`](#SafeCast-toInt128-int256-)
 
* [`toInt120(value)`](#SafeCast-toInt120-int256-)
 
* [`toInt112(value)`](#SafeCast-toInt112-int256-)
 
* [`toInt104(value)`](#SafeCast-toInt104-int256-)
 
* [`toInt96(value)`](#SafeCast-toInt96-int256-)
 
* [`toInt88(value)`](#SafeCast-toInt88-int256-)
 
* [`toInt80(value)`](#SafeCast-toInt80-int256-)
 
* [`toInt72(value)`](#SafeCast-toInt72-int256-)
 
* [`toInt64(value)`](#SafeCast-toInt64-int256-)
 
* [`toInt56(value)`](#SafeCast-toInt56-int256-)
 
* [`toInt48(value)`](#SafeCast-toInt48-int256-)
 
* [`toInt40(value)`](#SafeCast-toInt40-int256-)
 
* [`toInt32(value)`](#SafeCast-toInt32-int256-)
 
* [`toInt24(value)`](#SafeCast-toInt24-int256-)
 
* [`toInt16(value)`](#SafeCast-toInt16-int256-)
 
* [`toInt8(value)`](#SafeCast-toInt8-int256-)
 
* [`toInt256(value)`](#SafeCast-toInt256-uint256-)
 
* [`toUint(b)`](#SafeCast-toUint-bool-)
 
Errors
* [`SafeCastOverflowedUintDowncast(bits, value)`](#SafeCast-SafeCastOverflowedUintDowncast-uint8-uint256-)
 
* [`SafeCastOverflowedIntToUint(value)`](#SafeCast-SafeCastOverflowedIntToUint-int256-)
 
* [`SafeCastOverflowedIntDowncast(bits, value)`](#SafeCast-SafeCastOverflowedIntDowncast-uint8-int256-)
 
* [`SafeCastOverflowedUintToInt(value)`](#SafeCast-SafeCastOverflowedUintToInt-uint256-)
 
#### [](#SafeCast-toUint248-uint256-)`toUint248(uint256 value) → uint248` internal
Returns the downcasted uint248 from uint256, reverting on overflow (when the input is greater than largest uint248).
Counterpart to Solidity’s `uint248` operator.
Requirements:
* input must fit into 248 bits
 
#### [](#SafeCast-toUint240-uint256-)`toUint240(uint256 value) → uint240` internal
Returns the downcasted uint240 from uint256, reverting on overflow (when the input is greater than largest uint240).
Counterpart to Solidity’s `uint240` operator.
Requirements:
* input must fit into 240 bits
 
#### [](#SafeCast-toUint232-uint256-)`toUint232(uint256 value) → uint232` internal
Returns the downcasted uint232 from uint256, reverting on overflow (when the input is greater than largest uint232).
Counterpart to Solidity’s `uint232` operator.
Requirements:
* input must fit into 232 bits
 
#### [](#SafeCast-toUint224-uint256-)`toUint224(uint256 value) → uint224` internal
Returns the downcasted uint224 from uint256, reverting on overflow (when the input is greater than largest uint224).
Counterpart to Solidity’s `uint224` operator.
Requirements:
* input must fit into 224 bits
 
#### [](#SafeCast-toUint216-uint256-)`toUint216(uint256 value) → uint216` internal
Returns the downcasted uint216 from uint256, reverting on overflow (when the input is greater than largest uint216).
Counterpart to Solidity’s `uint216` operator.
Requirements:
* input must fit into 216 bits
 
#### [](#SafeCast-toUint208-uint256-)`toUint208(uint256 value) → uint208` internal
Returns the downcasted uint208 from uint256, reverting on overflow (when the input is greater than largest uint208).
Counterpart to Solidity’s `uint208` operator.
Requirements:
* input must fit into 208 bits
 
#### [](#SafeCast-toUint200-uint256-)`toUint200(uint256 value) → uint200` internal
Returns the downcasted uint200 from uint256, reverting on overflow (when the input is greater than largest uint200).
Counterpart to Solidity’s `uint200` operator.
Requirements:
* input must fit into 200 bits
 
#### [](#SafeCast-toUint192-uint256-)`toUint192(uint256 value) → uint192` internal
Returns the downcasted uint192 from uint256, reverting on overflow (when the input is greater than largest uint192).
Counterpart to Solidity’s `uint192` operator.
Requirements:
* input must fit into 192 bits
 
#### [](#SafeCast-toUint184-uint256-)`toUint184(uint256 value) → uint184` internal
Returns the downcasted uint184 from uint256, reverting on overflow (when the input is greater than largest uint184).
Counterpart to Solidity’s `uint184` operator.
Requirements:
* input must fit into 184 bits
 
#### [](#SafeCast-toUint176-uint256-)`toUint176(uint256 value) → uint176` internal
Returns the downcasted uint176 from uint256, reverting on overflow (when the input is greater than largest uint176).
Counterpart to Solidity’s `uint176` operator.
Requirements:
* input must fit into 176 bits
 
#### [](#SafeCast-toUint168-uint256-)`toUint168(uint256 value) → uint168` internal
Returns the downcasted uint168 from uint256, reverting on overflow (when the input is greater than largest uint168).
Counterpart to Solidity’s `uint168` operator.
Requirements:
* input must fit into 168 bits
 
#### [](#SafeCast-toUint160-uint256-)`toUint160(uint256 value) → uint160` internal
Returns the downcasted uint160 from uint256, reverting on overflow (when the input is greater than largest uint160).
Counterpart to Solidity’s `uint160` operator.
Requirements:
* input must fit into 160 bits
 
#### [](#SafeCast-toUint152-uint256-)`toUint152(uint256 value) → uint152` internal
Returns the downcasted uint152 from uint256, reverting on overflow (when the input is greater than largest uint152).
Counterpart to Solidity’s `uint152` operator.
Requirements:
* input must fit into 152 bits
 
#### [](#SafeCast-toUint144-uint256-)`toUint144(uint256 value) → uint144` internal
Returns the downcasted uint144 from uint256, reverting on overflow (when the input is greater than largest uint144).
Counterpart to Solidity’s `uint144` operator.
Requirements:
* input must fit into 144 bits
 
#### [](#SafeCast-toUint136-uint256-)`toUint136(uint256 value) → uint136` internal
Returns the downcasted uint136 from uint256, reverting on overflow (when the input is greater than largest uint136).
Counterpart to Solidity’s `uint136` operator.
Requirements:
* input must fit into 136 bits
 
#### [](#SafeCast-toUint128-uint256-)`toUint128(uint256 value) → uint128` internal
Returns the downcasted uint128 from uint256, reverting on overflow (when the input is greater than largest uint128).
Counterpart to Solidity’s `uint128` operator.
Requirements:
* input must fit into 128 bits
 
#### [](#SafeCast-toUint120-uint256-)`toUint120(uint256 value) → uint120` internal
Returns the downcasted uint120 from uint256, reverting on overflow (when the input is greater than largest uint120).
Counterpart to Solidity’s `uint120` operator.
Requirements:
* input must fit into 120 bits
 
#### [](#SafeCast-toUint112-uint256-)`toUint112(uint256 value) → uint112` internal
Returns the downcasted uint112 from uint256, reverting on overflow (when the input is greater than largest uint112).
Counterpart to Solidity’s `uint112` operator.
Requirements:
* input must fit into 112 bits
 
#### [](#SafeCast-toUint104-uint256-)`toUint104(uint256 value) → uint104` internal
Returns the downcasted uint104 from uint256, reverting on overflow (when the input is greater than largest uint104).
Counterpart to Solidity’s `uint104` operator.
Requirements:
* input must fit into 104 bits
 
#### [](#SafeCast-toUint96-uint256-)`toUint96(uint256 value) → uint96` internal
Returns the downcasted uint96 from uint256, reverting on overflow (when the input is greater than largest uint96).
Counterpart to Solidity’s `uint96` operator.
Requirements:
* input must fit into 96 bits
 
#### [](#SafeCast-toUint88-uint256-)`toUint88(uint256 value) → uint88` internal
Returns the downcasted uint88 from uint256, reverting on overflow (when the input is greater than largest uint88).
Counterpart to Solidity’s `uint88` operator.
Requirements:
* input must fit into 88 bits
 
#### [](#SafeCast-toUint80-uint256-)`toUint80(uint256 value) → uint80` internal
Returns the downcasted uint80 from uint256, reverting on overflow (when the input is greater than largest uint80).
Counterpart to Solidity’s `uint80` operator.
Requirements:
* input must fit into 80 bits
 
#### [](#SafeCast-toUint72-uint256-)`toUint72(uint256 value) → uint72` internal
Returns the downcasted uint72 from uint256, reverting on overflow (when the input is greater than largest uint72).
Counterpart to Solidity’s `uint72` operator.
Requirements:
* input must fit into 72 bits
 
#### [](#SafeCast-toUint64-uint256-)`toUint64(uint256 value) → uint64` internal
Returns the downcasted uint64 from uint256, reverting on overflow (when the input is greater than largest uint64).
Counterpart to Solidity’s `uint64` operator.
Requirements:
* input must fit into 64 bits
 
#### [](#SafeCast-toUint56-uint256-)`toUint56(uint256 value) → uint56` internal
Returns the downcasted uint56 from uint256, reverting on overflow (when the input is greater than largest uint56).
Counterpart to Solidity’s `uint56` operator.
Requirements:
* input must fit into 56 bits
 
#### [](#SafeCast-toUint48-uint256-)`toUint48(uint256 value) → uint48` internal
Returns the downcasted uint48 from uint256, reverting on overflow (when the input is greater than largest uint48).
Counterpart to Solidity’s `uint48` operator.
Requirements:
* input must fit into 48 bits
 
#### [](#SafeCast-toUint40-uint256-)`toUint40(uint256 value) → uint40` internal
Returns the downcasted uint40 from uint256, reverting on overflow (when the input is greater than largest uint40).
Counterpart to Solidity’s `uint40` operator.
Requirements:
* input must fit into 40 bits
 
#### [](#SafeCast-toUint32-uint256-)`toUint32(uint256 value) → uint32` internal
Returns the downcasted uint32 from uint256, reverting on overflow (when the input is greater than largest uint32).
Counterpart to Solidity’s `uint32` operator.
Requirements:
* input must fit into 32 bits
 
#### [](#SafeCast-toUint24-uint256-)`toUint24(uint256 value) → uint24` internal
Returns the downcasted uint24 from uint256, reverting on overflow (when the input is greater than largest uint24).
Counterpart to Solidity’s `uint24` operator.
Requirements:
* input must fit into 24 bits
 
#### [](#SafeCast-toUint16-uint256-)`toUint16(uint256 value) → uint16` internal
Returns the downcasted uint16 from uint256, reverting on overflow (when the input is greater than largest uint16).
Counterpart to Solidity’s `uint16` operator.
Requirements:
* input must fit into 16 bits
 
#### [](#SafeCast-toUint8-uint256-)`toUint8(uint256 value) → uint8` internal
Returns the downcasted uint8 from uint256, reverting on overflow (when the input is greater than largest uint8).
Counterpart to Solidity’s `uint8` operator.
Requirements:
* input must fit into 8 bits
 
#### [](#SafeCast-toUint256-int256-)`toUint256(int256 value) → uint256` internal
Converts a signed int256 into an unsigned uint256.
Requirements:
* input must be greater than or equal to 0.
 
#### [](#SafeCast-toInt248-int256-)`toInt248(int256 value) → int248 downcasted` internal
Returns the downcasted int248 from int256, reverting on overflow (when the input is less than smallest int248 or greater than largest int248).
Counterpart to Solidity’s `int248` operator.
Requirements:
* input must fit into 248 bits
 
#### [](#SafeCast-toInt240-int256-)`toInt240(int256 value) → int240 downcasted` internal
Returns the downcasted int240 from int256, reverting on overflow (when the input is less than smallest int240 or greater than largest int240).
Counterpart to Solidity’s `int240` operator.
Requirements:
* input must fit into 240 bits
 
#### [](#SafeCast-toInt232-int256-)`toInt232(int256 value) → int232 downcasted` internal
Returns the downcasted int232 from int256, reverting on overflow (when the input is less than smallest int232 or greater than largest int232).
Counterpart to Solidity’s `int232` operator.
Requirements:
* input must fit into 232 bits
 
#### [](#SafeCast-toInt224-int256-)`toInt224(int256 value) → int224 downcasted` internal
Returns the downcasted int224 from int256, reverting on overflow (when the input is less than smallest int224 or greater than largest int224).
Counterpart to Solidity’s `int224` operator.
Requirements:
* input must fit into 224 bits
 
#### [](#SafeCast-toInt216-int256-)`toInt216(int256 value) → int216 downcasted` internal
Returns the downcasted int216 from int256, reverting on overflow (when the input is less than smallest int216 or greater than largest int216).
Counterpart to Solidity’s `int216` operator.
Requirements:
* input must fit into 216 bits
 
#### [](#SafeCast-toInt208-int256-)`toInt208(int256 value) → int208 downcasted` internal
Returns the downcasted int208 from int256, reverting on overflow (when the input is less than smallest int208 or greater than largest int208).
Counterpart to Solidity’s `int208` operator.
Requirements:
* input must fit into 208 bits
 
#### [](#SafeCast-toInt200-int256-)`toInt200(int256 value) → int200 downcasted` internal
Returns the downcasted int200 from int256, reverting on overflow (when the input is less than smallest int200 or greater than largest int200).
Counterpart to Solidity’s `int200` operator.
Requirements:
* input must fit into 200 bits
 
#### [](#SafeCast-toInt192-int256-)`toInt192(int256 value) → int192 downcasted` internal
Returns the downcasted int192 from int256, reverting on overflow (when the input is less than smallest int192 or greater than largest int192).
Counterpart to Solidity’s `int192` operator.
Requirements:
* input must fit into 192 bits
 
#### [](#SafeCast-toInt184-int256-)`toInt184(int256 value) → int184 downcasted` internal
Returns the downcasted int184 from int256, reverting on overflow (when the input is less than smallest int184 or greater than largest int184).
Counterpart to Solidity’s `int184` operator.
Requirements:
* input must fit into 184 bits
 
#### [](#SafeCast-toInt176-int256-)`toInt176(int256 value) → int176 downcasted` internal
Returns the downcasted int176 from int256, reverting on overflow (when the input is less than smallest int176 or greater than largest int176).
Counterpart to Solidity’s `int176` operator.
Requirements:
* input must fit into 176 bits
 
#### [](#SafeCast-toInt168-int256-)`toInt168(int256 value) → int168 downcasted` internal
Returns the downcasted int168 from int256, reverting on overflow (when the input is less than smallest int168 or greater than largest int168).
Counterpart to Solidity’s `int168` operator.
Requirements:
* input must fit into 168 bits
 
#### [](#SafeCast-toInt160-int256-)`toInt160(int256 value) → int160 downcasted` internal
Returns the downcasted int160 from int256, reverting on overflow (when the input is less than smallest int160 or greater than largest int160).
Counterpart to Solidity’s `int160` operator.
Requirements:
* input must fit into 160 bits
 
#### [](#SafeCast-toInt152-int256-)`toInt152(int256 value) → int152 downcasted` internal
Returns the downcasted int152 from int256, reverting on overflow (when the input is less than smallest int152 or greater than largest int152).
Counterpart to Solidity’s `int152` operator.
Requirements:
* input must fit into 152 bits
 
#### [](#SafeCast-toInt144-int256-)`toInt144(int256 value) → int144 downcasted` internal
Returns the downcasted int144 from int256, reverting on overflow (when the input is less than smallest int144 or greater than largest int144).
Counterpart to Solidity’s `int144` operator.
Requirements:
* input must fit into 144 bits
 
#### [](#SafeCast-toInt136-int256-)`toInt136(int256 value) → int136 downcasted` internal
Returns the downcasted int136 from int256, reverting on overflow (when the input is less than smallest int136 or greater than largest int136).
Counterpart to Solidity’s `int136` operator.
Requirements:
* input must fit into 136 bits
 
#### [](#SafeCast-toInt128-int256-)`toInt128(int256 value) → int128 downcasted` internal
Returns the downcasted int128 from int256, reverting on overflow (when the input is less than smallest int128 or greater than largest int128).
Counterpart to Solidity’s `int128` operator.
Requirements:
* input must fit into 128 bits
 
#### [](#SafeCast-toInt120-int256-)`toInt120(int256 value) → int120 downcasted` internal
Returns the downcasted int120 from int256, reverting on overflow (when the input is less than smallest int120 or greater than largest int120).
Counterpart to Solidity’s `int120` operator.
Requirements:
* input must fit into 120 bits
 
#### [](#SafeCast-toInt112-int256-)`toInt112(int256 value) → int112 downcasted` internal
Returns the downcasted int112 from int256, reverting on overflow (when the input is less than smallest int112 or greater than largest int112).
Counterpart to Solidity’s `int112` operator.
Requirements:
* input must fit into 112 bits
 
#### [](#SafeCast-toInt104-int256-)`toInt104(int256 value) → int104 downcasted` internal
Returns the downcasted int104 from int256, reverting on overflow (when the input is less than smallest int104 or greater than largest int104).
Counterpart to Solidity’s `int104` operator.
Requirements:
* input must fit into 104 bits
 
#### [](#SafeCast-toInt96-int256-)`toInt96(int256 value) → int96 downcasted` internal
Returns the downcasted int96 from int256, reverting on overflow (when the input is less than smallest int96 or greater than largest int96).
Counterpart to Solidity’s `int96` operator.
Requirements:
* input must fit into 96 bits
 
#### [](#SafeCast-toInt88-int256-)`toInt88(int256 value) → int88 downcasted` internal
Returns the downcasted int88 from int256, reverting on overflow (when the input is less than smallest int88 or greater than largest int88).
Counterpart to Solidity’s `int88` operator.
Requirements:
* input must fit into 88 bits
 
#### [](#SafeCast-toInt80-int256-)`toInt80(int256 value) → int80 downcasted` internal
Returns the downcasted int80 from int256, reverting on overflow (when the input is less than smallest int80 or greater than largest int80).
Counterpart to Solidity’s `int80` operator.
Requirements:
* input must fit into 80 bits
 
#### [](#SafeCast-toInt72-int256-)`toInt72(int256 value) → int72 downcasted` internal
Returns the downcasted int72 from int256, reverting on overflow (when the input is less than smallest int72 or greater than largest int72).
Counterpart to Solidity’s `int72` operator.
Requirements:
* input must fit into 72 bits
 
#### [](#SafeCast-toInt64-int256-)`toInt64(int256 value) → int64 downcasted` internal
Returns the downcasted int64 from int256, reverting on overflow (when the input is less than smallest int64 or greater than largest int64).
Counterpart to Solidity’s `int64` operator.
Requirements:
* input must fit into 64 bits
 
#### [](#SafeCast-toInt56-int256-)`toInt56(int256 value) → int56 downcasted` internal
Returns the downcasted int56 from int256, reverting on overflow (when the input is less than smallest int56 or greater than largest int56).
Counterpart to Solidity’s `int56` operator.
Requirements:
* input must fit into 56 bits
 
#### [](#SafeCast-toInt48-int256-)`toInt48(int256 value) → int48 downcasted` internal
Returns the downcasted int48 from int256, reverting on overflow (when the input is less than smallest int48 or greater than largest int48).
Counterpart to Solidity’s `int48` operator.
Requirements:
* input must fit into 48 bits
 
#### [](#SafeCast-toInt40-int256-)`toInt40(int256 value) → int40 downcasted` internal
Returns the downcasted int40 from int256, reverting on overflow (when the input is less than smallest int40 or greater than largest int40).
Counterpart to Solidity’s `int40` operator.
Requirements:
* input must fit into 40 bits
 
#### [](#SafeCast-toInt32-int256-)`toInt32(int256 value) → int32 downcasted` internal
Returns the downcasted int32 from int256, reverting on overflow (when the input is less than smallest int32 or greater than largest int32).
Counterpart to Solidity’s `int32` operator.
Requirements:
* input must fit into 32 bits
 
#### [](#SafeCast-toInt24-int256-)`toInt24(int256 value) → int24 downcasted` internal
Returns the downcasted int24 from int256, reverting on overflow (when the input is less than smallest int24 or greater than largest int24).
Counterpart to Solidity’s `int24` operator.
Requirements:
* input must fit into 24 bits
 
#### [](#SafeCast-toInt16-int256-)`toInt16(int256 value) → int16 downcasted` internal
Returns the downcasted int16 from int256, reverting on overflow (when the input is less than smallest int16 or greater than largest int16).
Counterpart to Solidity’s `int16` operator.
Requirements:
* input must fit into 16 bits
 
#### [](#SafeCast-toInt8-int256-)`toInt8(int256 value) → int8 downcasted` internal
Returns the downcasted int8 from int256, reverting on overflow (when the input is less than smallest int8 or greater than largest int8).
Counterpart to Solidity’s `int8` operator.
Requirements:
* input must fit into 8 bits
 
#### [](#SafeCast-toInt256-uint256-)`toInt256(uint256 value) → int256` internal
Converts an unsigned uint256 into a signed int256.
Requirements:
* input must be less than or equal to maxInt256.
 
#### [](#SafeCast-toUint-bool-)`toUint(bool b) → uint256 u` internal
Cast a boolean (false or true) to a uint256 (0 or 1) with no jump.
#### [](#SafeCast-SafeCastOverflowedUintDowncast-uint8-uint256-)`SafeCastOverflowedUintDowncast(uint8 bits, uint256 value)` error
Value doesn’t fit in an uint of `bits` size.
#### [](#SafeCast-SafeCastOverflowedIntToUint-int256-)`SafeCastOverflowedIntToUint(int256 value)` error
An int value doesn’t fit in an uint of `bits` size.
#### [](#SafeCast-SafeCastOverflowedIntDowncast-uint8-int256-)`SafeCastOverflowedIntDowncast(uint8 bits, int256 value)` error
Value doesn’t fit in an int of `bits` size.
#### [](#SafeCast-SafeCastOverflowedUintToInt-uint256-)`SafeCastOverflowedUintToInt(uint256 value)` error
An uint value doesn’t fit in an int of `bits` size.
## [](#cryptography)Cryptography
### [](#ECDSA)`ECDSA`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/ECDSA.sol)
 import "@openzeppelin/contracts/utils/cryptography/ECDSA.sol";
Elliptic Curve Digital Signature Algorithm (ECDSA) operations.
These functions can be used to verify that a message was signed by the holder of the private keys of a given address.
Functions
* [`tryRecover(hash, signature)`](#ECDSA-tryRecover-bytes32-bytes-)
 
* [`recover(hash, signature)`](#ECDSA-recover-bytes32-bytes-)
 
* [`tryRecover(hash, r, vs)`](#ECDSA-tryRecover-bytes32-bytes32-bytes32-)
 
* [`recover(hash, r, vs)`](#ECDSA-recover-bytes32-bytes32-bytes32-)
 
* [`tryRecover(hash, v, r, s)`](#ECDSA-tryRecover-bytes32-uint8-bytes32-bytes32-)
 
* [`recover(hash, v, r, s)`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-)
 
Errors
* [`ECDSAInvalidSignature()`](#ECDSA-ECDSAInvalidSignature--)
 
* [`ECDSAInvalidSignatureLength(length)`](#ECDSA-ECDSAInvalidSignatureLength-uint256-)
 
* [`ECDSAInvalidSignatureS(s)`](#ECDSA-ECDSAInvalidSignatureS-bytes32-)
 
#### [](#ECDSA-tryRecover-bytes32-bytes-)`tryRecover(bytes32 hash, bytes signature) → address recovered, enum ECDSA.RecoverError err, bytes32 errArg` internal
Returns the address that signed a hashed message (`hash`) with `signature` or an error. This will not return address(0) without also returning an error description. Errors are documented using an enum (error type) and a bytes32 providing additional information about the error.
If no error is returned, then the address can be used for verification purposes.
The `ecrecover` EVM precompile allows for malleable (non-unique) signatures: this function rejects them by requiring the `s` value to be in the lower half order, and the `v` value to be either 27 or 28.
`hash` _must_ be the result of a hash operation for the verification to be secure: it is possible to craft signatures that recover to arbitrary addresses for non-hashed data. A safe way to ensure this is by receiving a hash of the original message (which may otherwise be too long), and then calling [`MessageHashUtils.toEthSignedMessageHash`](#MessageHashUtils-toEthSignedMessageHash-bytes-) on it.
Documentation for signature generation: - with [Web3.js](https://web3js.readthedocs.io/en/v1.3.4/web3-eth-accounts.html#sign) - with [ethers](https://docs.ethers.io/v5/api/signer/#Signer-signMessage)
#### [](#ECDSA-recover-bytes32-bytes-)`recover(bytes32 hash, bytes signature) → address` internal
Returns the address that signed a hashed message (`hash`) with `signature`. This address can then be used for verification purposes.
The `ecrecover` EVM precompile allows for malleable (non-unique) signatures: this function rejects them by requiring the `s` value to be in the lower half order, and the `v` value to be either 27 or 28.
`hash` _must_ be the result of a hash operation for the verification to be secure: it is possible to craft signatures that recover to arbitrary addresses for non-hashed data. A safe way to ensure this is by receiving a hash of the original message (which may otherwise be too long), and then calling [`MessageHashUtils.toEthSignedMessageHash`](#MessageHashUtils-toEthSignedMessageHash-bytes-) on it.
#### [](#ECDSA-tryRecover-bytes32-bytes32-bytes32-)`tryRecover(bytes32 hash, bytes32 r, bytes32 vs) → address recovered, enum ECDSA.RecoverError err, bytes32 errArg` internal
Overload of [`ECDSA.tryRecover`](#ECDSA-tryRecover-bytes32-uint8-bytes32-bytes32-) that receives the `r` and `vs` short-signature fields separately.
#### [](#ECDSA-recover-bytes32-bytes32-bytes32-)`recover(bytes32 hash, bytes32 r, bytes32 vs) → address` internal
Overload of [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-) that receives the ``r and `vs`` short-signature fields separately.
#### [](#ECDSA-tryRecover-bytes32-uint8-bytes32-bytes32-)`tryRecover(bytes32 hash, uint8 v, bytes32 r, bytes32 s) → address recovered, enum ECDSA.RecoverError err, bytes32 errArg` internal
Overload of [`ECDSA.tryRecover`](#ECDSA-tryRecover-bytes32-uint8-bytes32-bytes32-) that receives the `v`, `r` and `s` signature fields separately.
#### [](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-)`recover(bytes32 hash, uint8 v, bytes32 r, bytes32 s) → address` internal
Overload of [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-) that receives the `v`, `r` and `s` signature fields separately.
#### [](#ECDSA-ECDSAInvalidSignature--)`ECDSAInvalidSignature()` error
The signature derives the `address(0)`.
#### [](#ECDSA-ECDSAInvalidSignatureLength-uint256-)`ECDSAInvalidSignatureLength(uint256 length)` error
The signature has an invalid length.
#### [](#ECDSA-ECDSAInvalidSignatureS-bytes32-)`ECDSAInvalidSignatureS(bytes32 s)` error
The signature has an S value that is in the upper half order.
### [](#P256)`P256`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/P256.sol)
 import "@openzeppelin/contracts/utils/cryptography/P256.sol";
Implementation of secp256r1 verification and recovery functions.
The secp256r1 curve (also known as P256) is a NIST standard curve with wide support in modern devices and cryptographic standards. Some notable examples include Apple’s Secure Enclave and Android’s Keystore as well as authentication protocols like FIDO2.
_Available since v5.1._
Functions
* [`verify(h, r, s, qx, qy)`](#P256-verify-bytes32-bytes32-bytes32-bytes32-bytes32-)
 
* [`verifyNative(h, r, s, qx, qy)`](#P256-verifyNative-bytes32-bytes32-bytes32-bytes32-bytes32-)
 
* [`verifySolidity(h, r, s, qx, qy)`](#P256-verifySolidity-bytes32-bytes32-bytes32-bytes32-bytes32-)
 
* [`recovery(h, v, r, s)`](#P256-recovery-bytes32-uint8-bytes32-bytes32-)
 
* [`isValidPublicKey(x, y)`](#P256-isValidPublicKey-bytes32-bytes32-)
 
#### [](#P256-verify-bytes32-bytes32-bytes32-bytes32-bytes32-)`verify(bytes32 h, bytes32 r, bytes32 s, bytes32 qx, bytes32 qy) → bool` internal
Verifies a secp256r1 signature using the RIP-7212 precompile and falls back to the Solidity implementation if the precompile is not available. This version should work on all chains, but requires the deployment of more bytecode.
#### [](#P256-verifyNative-bytes32-bytes32-bytes32-bytes32-bytes32-)`verifyNative(bytes32 h, bytes32 r, bytes32 s, bytes32 qx, bytes32 qy) → bool` internal
Same as [`verify`](#P256-verify-bytes32-bytes32-bytes32-bytes32-bytes32-), but it will revert if the required precompile is not available.
Make sure any logic (code or precompile) deployed at that address is the expected one, otherwise the returned value may be misinterpreted as a positive boolean.
#### [](#P256-verifySolidity-bytes32-bytes32-bytes32-bytes32-bytes32-)`verifySolidity(bytes32 h, bytes32 r, bytes32 s, bytes32 qx, bytes32 qy) → bool` internal
Same as [`verify`](#P256-verify-bytes32-bytes32-bytes32-bytes32-bytes32-), but only the Solidity implementation is used.
#### [](#P256-recovery-bytes32-uint8-bytes32-bytes32-)`recovery(bytes32 h, uint8 v, bytes32 r, bytes32 s) → bytes32 x, bytes32 y` internal
Public key recovery
#### [](#P256-isValidPublicKey-bytes32-bytes32-)`isValidPublicKey(bytes32 x, bytes32 y) → bool result` internal
Checks if (x, y) are valid coordinates of a point on the curve. In particular this function checks that x < P and y < P.
#### [](#P256-GX-uint256)`uint256 GX` internal constant
Generator (x component)
#### [](#P256-GY-uint256)`uint256 GY` internal constant
Generator (y component)
#### [](#P256-P-uint256)`uint256 P` internal constant
P (size of the field)
#### [](#P256-N-uint256)`uint256 N` internal constant
N (order of G)
#### [](#P256-A-uint256)`uint256 A` internal constant
A parameter of the weierstrass equation
#### [](#P256-B-uint256)`uint256 B` internal constant
B parameter of the weierstrass equation
### [](#RSA)`RSA`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/RSA.sol)
 import "@openzeppelin/contracts/utils/cryptography/RSA.sol";
RSA PKCS#1 v1.5 signature verification implementation according to [RFC8017](https://datatracker.ietf.org/doc/html/rfc8017).
This library supports PKCS#1 v1.5 padding to avoid malleability via chosen plaintext attacks in practical implementations. The padding follows the EMSA-PKCS1-v1\_5-ENCODE encoding definition as per section 9.2 of the RFC. This padding makes RSA semantically secure for signing messages.
_Available since v5.1._
#### [](#RSA-pkcs1Sha256-bytes-bytes-bytes-bytes-)`pkcs1Sha256(bytes data, bytes s, bytes e, bytes n) → bool` internal
Same as [`pkcs1Sha256`](#RSA-pkcs1Sha256-bytes32-bytes-bytes-bytes-) but using SHA256 to calculate the digest of `data`.
#### [](#RSA-pkcs1Sha256-bytes32-bytes-bytes-bytes-)`pkcs1Sha256(bytes32 digest, bytes s, bytes e, bytes n) → bool` internal
Verifies a PKCSv1.5 signature given a digest according to the verification method described in [section 8.2.2 of RFC8017](https://datatracker.ietf.org/doc/html/rfc8017#section-8.2.2) with support for explicit or implicit NULL parameters in the DigestInfo (no other optional parameters are supported).
For security reason, this function requires the signature and modulus to have a length of at least 2048 bits. If you use a smaller key, consider replacing it with a larger, more secure, one.
This verification algorithm doesn’t prevent replayability. If called multiple times with the same digest, public key and (valid signature), it will return true every time. Consider including an onchain nonce or unique identifier in the message to prevent replay attacks.
This verification algorithm supports any exponent. NIST recommends using `65537` (or higher). That is the default value many libraries use, such as OpenSSL. Developers may choose to reject public keys using a low exponent out of security concerns.
### [](#EIP712)`EIP712`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/EIP712.sol)
 import "@openzeppelin/contracts/utils/cryptography/EIP712.sol";
[EIP-712](https://eips.ethereum.org/EIPS/eip-712) is a standard for hashing and signing of typed structured data.
The encoding scheme specified in the EIP requires a domain separator and a hash of the typed structured data, whose encoding is very generic and therefore its implementation in Solidity is not feasible, thus this contract does not implement the encoding itself. Protocols need to implement the type-specific encoding they need in order to produce the hash of their typed data using a combination of `abi.encode` and `keccak256`.
This contract implements the EIP-712 domain separator ([`_domainSeparatorV4`](#EIP712-_domainSeparatorV4--)) that is used as part of the encoding scheme, and the final step of the encoding to obtain the message digest that is then signed via ECDSA ([`_hashTypedDataV4`](#EIP712-_hashTypedDataV4-bytes32-)).
The implementation of the domain separator was designed to be as efficient as possible while still properly updating the chain id to protect against replay attacks on an eventual fork of the chain.
In the upgradeable version of this contract, the cached values will correspond to the address, and the domain separator of the implementation contract. This will cause the [`_domainSeparatorV4`](#EIP712-_domainSeparatorV4--) function to always rebuild the separator from the immutable values, which is cheaper than accessing a cached version in cold storage.
Functions
* [`constructor(name, version)`](#EIP712-constructor-string-string-)
 
* [`_domainSeparatorV4()`](#EIP712-_domainSeparatorV4--)
 
* [`_hashTypedDataV4(structHash)`](#EIP712-_hashTypedDataV4-bytes32-)
 
* [`eip712Domain()`](#EIP712-eip712Domain--)
 
* [`_EIP712Name()`](#EIP712-_EIP712Name--)
 
* [`_EIP712Version()`](#EIP712-_EIP712Version--)
 
#### [](#EIP712-constructor-string-string-)`constructor(string name, string version)` internal
Initializes the domain separator and parameter caches.
The meaning of `name` and `version` is specified in [EIP-712](https://eips.ethereum.org/EIPS/eip-712#definition-of-domainseparator):
* `name`: the user readable name of the signing domain, i.e. the name of the DApp or the protocol.
 
* `version`: the current major version of the signing domain.
 
#### [](#EIP712-_domainSeparatorV4--)`_domainSeparatorV4() → bytes32` internal
Returns the domain separator for the current chain.
#### [](#EIP712-_hashTypedDataV4-bytes32-)`_hashTypedDataV4(bytes32 structHash) → bytes32` internal
Given an already [hashed struct](https://eips.ethereum.org/EIPS/eip-712#definition-of-hashstruct), this function returns the hash of the fully encoded EIP712 message for this domain.
This hash can be used together with [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-) to obtain the signer of a message. For example:
 bytes32 digest = _hashTypedDataV4(keccak256(abi.encode(
 keccak256("Mail(address to,string contents)"),
 mailTo,
 keccak256(bytes(mailContents))
 )));
 address signer = ECDSA.recover(digest, signature);
#### [](#EIP712-eip712Domain--)`eip712Domain() → bytes1 fields, string name, string version, uint256 chainId, address verifyingContract, bytes32 salt, uint256[] extensions` public
returns the fields and values that describe the domain separator used by this contract for EIP-712 signature.
#### [](#EIP712-_EIP712Name--)`_EIP712Name() → string` internal
The name parameter for the EIP712 domain.
By default this function reads \_name which is an immutable value. It only reads from storage if necessary (in case the value is too large to fit in a ShortString).
#### [](#EIP712-_EIP712Version--)`_EIP712Version() → string` internal
The version parameter for the EIP712 domain.
By default this function reads \_version which is an immutable value. It only reads from storage if necessary (in case the value is too large to fit in a ShortString).
### [](#MessageHashUtils)`MessageHashUtils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/MessageHashUtils.sol)
 import "@openzeppelin/contracts/utils/cryptography/MessageHashUtils.sol";
Signature message hash utilities for producing digests to be consumed by [`ECDSA`](#ECDSA) recovery or signing.
The library provides methods for generating a hash of a message that conforms to the [ERC-191](https://eips.ethereum.org/EIPS/eip-191) and [EIP 712](https://eips.ethereum.org/EIPS/eip-712) specifications.
Functions
* [`toEthSignedMessageHash(messageHash)`](#MessageHashUtils-toEthSignedMessageHash-bytes32-)
 
* [`toEthSignedMessageHash(message)`](#MessageHashUtils-toEthSignedMessageHash-bytes-)
 
* [`toDataWithIntendedValidatorHash(validator, data)`](#MessageHashUtils-toDataWithIntendedValidatorHash-address-bytes-)
 
* [`toDataWithIntendedValidatorHash(validator, messageHash)`](#MessageHashUtils-toDataWithIntendedValidatorHash-address-bytes32-)
 
* [`toTypedDataHash(domainSeparator, structHash)`](#MessageHashUtils-toTypedDataHash-bytes32-bytes32-)
 
#### [](#MessageHashUtils-toEthSignedMessageHash-bytes32-)`toEthSignedMessageHash(bytes32 messageHash) → bytes32 digest` internal
Returns the keccak256 digest of an ERC-191 signed data with version `0x45` (`personal_sign` messages).
The digest is calculated by prefixing a bytes32 `messageHash` with `"\x19Ethereum Signed Message:\n32"` and hashing the result. It corresponds with the hash signed when using the [`eth_sign`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sign) JSON-RPC method.
The `messageHash` parameter is intended to be the result of hashing a raw message with keccak256, although any bytes32 value can be safely used because the final digest will be re-hashed.
See [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-).
#### [](#MessageHashUtils-toEthSignedMessageHash-bytes-)`toEthSignedMessageHash(bytes message) → bytes32` internal
Returns the keccak256 digest of an ERC-191 signed data with version `0x45` (`personal_sign` messages).
The digest is calculated by prefixing an arbitrary `message` with `"\x19Ethereum Signed Message:\n" + len(message)` and hashing the result. It corresponds with the hash signed when using the [`eth_sign`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_sign) JSON-RPC method.
See [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-).
#### [](#MessageHashUtils-toDataWithIntendedValidatorHash-address-bytes-)`toDataWithIntendedValidatorHash(address validator, bytes data) → bytes32` internal
Returns the keccak256 digest of an ERC-191 signed data with version `0x00` (data with intended validator).
The digest is calculated by prefixing an arbitrary `data` with `"\x19\x00"` and the intended `validator` address. Then hashing the result.
See [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-).
#### [](#MessageHashUtils-toDataWithIntendedValidatorHash-address-bytes32-)`toDataWithIntendedValidatorHash(address validator, bytes32 messageHash) → bytes32 digest` internal
Variant of [`toDataWithIntendedValidatorHash`](#MessageHashUtils-toDataWithIntendedValidatorHash-address-bytes-) optimized for cases where `data` is a bytes32.
#### [](#MessageHashUtils-toTypedDataHash-bytes32-bytes32-)`toTypedDataHash(bytes32 domainSeparator, bytes32 structHash) → bytes32 digest` internal
Returns the keccak256 digest of an EIP-712 typed data (ERC-191 version `0x01`).
The digest is calculated from a `domainSeparator` and a `structHash`, by prefixing them with `\x19\x01` and hashing the result. It corresponds to the hash signed by the [`eth_signTypedData`](https://eips.ethereum.org/EIPS/eip-712) JSON-RPC method as part of EIP-712.
See [`ECDSA.recover`](#ECDSA-recover-bytes32-uint8-bytes32-bytes32-).
### [](#SignatureChecker)`SignatureChecker`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/SignatureChecker.sol)
 import "@openzeppelin/contracts/utils/cryptography/SignatureChecker.sol";
Signature verification helper that can be used instead of `ECDSA.recover` to seamlessly support both ECDSA signatures from externally owned accounts (EOAs) as well as ERC-1271 signatures from smart contract wallets like Argent and Safe Wallet (previously Gnosis Safe).
Functions
* [`isValidSignatureNow(signer, hash, signature)`](#SignatureChecker-isValidSignatureNow-address-bytes32-bytes-)
 
* [`isValidERC1271SignatureNow(signer, hash, signature)`](#SignatureChecker-isValidERC1271SignatureNow-address-bytes32-bytes-)
 
#### [](#SignatureChecker-isValidSignatureNow-address-bytes32-bytes-)`isValidSignatureNow(address signer, bytes32 hash, bytes signature) → bool` internal
Checks if a signature is valid for a given signer and data hash. If the signer is a smart contract, the signature is validated against that smart contract using ERC-1271, otherwise it’s validated using `ECDSA.recover`.
Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus change through time. It could return true at block N and false at block N+1 (or the opposite).
#### [](#SignatureChecker-isValidERC1271SignatureNow-address-bytes32-bytes-)`isValidERC1271SignatureNow(address signer, bytes32 hash, bytes signature) → bool` internal
Checks if a signature is valid for a given signer and data hash. The signature is validated against the signer smart contract using ERC-1271.
Unlike ECDSA signatures, contract signatures are revocable, and the outcome of this function can thus change through time. It could return true at block N and false at block N+1 (or the opposite).
### [](#Hashes)`Hashes`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/Hashes.sol)
 import "@openzeppelin/contracts/utils/cryptography/Hashes.sol";
Library of standard hash functions.
_Available since v5.1._
#### [](#Hashes-commutativeKeccak256-bytes32-bytes32-)`commutativeKeccak256(bytes32 a, bytes32 b) → bytes32` internal
Commutative Keccak256 hash of a sorted pair of bytes32. Frequently used when working with merkle proofs.
#### [](#Hashes-efficientKeccak256-bytes32-bytes32-)`efficientKeccak256(bytes32 a, bytes32 b) → bytes32 value` internal
Implementation of keccak256(abi.encode(a, b)) that doesn’t allocate or expand memory.
### [](#MerkleProof)`MerkleProof`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/cryptography/MerkleProof.sol)
 import "@openzeppelin/contracts/utils/cryptography/MerkleProof.sol";
These functions deal with verification of Merkle Tree proofs.
The tree and the proofs can be generated using our [JavaScript library](https://github.com/OpenZeppelin/merkle-tree). You will find a quickstart guide in the readme.
You should avoid using leaf values that are 64 bytes long prior to hashing, or use a hash function other than keccak256 for hashing leaves. This is because the concatenation of a sorted pair of internal nodes in the Merkle tree could be reinterpreted as a leaf value. OpenZeppelin’s JavaScript library generates Merkle trees that are safe against this attack out of the box.
Consider memory side-effects when using custom hashing functions that access memory in an unsafe way.
This library supports proof verification for merkle trees built using custom _commutative_ hashing functions (i.e. `H(a, b) == H(b, a)`). Proving leaf inclusion in trees built using non-commutative hashing functions requires additional logic that is not supported by this library.
Functions
* [`verify(proof, root, leaf)`](#MerkleProof-verify-bytes32---bytes32-bytes32-)
 
* [`processProof(proof, leaf)`](#MerkleProof-processProof-bytes32---bytes32-)
 
* [`verify(proof, root, leaf, hasher)`](#MerkleProof-verify-bytes32---bytes32-bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`processProof(proof, leaf, hasher)`](#MerkleProof-processProof-bytes32---bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`verifyCalldata(proof, root, leaf)`](#MerkleProof-verifyCalldata-bytes32---bytes32-bytes32-)
 
* [`processProofCalldata(proof, leaf)`](#MerkleProof-processProofCalldata-bytes32---bytes32-)
 
* [`verifyCalldata(proof, root, leaf, hasher)`](#MerkleProof-verifyCalldata-bytes32---bytes32-bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`processProofCalldata(proof, leaf, hasher)`](#MerkleProof-processProofCalldata-bytes32---bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`multiProofVerify(proof, proofFlags, root, leaves)`](#MerkleProof-multiProofVerify-bytes32---bool---bytes32-bytes32---)
 
* [`processMultiProof(proof, proofFlags, leaves)`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---)
 
* [`multiProofVerify(proof, proofFlags, root, leaves, hasher)`](#MerkleProof-multiProofVerify-bytes32---bool---bytes32-bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`processMultiProof(proof, proofFlags, leaves, hasher)`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`multiProofVerifyCalldata(proof, proofFlags, root, leaves)`](#MerkleProof-multiProofVerifyCalldata-bytes32---bool---bytes32-bytes32---)
 
* [`processMultiProofCalldata(proof, proofFlags, leaves)`](#MerkleProof-processMultiProofCalldata-bytes32---bool---bytes32---)
 
* [`multiProofVerifyCalldata(proof, proofFlags, root, leaves, hasher)`](#MerkleProof-multiProofVerifyCalldata-bytes32---bool---bytes32-bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`processMultiProofCalldata(proof, proofFlags, leaves, hasher)`](#MerkleProof-processMultiProofCalldata-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--)
 
#### [](#MerkleProof-verify-bytes32---bytes32-bytes32-)`verify(bytes32[] proof, bytes32 root, bytes32 leaf) → bool` internal
Returns true if a `leaf` can be proved to be a part of a Merkle tree defined by `root`. For this, a `proof` must be provided, containing sibling hashes on the branch from the leaf to the root of the tree. Each pair of leaves and each pair of pre-images are assumed to be sorted.
This version handles proofs in memory with the default hashing function.
#### [](#MerkleProof-processProof-bytes32---bytes32-)`processProof(bytes32[] proof, bytes32 leaf) → bytes32` internal
Returns the rebuilt hash obtained by traversing a Merkle tree up from `leaf` using `proof`. A `proof` is valid if and only if the rebuilt hash matches the root of the tree. When processing the proof, the pairs of leaves & pre-images are assumed to be sorted.
This version handles proofs in memory with the default hashing function.
#### [](#MerkleProof-verify-bytes32---bytes32-bytes32-function--bytes32-bytes32--view-returns--bytes32--)`verify(bytes32[] proof, bytes32 root, bytes32 leaf, function (bytes32,bytes32) view returns (bytes32) hasher) → bool` internal
Returns true if a `leaf` can be proved to be a part of a Merkle tree defined by `root`. For this, a `proof` must be provided, containing sibling hashes on the branch from the leaf to the root of the tree. Each pair of leaves and each pair of pre-images are assumed to be sorted.
This version handles proofs in memory with a custom hashing function.
#### [](#MerkleProof-processProof-bytes32---bytes32-function--bytes32-bytes32--view-returns--bytes32--)`processProof(bytes32[] proof, bytes32 leaf, function (bytes32,bytes32) view returns (bytes32) hasher) → bytes32` internal
Returns the rebuilt hash obtained by traversing a Merkle tree up from `leaf` using `proof`. A `proof` is valid if and only if the rebuilt hash matches the root of the tree. When processing the proof, the pairs of leaves & pre-images are assumed to be sorted.
This version handles proofs in memory with a custom hashing function.
#### [](#MerkleProof-verifyCalldata-bytes32---bytes32-bytes32-)`verifyCalldata(bytes32[] proof, bytes32 root, bytes32 leaf) → bool` internal
Returns true if a `leaf` can be proved to be a part of a Merkle tree defined by `root`. For this, a `proof` must be provided, containing sibling hashes on the branch from the leaf to the root of the tree. Each pair of leaves and each pair of pre-images are assumed to be sorted.
This version handles proofs in calldata with the default hashing function.
#### [](#MerkleProof-processProofCalldata-bytes32---bytes32-)`processProofCalldata(bytes32[] proof, bytes32 leaf) → bytes32` internal
Returns the rebuilt hash obtained by traversing a Merkle tree up from `leaf` using `proof`. A `proof` is valid if and only if the rebuilt hash matches the root of the tree. When processing the proof, the pairs of leaves & pre-images are assumed to be sorted.
This version handles proofs in calldata with the default hashing function.
#### [](#MerkleProof-verifyCalldata-bytes32---bytes32-bytes32-function--bytes32-bytes32--view-returns--bytes32--)`verifyCalldata(bytes32[] proof, bytes32 root, bytes32 leaf, function (bytes32,bytes32) view returns (bytes32) hasher) → bool` internal
Returns true if a `leaf` can be proved to be a part of a Merkle tree defined by `root`. For this, a `proof` must be provided, containing sibling hashes on the branch from the leaf to the root of the tree. Each pair of leaves and each pair of pre-images are assumed to be sorted.
This version handles proofs in calldata with a custom hashing function.
#### [](#MerkleProof-processProofCalldata-bytes32---bytes32-function--bytes32-bytes32--view-returns--bytes32--)`processProofCalldata(bytes32[] proof, bytes32 leaf, function (bytes32,bytes32) view returns (bytes32) hasher) → bytes32` internal
Returns the rebuilt hash obtained by traversing a Merkle tree up from `leaf` using `proof`. A `proof` is valid if and only if the rebuilt hash matches the root of the tree. When processing the proof, the pairs of leaves & pre-images are assumed to be sorted.
This version handles proofs in calldata with a custom hashing function.
#### [](#MerkleProof-multiProofVerify-bytes32---bool---bytes32-bytes32---)`multiProofVerify(bytes32[] proof, bool[] proofFlags, bytes32 root, bytes32[] leaves) → bool` internal
Returns true if the `leaves` can be simultaneously proven to be a part of a Merkle tree defined by `root`, according to `proof` and `proofFlags` as described in [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
This version handles multiproofs in memory with the default hashing function.
Not all Merkle trees admit multiproofs. See [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--) for details.
Consider the case where `root == proof[0] && leaves.length == 0` as it will return `true`. The `leaves` must be validated independently. See [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
#### [](#MerkleProof-processMultiProof-bytes32---bool---bytes32---)`processMultiProof(bytes32[] proof, bool[] proofFlags, bytes32[] leaves) → bytes32 merkleRoot` internal
Returns the root of a tree reconstructed from `leaves` and sibling nodes in `proof`. The reconstruction proceeds by incrementally reconstructing all inner nodes by combining a leaf/inner node with either another leaf/inner node or a proof sibling node, depending on whether each `proofFlags` item is true or false respectively.
This version handles multiproofs in memory with the default hashing function.
Not all Merkle trees admit multiproofs. To use multiproofs, it is sufficient to ensure that: 1) the tree is complete (but not necessarily perfect), 2) the leaves to be proven are in the opposite order they are in the tree (i.e., as seen from right to left starting at the deepest layer and continuing at the next layer).
The _empty set_ (i.e. the case where `proof.length == 1 && leaves.length == 0`) is considered a no-op, and therefore a valid multiproof (i.e. it returns `proof[0]`). Consider disallowing this case if you’re not validating the leaves elsewhere.
#### [](#MerkleProof-multiProofVerify-bytes32---bool---bytes32-bytes32---function--bytes32-bytes32--view-returns--bytes32--)`multiProofVerify(bytes32[] proof, bool[] proofFlags, bytes32 root, bytes32[] leaves, function (bytes32,bytes32) view returns (bytes32) hasher) → bool` internal
Returns true if the `leaves` can be simultaneously proven to be a part of a Merkle tree defined by `root`, according to `proof` and `proofFlags` as described in [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
This version handles multiproofs in memory with a custom hashing function.
Not all Merkle trees admit multiproofs. See [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--) for details.
Consider the case where `root == proof[0] && leaves.length == 0` as it will return `true`. The `leaves` must be validated independently. See [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
#### [](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function--bytes32-bytes32--view-returns--bytes32--)`processMultiProof(bytes32[] proof, bool[] proofFlags, bytes32[] leaves, function (bytes32,bytes32) view returns (bytes32) hasher) → bytes32 merkleRoot` internal
Returns the root of a tree reconstructed from `leaves` and sibling nodes in `proof`. The reconstruction proceeds by incrementally reconstructing all inner nodes by combining a leaf/inner node with either another leaf/inner node or a proof sibling node, depending on whether each `proofFlags` item is true or false respectively.
This version handles multiproofs in memory with a custom hashing function.
Not all Merkle trees admit multiproofs. To use multiproofs, it is sufficient to ensure that: 1) the tree is complete (but not necessarily perfect), 2) the leaves to be proven are in the opposite order they are in the tree (i.e., as seen from right to left starting at the deepest layer and continuing at the next layer).
The _empty set_ (i.e. the case where `proof.length == 1 && leaves.length == 0`) is considered a no-op, and therefore a valid multiproof (i.e. it returns `proof[0]`). Consider disallowing this case if you’re not validating the leaves elsewhere.
#### [](#MerkleProof-multiProofVerifyCalldata-bytes32---bool---bytes32-bytes32---)`multiProofVerifyCalldata(bytes32[] proof, bool[] proofFlags, bytes32 root, bytes32[] leaves) → bool` internal
Returns true if the `leaves` can be simultaneously proven to be a part of a Merkle tree defined by `root`, according to `proof` and `proofFlags` as described in [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
This version handles multiproofs in calldata with the default hashing function.
Not all Merkle trees admit multiproofs. See [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--) for details.
Consider the case where `root == proof[0] && leaves.length == 0` as it will return `true`. The `leaves` must be validated independently. See [`processMultiProofCalldata`](#MerkleProof-processMultiProofCalldata-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
#### [](#MerkleProof-processMultiProofCalldata-bytes32---bool---bytes32---)`processMultiProofCalldata(bytes32[] proof, bool[] proofFlags, bytes32[] leaves) → bytes32 merkleRoot` internal
Returns the root of a tree reconstructed from `leaves` and sibling nodes in `proof`. The reconstruction proceeds by incrementally reconstructing all inner nodes by combining a leaf/inner node with either another leaf/inner node or a proof sibling node, depending on whether each `proofFlags` item is true or false respectively.
This version handles multiproofs in calldata with the default hashing function.
Not all Merkle trees admit multiproofs. To use multiproofs, it is sufficient to ensure that: 1) the tree is complete (but not necessarily perfect), 2) the leaves to be proven are in the opposite order they are in the tree (i.e., as seen from right to left starting at the deepest layer and continuing at the next layer).
The _empty set_ (i.e. the case where `proof.length == 1 && leaves.length == 0`) is considered a no-op, and therefore a valid multiproof (i.e. it returns `proof[0]`). Consider disallowing this case if you’re not validating the leaves elsewhere.
#### [](#MerkleProof-multiProofVerifyCalldata-bytes32---bool---bytes32-bytes32---function--bytes32-bytes32--view-returns--bytes32--)`multiProofVerifyCalldata(bytes32[] proof, bool[] proofFlags, bytes32 root, bytes32[] leaves, function (bytes32,bytes32) view returns (bytes32) hasher) → bool` internal
Returns true if the `leaves` can be simultaneously proven to be a part of a Merkle tree defined by `root`, according to `proof` and `proofFlags` as described in [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
This version handles multiproofs in calldata with a custom hashing function.
Not all Merkle trees admit multiproofs. See [`processMultiProof`](#MerkleProof-processMultiProof-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--) for details.
Consider the case where `root == proof[0] && leaves.length == 0` as it will return `true`. The `leaves` must be validated independently. See [`processMultiProofCalldata`](#MerkleProof-processMultiProofCalldata-bytes32---bool---bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--).
#### [](#MerkleProof-processMultiProofCalldata-bytes32---bool---bytes32---function--bytes32-bytes32--view-returns--bytes32--)`processMultiProofCalldata(bytes32[] proof, bool[] proofFlags, bytes32[] leaves, function (bytes32,bytes32) view returns (bytes32) hasher) → bytes32 merkleRoot` internal
Returns the root of a tree reconstructed from `leaves` and sibling nodes in `proof`. The reconstruction proceeds by incrementally reconstructing all inner nodes by combining a leaf/inner node with either another leaf/inner node or a proof sibling node, depending on whether each `proofFlags` item is true or false respectively.
This version handles multiproofs in calldata with a custom hashing function.
Not all Merkle trees admit multiproofs. To use multiproofs, it is sufficient to ensure that: 1) the tree is complete (but not necessarily perfect), 2) the leaves to be proven are in the opposite order they are in the tree (i.e., as seen from right to left starting at the deepest layer and continuing at the next layer).
The _empty set_ (i.e. the case where `proof.length == 1 && leaves.length == 0`) is considered a no-op, and therefore a valid multiproof (i.e. it returns `proof[0]`). Consider disallowing this case if you’re not validating the leaves elsewhere.
#### [](#MerkleProof-MerkleProofInvalidMultiproof--)`MerkleProofInvalidMultiproof()` error
The multiproof provided is not valid.
## [](#security)Security
### [](#ReentrancyGuard)`ReentrancyGuard`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/ReentrancyGuard.sol)
 import "@openzeppelin/contracts/utils/ReentrancyGuard.sol";
Contract module that helps prevent reentrant calls to a function.
Inheriting from `ReentrancyGuard` will make the [`nonReentrant`](#ReentrancyGuard-nonReentrant--) modifier available, which can be applied to functions to make sure there are no nested (reentrant) calls to them.
Note that because there is a single `nonReentrant` guard, functions marked as `nonReentrant` may not call one another. This can be worked around by making those functions `private`, and then adding `external` `nonReentrant` entry points to them.
If EIP-1153 (transient storage) is available on the chain you’re deploying at, consider using [`ReentrancyGuardTransient`](#ReentrancyGuardTransient) instead.
If you would like to learn more about reentrancy and alternative ways to protect against it, check out our blog post [Reentrancy After Istanbul](https://blog.openzeppelin.com/reentrancy-after-istanbul/).
#### [](#ReentrancyGuard-nonReentrant--)`nonReentrant()` modifier
Prevents a contract from calling itself, directly or indirectly. Calling a `nonReentrant` function from another `nonReentrant` function is not supported. It is possible to prevent this from happening by making the `nonReentrant` function external, and making it call a `private` function that does the actual work.
#### [](#ReentrancyGuard-constructor--)`constructor()` internal
#### [](#ReentrancyGuard-_reentrancyGuardEntered--)`_reentrancyGuardEntered() → bool` internal
Returns true if the reentrancy guard is currently set to "entered", which indicates there is a `nonReentrant` function in the call stack.
#### [](#ReentrancyGuard-ReentrancyGuardReentrantCall--)`ReentrancyGuardReentrantCall()` error
Unauthorized reentrant call.
### [](#ReentrancyGuardTransient)`ReentrancyGuardTransient`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/ReentrancyGuardTransient.sol)
 import "@openzeppelin/contracts/utils/ReentrancyGuardTransient.sol";
Variant of [`ReentrancyGuard`](#ReentrancyGuard) that uses transient storage.
This variant only works on networks where EIP-1153 is available.
_Available since v5.1._
#### [](#ReentrancyGuardTransient-nonReentrant--)`nonReentrant()` modifier
Prevents a contract from calling itself, directly or indirectly. Calling a `nonReentrant` function from another `nonReentrant` function is not supported. It is possible to prevent this from happening by making the `nonReentrant` function external, and making it call a `private` function that does the actual work.
#### [](#ReentrancyGuardTransient-_reentrancyGuardEntered--)`_reentrancyGuardEntered() → bool` internal
Returns true if the reentrancy guard is currently set to "entered", which indicates there is a `nonReentrant` function in the call stack.
#### [](#ReentrancyGuardTransient-ReentrancyGuardReentrantCall--)`ReentrancyGuardReentrantCall()` error
Unauthorized reentrant call.
### [](#Pausable)`Pausable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Pausable.sol)
 import "@openzeppelin/contracts/utils/Pausable.sol";
Contract module which allows children to implement an emergency stop mechanism that can be triggered by an authorized account.
This module is used through inheritance. It will make available the modifiers `whenNotPaused` and `whenPaused`, which can be applied to the functions of your contract. Note that they will not be pausable by simply including this module, only once the modifiers are put in place.
#### [](#Pausable-whenNotPaused--)`whenNotPaused()` modifier
Modifier to make a function callable only when the contract is not paused.
Requirements:
* The contract must not be paused.
 
#### [](#Pausable-whenPaused--)`whenPaused()` modifier
Modifier to make a function callable only when the contract is paused.
Requirements:
* The contract must be paused.
 
#### [](#Pausable-paused--)`paused() → bool` public
Returns true if the contract is paused, and false otherwise.
#### [](#Pausable-_requireNotPaused--)`_requireNotPaused()` internal
Throws if the contract is paused.
#### [](#Pausable-_requirePaused--)`_requirePaused()` internal
Throws if the contract is not paused.
#### [](#Pausable-_pause--)`_pause()` internal
Triggers stopped state.
Requirements:
* The contract must not be paused.
 
#### [](#Pausable-_unpause--)`_unpause()` internal
Returns to normal state.
Requirements:
* The contract must be paused.
 
#### [](#Pausable-Paused-address-)`Paused(address account)` event
Emitted when the pause is triggered by `account`.
#### [](#Pausable-Unpaused-address-)`Unpaused(address account)` event
Emitted when the pause is lifted by `account`.
#### [](#Pausable-EnforcedPause--)`EnforcedPause()` error
The operation failed because the contract is paused.
#### [](#Pausable-ExpectedPause--)`ExpectedPause()` error
The operation failed because the contract is not paused.
### [](#Nonces)`Nonces`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Nonces.sol)
 import "@openzeppelin/contracts/utils/Nonces.sol";
Provides tracking nonces for addresses. Nonces will only increment.
#### [](#Nonces-nonces-address-)`nonces(address owner) → uint256` public
Returns the next unused nonce for an address.
#### [](#Nonces-_useNonce-address-)`_useNonce(address owner) → uint256` internal
Consumes a nonce.
Returns the current value and increments nonce.
#### [](#Nonces-_useCheckedNonce-address-uint256-)`_useCheckedNonce(address owner, uint256 nonce)` internal
Same as [`_useNonce`](#Nonces-_useNonce-address-) but checking that `nonce` is the next valid for `owner`.
#### [](#Nonces-InvalidAccountNonce-address-uint256-)`InvalidAccountNonce(address account, uint256 currentNonce)` error
The nonce used for an `account` is not the expected current nonce.
### [](#NoncesKeyed)`NoncesKeyed`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/NoncesKeyed.sol)
 import "@openzeppelin/contracts/utils/NoncesKeyed.sol";
Alternative to [`nonces`](#NoncesKeyed-nonces-address-uint192-), that supports key-ed nonces.
This contract inherits from [`nonces`](#NoncesKeyed-nonces-address-uint192-) and reuses its storage for the first nonce key (i.e. `0`). This makes upgrading from [`nonces`](#NoncesKeyed-nonces-address-uint192-) to [`NoncesKeyed`](#NoncesKeyed) safe when using their upgradeable versions (e.g. `NoncesKeyedUpgradeable`). Doing so will NOT reset the current state of nonces, avoiding replay attacks where a nonce is reused after the upgrade.
Functions
* [`nonces(owner, key)`](#NoncesKeyed-nonces-address-uint192-)
 
* [`_useNonce(owner, key)`](#NoncesKeyed-_useNonce-address-uint192-)
 
* [`_useCheckedNonce(owner, keyNonce)`](#NoncesKeyed-_useCheckedNonce-address-uint256-)
 
* [`_useCheckedNonce(owner, key, nonce)`](#NoncesKeyed-_useCheckedNonce-address-uint192-uint64-)
 
#### [](#NoncesKeyed-nonces-address-uint192-)`nonces(address owner, uint192 key) → uint256` public
Returns the next unused nonce for an address and key. Result contains the key prefix.
#### [](#NoncesKeyed-_useNonce-address-uint192-)`_useNonce(address owner, uint192 key) → uint256` internal
Consumes the next unused nonce for an address and key.
Returns the current value without the key prefix. Consumed nonce is increased, so calling this function twice with the same arguments will return different (sequential) results.
#### [](#NoncesKeyed-_useCheckedNonce-address-uint256-)`_useCheckedNonce(address owner, uint256 keyNonce)` internal
Same as [`_useNonce`](#NoncesKeyed-_useNonce-address-uint192-) but checking that `nonce` is the next valid for `owner`.
This version takes the key and the nonce in a single uint256 parameter: - use the first 24 bytes for the key - use the last 8 bytes for the nonce
#### [](#NoncesKeyed-_useCheckedNonce-address-uint192-uint64-)`_useCheckedNonce(address owner, uint192 key, uint64 nonce)` internal
Same as [`_useNonce`](#NoncesKeyed-_useNonce-address-uint192-) but checking that `nonce` is the next valid for `owner`.
This version takes the key and the nonce as two different parameters.
## [](#introspection)Introspection
This set of interfaces and contracts deal with [type introspection](https://en.wikipedia.org/wiki/Type_introspection) of contracts, that is, examining which functions can be called on them. This is usually referred to as a contract’s _interface_.
Ethereum contracts have no native concept of an interface, so applications must usually simply trust they are not making an incorrect call. For trusted setups this is a non-issue, but often unknown and untrusted third-party addresses need to be interacted with. There may even not be any direct calls to them! (e.g. ERC-20 tokens may be sent to a contract that lacks a way to transfer them out of it, locking them forever). In these cases, a contract _declaring_ its interface can be very helpful in preventing errors.
### [](#IERC165)`IERC165`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/introspection/IERC165.sol)
 import "@openzeppelin/contracts/utils/introspection/IERC165.sol";
Interface of the ERC-165 standard, as defined in the [ERC](https://eips.ethereum.org/EIPS/eip-165).
Implementers can declare support of contract interfaces, which can then be queried by others ([`ERC165Checker`](#ERC165Checker)).
For an implementation, see [`ERC165`](#ERC165).
#### [](#IERC165-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` external
Returns true if this contract implements the interface defined by `interfaceId`. See the corresponding [ERC section](https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified) to learn more about how these ids are created.
This function call must use less than 30 000 gas.
### [](#ERC165)`ERC165`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/introspection/ERC165.sol)
 import "@openzeppelin/contracts/utils/introspection/ERC165.sol";
Implementation of the [`IERC165`](#IERC165) interface.
Contracts that want to implement ERC-165 should inherit from this contract and override [`supportsInterface`](#ERC165-supportsInterface-bytes4-) to check for the additional interface id that will be supported. For example:
 function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {
 return interfaceId == type(MyInterface).interfaceId || super.supportsInterface(interfaceId);
 }
#### [](#ERC165-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
### [](#ERC165Checker)`ERC165Checker`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/introspection/ERC165Checker.sol)
 import "@openzeppelin/contracts/utils/introspection/ERC165Checker.sol";
Library used to query support of an interface declared via [`IERC165`](#IERC165).
Note that these functions return the actual result of the query: they do not `revert` if an interface is not supported. It is up to the caller to decide what to do in these cases.
Functions
* [`supportsERC165(account)`](#ERC165Checker-supportsERC165-address-)
 
* [`supportsInterface(account, interfaceId)`](#ERC165Checker-supportsInterface-address-bytes4-)
 
* [`getSupportedInterfaces(account, interfaceIds)`](#ERC165Checker-getSupportedInterfaces-address-bytes4---)
 
* [`supportsAllInterfaces(account, interfaceIds)`](#ERC165Checker-supportsAllInterfaces-address-bytes4---)
 
* [`supportsERC165InterfaceUnchecked(account, interfaceId)`](#ERC165Checker-supportsERC165InterfaceUnchecked-address-bytes4-)
 
#### [](#ERC165Checker-supportsERC165-address-)`supportsERC165(address account) → bool` internal
Returns true if `account` supports the [`IERC165`](#IERC165) interface.
#### [](#ERC165Checker-supportsInterface-address-bytes4-)`supportsInterface(address account, bytes4 interfaceId) → bool` internal
Returns true if `account` supports the interface defined by `interfaceId`. Support for [`IERC165`](#IERC165) itself is queried automatically.
#### [](#ERC165Checker-getSupportedInterfaces-address-bytes4---)`getSupportedInterfaces(address account, bytes4[] interfaceIds) → bool[]` internal
Returns a boolean array where each value corresponds to the interfaces passed in and whether they’re supported or not. This allows you to batch check interfaces for a contract where your expectation is that some interfaces may not be supported.
#### [](#ERC165Checker-supportsAllInterfaces-address-bytes4---)`supportsAllInterfaces(address account, bytes4[] interfaceIds) → bool` internal
Returns true if `account` supports all the interfaces defined in `interfaceIds`. Support for [`IERC165`](#IERC165) itself is queried automatically.
Batch-querying can lead to gas savings by skipping repeated checks for [`IERC165`](#IERC165) support.
#### [](#ERC165Checker-supportsERC165InterfaceUnchecked-address-bytes4-)`supportsERC165InterfaceUnchecked(address account, bytes4 interfaceId) → bool` internal
Assumes that account contains a contract that supports ERC-165, otherwise the behavior of this method is undefined. This precondition can be checked with [`supportsERC165`](#ERC165Checker-supportsERC165-address-).
Some precompiled contracts will falsely indicate support for a given interface, so caution should be exercised when using this function.
Interface identification is specified in ERC-165.
## [](#data_structures)Data Structures
### [](#BitMaps)`BitMaps`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/BitMaps.sol)
 import "@openzeppelin/contracts/utils/structs/BitMaps.sol";
Library for managing uint256 to bool mapping in a compact and efficient way, provided the keys are sequential. Largely inspired by Uniswap’s [merkle-distributor](https://github.com/Uniswap/merkle-distributor/blob/master/contracts/MerkleDistributor.sol).
BitMaps pack 256 booleans across each bit of a single 256-bit slot of `uint256` type. Hence booleans corresponding to 256 _sequential_ indices would only consume a single slot, unlike the regular `bool` which would consume an entire slot for a single value.
This results in gas savings in two ways:
* Setting a zero value to non-zero only once every 256 times
 
* Accessing the same warm slot for every 256 _sequential_ indices
 
#### [](#BitMaps-get-struct-BitMaps-BitMap-uint256-)`get(struct BitMaps.BitMap bitmap, uint256 index) → bool` internal
Returns whether the bit at `index` is set.
#### [](#BitMaps-setTo-struct-BitMaps-BitMap-uint256-bool-)`setTo(struct BitMaps.BitMap bitmap, uint256 index, bool value)` internal
Sets the bit at `index` to the boolean `value`.
#### [](#BitMaps-set-struct-BitMaps-BitMap-uint256-)`set(struct BitMaps.BitMap bitmap, uint256 index)` internal
Sets the bit at `index`.
#### [](#BitMaps-unset-struct-BitMaps-BitMap-uint256-)`unset(struct BitMaps.BitMap bitmap, uint256 index)` internal
Unsets the bit at `index`.
### [](#EnumerableMap)`EnumerableMap`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/EnumerableMap.sol)
 import "@openzeppelin/contracts/utils/structs/EnumerableMap.sol";
Library for managing an enumerable variant of Solidity’s [`mapping`](https://solidity.readthedocs.io/en/latest/types.html#mapping-types) type.
Maps have the following properties:
* Entries are added, removed, and checked for existence in constant time (O(1)).
 
* Entries are enumerated in O(n). No guarantees are made on the ordering.
 
* Map can be cleared (all entries removed) in O(n).
 
 contract Example {
 // Add the library methods
 using EnumerableMap for EnumerableMap.UintToAddressMap;
 
 // Declare a set state variable
 EnumerableMap.UintToAddressMap private myMap;
 }
The following map types are supported:
* `uint256 → address` (`UintToAddressMap`) since v3.0.0
 
* `address → uint256` (`AddressToUintMap`) since v4.6.0
 
* `bytes32 → bytes32` (`Bytes32ToBytes32Map`) since v4.6.0
 
* `uint256 → uint256` (`UintToUintMap`) since v4.7.0
 
* `bytes32 → uint256` (`Bytes32ToUintMap`) since v4.7.0
 
* `uint256 → bytes32` (`UintToBytes32Map`) since v5.1.0
 
* `address → address` (`AddressToAddressMap`) since v5.1.0
 
* `address → bytes32` (`AddressToBytes32Map`) since v5.1.0
 
* `bytes32 → address` (`Bytes32ToAddressMap`) since v5.1.0
 
Trying to delete such a structure from storage will likely result in data corruption, rendering the structure unusable. See [ethereum/solidity#11843](https://github.com/ethereum/solidity/pull/11843) for more info.
In order to clean an EnumerableMap, you can either remove all elements one by one or create a fresh instance using an array of EnumerableMap.
Functions
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-bytes32-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-Bytes32ToBytes32Map-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToBytes32Map-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-Bytes32ToBytes32Map-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-Bytes32ToBytes32Map-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-UintToUintMap-uint256-uint256-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-UintToUintMap-uint256-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-UintToUintMap-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-UintToUintMap-uint256-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-UintToUintMap-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-UintToUintMap-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-UintToUintMap-uint256-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-UintToUintMap-uint256-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-UintToUintMap-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-UintToAddressMap-uint256-address-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-UintToAddressMap-uint256-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-UintToAddressMap-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-UintToAddressMap-uint256-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-UintToAddressMap-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-UintToAddressMap-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-UintToAddressMap-uint256-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-UintToAddressMap-uint256-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-UintToAddressMap-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-UintToBytes32Map-uint256-bytes32-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-UintToBytes32Map-uint256-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-UintToBytes32Map-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-UintToBytes32Map-uint256-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-UintToBytes32Map-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-UintToBytes32Map-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-UintToBytes32Map-uint256-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-UintToBytes32Map-uint256-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-UintToBytes32Map-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-AddressToUintMap-address-uint256-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-AddressToUintMap-address-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-AddressToUintMap-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-AddressToUintMap-address-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-AddressToUintMap-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-AddressToUintMap-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-AddressToUintMap-address-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-AddressToUintMap-address-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-AddressToUintMap-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-AddressToAddressMap-address-address-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-AddressToAddressMap-address-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-AddressToAddressMap-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-AddressToAddressMap-address-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-AddressToAddressMap-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-AddressToAddressMap-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-AddressToAddressMap-address-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-AddressToAddressMap-address-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-AddressToAddressMap-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-AddressToBytes32Map-address-bytes32-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-AddressToBytes32Map-address-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-AddressToBytes32Map-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-AddressToBytes32Map-address-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-AddressToBytes32Map-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-AddressToBytes32Map-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-AddressToBytes32Map-address-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-AddressToBytes32Map-address-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-AddressToBytes32Map-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-Bytes32ToUintMap-bytes32-uint256-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-Bytes32ToUintMap-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToUintMap-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-Bytes32ToUintMap-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-Bytes32ToUintMap-)
 
* [`set(map, key, value)`](#EnumerableMap-set-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-address-)
 
* [`remove(map, key)`](#EnumerableMap-remove-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)
 
* [`clear(map)`](#EnumerableMap-clear-struct-EnumerableMap-Bytes32ToAddressMap-)
 
* [`contains(map, key)`](#EnumerableMap-contains-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)
 
* [`length(map)`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-)
 
* [`at(map, index)`](#EnumerableMap-at-struct-EnumerableMap-Bytes32ToAddressMap-uint256-)
 
* [`tryGet(map, key)`](#EnumerableMap-tryGet-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)
 
* [`get(map, key)`](#EnumerableMap-get-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)
 
* [`keys(map)`](#EnumerableMap-keys-struct-EnumerableMap-Bytes32ToAddressMap-)
 
#### [](#EnumerableMap-set-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-bytes32-)`set(struct EnumerableMap.Bytes32ToBytes32Map map, bytes32 key, bytes32 value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)`remove(struct EnumerableMap.Bytes32ToBytes32Map map, bytes32 key) → bool` internal
Removes a key-value pair from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-Bytes32ToBytes32Map-)`clear(struct EnumerableMap.Bytes32ToBytes32Map map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)`contains(struct EnumerableMap.Bytes32ToBytes32Map map, bytes32 key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToBytes32Map-)`length(struct EnumerableMap.Bytes32ToBytes32Map map) → uint256` internal
Returns the number of key-value pairs in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-Bytes32ToBytes32Map-uint256-)`at(struct EnumerableMap.Bytes32ToBytes32Map map, uint256 index) → bytes32 key, bytes32 value` internal
Returns the key-value pair stored at position `index` in the map. O(1).
Note that there are no guarantees on the ordering of entries inside the array, and it may change when more entries are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)`tryGet(struct EnumerableMap.Bytes32ToBytes32Map map, bytes32 key) → bool exists, bytes32 value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-Bytes32ToBytes32Map-bytes32-)`get(struct EnumerableMap.Bytes32ToBytes32Map map, bytes32 key) → bytes32` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-Bytes32ToBytes32Map-)`keys(struct EnumerableMap.Bytes32ToBytes32Map map) → bytes32[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-UintToUintMap-uint256-uint256-)`set(struct EnumerableMap.UintToUintMap map, uint256 key, uint256 value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-UintToUintMap-uint256-)`remove(struct EnumerableMap.UintToUintMap map, uint256 key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-UintToUintMap-)`clear(struct EnumerableMap.UintToUintMap map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-UintToUintMap-uint256-)`contains(struct EnumerableMap.UintToUintMap map, uint256 key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-UintToUintMap-)`length(struct EnumerableMap.UintToUintMap map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-UintToUintMap-uint256-)`at(struct EnumerableMap.UintToUintMap map, uint256 index) → uint256 key, uint256 value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-UintToUintMap-uint256-)`tryGet(struct EnumerableMap.UintToUintMap map, uint256 key) → bool exists, uint256 value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-UintToUintMap-uint256-)`get(struct EnumerableMap.UintToUintMap map, uint256 key) → uint256` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-UintToUintMap-)`keys(struct EnumerableMap.UintToUintMap map) → uint256[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-UintToAddressMap-uint256-address-)`set(struct EnumerableMap.UintToAddressMap map, uint256 key, address value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-UintToAddressMap-uint256-)`remove(struct EnumerableMap.UintToAddressMap map, uint256 key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-UintToAddressMap-)`clear(struct EnumerableMap.UintToAddressMap map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-UintToAddressMap-uint256-)`contains(struct EnumerableMap.UintToAddressMap map, uint256 key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-UintToAddressMap-)`length(struct EnumerableMap.UintToAddressMap map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-UintToAddressMap-uint256-)`at(struct EnumerableMap.UintToAddressMap map, uint256 index) → uint256 key, address value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-UintToAddressMap-uint256-)`tryGet(struct EnumerableMap.UintToAddressMap map, uint256 key) → bool exists, address value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-UintToAddressMap-uint256-)`get(struct EnumerableMap.UintToAddressMap map, uint256 key) → address` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-UintToAddressMap-)`keys(struct EnumerableMap.UintToAddressMap map) → uint256[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-UintToBytes32Map-uint256-bytes32-)`set(struct EnumerableMap.UintToBytes32Map map, uint256 key, bytes32 value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-UintToBytes32Map-uint256-)`remove(struct EnumerableMap.UintToBytes32Map map, uint256 key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-UintToBytes32Map-)`clear(struct EnumerableMap.UintToBytes32Map map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-UintToBytes32Map-uint256-)`contains(struct EnumerableMap.UintToBytes32Map map, uint256 key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-UintToBytes32Map-)`length(struct EnumerableMap.UintToBytes32Map map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-UintToBytes32Map-uint256-)`at(struct EnumerableMap.UintToBytes32Map map, uint256 index) → uint256 key, bytes32 value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-UintToBytes32Map-uint256-)`tryGet(struct EnumerableMap.UintToBytes32Map map, uint256 key) → bool exists, bytes32 value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-UintToBytes32Map-uint256-)`get(struct EnumerableMap.UintToBytes32Map map, uint256 key) → bytes32` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-UintToBytes32Map-)`keys(struct EnumerableMap.UintToBytes32Map map) → uint256[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-AddressToUintMap-address-uint256-)`set(struct EnumerableMap.AddressToUintMap map, address key, uint256 value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-AddressToUintMap-address-)`remove(struct EnumerableMap.AddressToUintMap map, address key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-AddressToUintMap-)`clear(struct EnumerableMap.AddressToUintMap map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-AddressToUintMap-address-)`contains(struct EnumerableMap.AddressToUintMap map, address key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-AddressToUintMap-)`length(struct EnumerableMap.AddressToUintMap map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-AddressToUintMap-uint256-)`at(struct EnumerableMap.AddressToUintMap map, uint256 index) → address key, uint256 value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-AddressToUintMap-address-)`tryGet(struct EnumerableMap.AddressToUintMap map, address key) → bool exists, uint256 value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-AddressToUintMap-address-)`get(struct EnumerableMap.AddressToUintMap map, address key) → uint256` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-AddressToUintMap-)`keys(struct EnumerableMap.AddressToUintMap map) → address[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-AddressToAddressMap-address-address-)`set(struct EnumerableMap.AddressToAddressMap map, address key, address value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-AddressToAddressMap-address-)`remove(struct EnumerableMap.AddressToAddressMap map, address key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-AddressToAddressMap-)`clear(struct EnumerableMap.AddressToAddressMap map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-AddressToAddressMap-address-)`contains(struct EnumerableMap.AddressToAddressMap map, address key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-AddressToAddressMap-)`length(struct EnumerableMap.AddressToAddressMap map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-AddressToAddressMap-uint256-)`at(struct EnumerableMap.AddressToAddressMap map, uint256 index) → address key, address value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-AddressToAddressMap-address-)`tryGet(struct EnumerableMap.AddressToAddressMap map, address key) → bool exists, address value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-AddressToAddressMap-address-)`get(struct EnumerableMap.AddressToAddressMap map, address key) → address` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-AddressToAddressMap-)`keys(struct EnumerableMap.AddressToAddressMap map) → address[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-AddressToBytes32Map-address-bytes32-)`set(struct EnumerableMap.AddressToBytes32Map map, address key, bytes32 value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-AddressToBytes32Map-address-)`remove(struct EnumerableMap.AddressToBytes32Map map, address key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-AddressToBytes32Map-)`clear(struct EnumerableMap.AddressToBytes32Map map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-AddressToBytes32Map-address-)`contains(struct EnumerableMap.AddressToBytes32Map map, address key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-AddressToBytes32Map-)`length(struct EnumerableMap.AddressToBytes32Map map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-AddressToBytes32Map-uint256-)`at(struct EnumerableMap.AddressToBytes32Map map, uint256 index) → address key, bytes32 value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-AddressToBytes32Map-address-)`tryGet(struct EnumerableMap.AddressToBytes32Map map, address key) → bool exists, bytes32 value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-AddressToBytes32Map-address-)`get(struct EnumerableMap.AddressToBytes32Map map, address key) → bytes32` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-AddressToBytes32Map-)`keys(struct EnumerableMap.AddressToBytes32Map map) → address[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-Bytes32ToUintMap-bytes32-uint256-)`set(struct EnumerableMap.Bytes32ToUintMap map, bytes32 key, uint256 value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)`remove(struct EnumerableMap.Bytes32ToUintMap map, bytes32 key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-Bytes32ToUintMap-)`clear(struct EnumerableMap.Bytes32ToUintMap map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)`contains(struct EnumerableMap.Bytes32ToUintMap map, bytes32 key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToUintMap-)`length(struct EnumerableMap.Bytes32ToUintMap map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-Bytes32ToUintMap-uint256-)`at(struct EnumerableMap.Bytes32ToUintMap map, uint256 index) → bytes32 key, uint256 value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)`tryGet(struct EnumerableMap.Bytes32ToUintMap map, bytes32 key) → bool exists, uint256 value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-Bytes32ToUintMap-bytes32-)`get(struct EnumerableMap.Bytes32ToUintMap map, bytes32 key) → uint256` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-Bytes32ToUintMap-)`keys(struct EnumerableMap.Bytes32ToUintMap map) → bytes32[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-set-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-address-)`set(struct EnumerableMap.Bytes32ToAddressMap map, bytes32 key, address value) → bool` internal
Adds a key-value pair to a map, or updates the value for an existing key. O(1).
Returns true if the key was added to the map, that is if it was not already present.
#### [](#EnumerableMap-remove-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)`remove(struct EnumerableMap.Bytes32ToAddressMap map, bytes32 key) → bool` internal
Removes a value from a map. O(1).
Returns true if the key was removed from the map, that is if it was present.
#### [](#EnumerableMap-clear-struct-EnumerableMap-Bytes32ToAddressMap-)`clear(struct EnumerableMap.Bytes32ToAddressMap map)` internal
Removes all the entries from a map. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the map grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableMap-contains-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)`contains(struct EnumerableMap.Bytes32ToAddressMap map, bytes32 key) → bool` internal
Returns true if the key is in the map. O(1).
#### [](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-)`length(struct EnumerableMap.Bytes32ToAddressMap map) → uint256` internal
Returns the number of elements in the map. O(1).
#### [](#EnumerableMap-at-struct-EnumerableMap-Bytes32ToAddressMap-uint256-)`at(struct EnumerableMap.Bytes32ToAddressMap map, uint256 index) → bytes32 key, address value` internal
Returns the element stored at position `index` in the map. O(1). Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableMap-length-struct-EnumerableMap-Bytes32ToAddressMap-).
 
#### [](#EnumerableMap-tryGet-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)`tryGet(struct EnumerableMap.Bytes32ToAddressMap map, bytes32 key) → bool exists, address value` internal
Tries to returns the value associated with `key`. O(1). Does not revert if `key` is not in the map.
#### [](#EnumerableMap-get-struct-EnumerableMap-Bytes32ToAddressMap-bytes32-)`get(struct EnumerableMap.Bytes32ToAddressMap map, bytes32 key) → address` internal
Returns the value associated with `key`. O(1).
Requirements:
* `key` must be in the map.
 
#### [](#EnumerableMap-keys-struct-EnumerableMap-Bytes32ToAddressMap-)`keys(struct EnumerableMap.Bytes32ToAddressMap map) → bytes32[]` internal
Return the an array containing all the keys
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the map grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableMap-EnumerableMapNonexistentKey-bytes32-)`EnumerableMapNonexistentKey(bytes32 key)` error
Query for a nonexistent map key.
### [](#EnumerableSet)`EnumerableSet`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/EnumerableSet.sol)
 import "@openzeppelin/contracts/utils/structs/EnumerableSet.sol";
Library for managing [sets](https://en.wikipedia.org/wiki/Set_\(abstract_data_type\)) of primitive types.
Sets have the following properties:
* Elements are added, removed, and checked for existence in constant time (O(1)).
 
* Elements are enumerated in O(n). No guarantees are made on the ordering.
 
* Set can be cleared (all elements removed) in O(n).
 
 contract Example {
 // Add the library methods
 using EnumerableSet for EnumerableSet.AddressSet;
 
 // Declare a set state variable
 EnumerableSet.AddressSet private mySet;
 }
As of v3.3.0, sets of type `bytes32` (`Bytes32Set`), `address` (`AddressSet`) and `uint256` (`UintSet`) are supported.
Trying to delete such a structure from storage will likely result in data corruption, rendering the structure unusable. See [ethereum/solidity#11843](https://github.com/ethereum/solidity/pull/11843) for more info.
In order to clean an EnumerableSet, you can either remove all elements one by one or create a fresh instance using an array of EnumerableSet.
Functions
* [`add(set, value)`](#EnumerableSet-add-struct-EnumerableSet-Bytes32Set-bytes32-)
 
* [`remove(set, value)`](#EnumerableSet-remove-struct-EnumerableSet-Bytes32Set-bytes32-)
 
* [`clear(set)`](#EnumerableSet-clear-struct-EnumerableSet-Bytes32Set-)
 
* [`contains(set, value)`](#EnumerableSet-contains-struct-EnumerableSet-Bytes32Set-bytes32-)
 
* [`length(set)`](#EnumerableSet-length-struct-EnumerableSet-Bytes32Set-)
 
* [`at(set, index)`](#EnumerableSet-at-struct-EnumerableSet-Bytes32Set-uint256-)
 
* [`values(set)`](#EnumerableSet-values-struct-EnumerableSet-Bytes32Set-)
 
* [`add(set, value)`](#EnumerableSet-add-struct-EnumerableSet-AddressSet-address-)
 
* [`remove(set, value)`](#EnumerableSet-remove-struct-EnumerableSet-AddressSet-address-)
 
* [`clear(set)`](#EnumerableSet-clear-struct-EnumerableSet-AddressSet-)
 
* [`contains(set, value)`](#EnumerableSet-contains-struct-EnumerableSet-AddressSet-address-)
 
* [`length(set)`](#EnumerableSet-length-struct-EnumerableSet-AddressSet-)
 
* [`at(set, index)`](#EnumerableSet-at-struct-EnumerableSet-AddressSet-uint256-)
 
* [`values(set)`](#EnumerableSet-values-struct-EnumerableSet-AddressSet-)
 
* [`add(set, value)`](#EnumerableSet-add-struct-EnumerableSet-UintSet-uint256-)
 
* [`remove(set, value)`](#EnumerableSet-remove-struct-EnumerableSet-UintSet-uint256-)
 
* [`clear(set)`](#EnumerableSet-clear-struct-EnumerableSet-UintSet-)
 
* [`contains(set, value)`](#EnumerableSet-contains-struct-EnumerableSet-UintSet-uint256-)
 
* [`length(set)`](#EnumerableSet-length-struct-EnumerableSet-UintSet-)
 
* [`at(set, index)`](#EnumerableSet-at-struct-EnumerableSet-UintSet-uint256-)
 
* [`values(set)`](#EnumerableSet-values-struct-EnumerableSet-UintSet-)
 
#### [](#EnumerableSet-add-struct-EnumerableSet-Bytes32Set-bytes32-)`add(struct EnumerableSet.Bytes32Set set, bytes32 value) → bool` internal
Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not already present.
#### [](#EnumerableSet-remove-struct-EnumerableSet-Bytes32Set-bytes32-)`remove(struct EnumerableSet.Bytes32Set set, bytes32 value) → bool` internal
Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was present.
#### [](#EnumerableSet-clear-struct-EnumerableSet-Bytes32Set-)`clear(struct EnumerableSet.Bytes32Set set)` internal
Removes all the values from a set. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the set grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableSet-contains-struct-EnumerableSet-Bytes32Set-bytes32-)`contains(struct EnumerableSet.Bytes32Set set, bytes32 value) → bool` internal
Returns true if the value is in the set. O(1).
#### [](#EnumerableSet-length-struct-EnumerableSet-Bytes32Set-)`length(struct EnumerableSet.Bytes32Set set) → uint256` internal
Returns the number of values in the set. O(1).
#### [](#EnumerableSet-at-struct-EnumerableSet-Bytes32Set-uint256-)`at(struct EnumerableSet.Bytes32Set set, uint256 index) → bytes32` internal
Returns the value stored at position `index` in the set. O(1).
Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableSet-length-struct-EnumerableSet-UintSet-).
 
#### [](#EnumerableSet-values-struct-EnumerableSet-Bytes32Set-)`values(struct EnumerableSet.Bytes32Set set) → bytes32[]` internal
Return the entire set in an array
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableSet-add-struct-EnumerableSet-AddressSet-address-)`add(struct EnumerableSet.AddressSet set, address value) → bool` internal
Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not already present.
#### [](#EnumerableSet-remove-struct-EnumerableSet-AddressSet-address-)`remove(struct EnumerableSet.AddressSet set, address value) → bool` internal
Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was present.
#### [](#EnumerableSet-clear-struct-EnumerableSet-AddressSet-)`clear(struct EnumerableSet.AddressSet set)` internal
Removes all the values from a set. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the set grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableSet-contains-struct-EnumerableSet-AddressSet-address-)`contains(struct EnumerableSet.AddressSet set, address value) → bool` internal
Returns true if the value is in the set. O(1).
#### [](#EnumerableSet-length-struct-EnumerableSet-AddressSet-)`length(struct EnumerableSet.AddressSet set) → uint256` internal
Returns the number of values in the set. O(1).
#### [](#EnumerableSet-at-struct-EnumerableSet-AddressSet-uint256-)`at(struct EnumerableSet.AddressSet set, uint256 index) → address` internal
Returns the value stored at position `index` in the set. O(1).
Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableSet-length-struct-EnumerableSet-UintSet-).
 
#### [](#EnumerableSet-values-struct-EnumerableSet-AddressSet-)`values(struct EnumerableSet.AddressSet set) → address[]` internal
Return the entire set in an array
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#EnumerableSet-add-struct-EnumerableSet-UintSet-uint256-)`add(struct EnumerableSet.UintSet set, uint256 value) → bool` internal
Add a value to a set. O(1).
Returns true if the value was added to the set, that is if it was not already present.
#### [](#EnumerableSet-remove-struct-EnumerableSet-UintSet-uint256-)`remove(struct EnumerableSet.UintSet set, uint256 value) → bool` internal
Removes a value from a set. O(1).
Returns true if the value was removed from the set, that is if it was present.
#### [](#EnumerableSet-clear-struct-EnumerableSet-UintSet-)`clear(struct EnumerableSet.UintSet set)` internal
Removes all the values from a set. O(n).
Developers should keep in mind that this function has an unbounded cost and using it may render the function uncallable if the set grows to the point where clearing it consumes too much gas to fit in a block.
#### [](#EnumerableSet-contains-struct-EnumerableSet-UintSet-uint256-)`contains(struct EnumerableSet.UintSet set, uint256 value) → bool` internal
Returns true if the value is in the set. O(1).
#### [](#EnumerableSet-length-struct-EnumerableSet-UintSet-)`length(struct EnumerableSet.UintSet set) → uint256` internal
Returns the number of values in the set. O(1).
#### [](#EnumerableSet-at-struct-EnumerableSet-UintSet-uint256-)`at(struct EnumerableSet.UintSet set, uint256 index) → uint256` internal
Returns the value stored at position `index` in the set. O(1).
Note that there are no guarantees on the ordering of values inside the array, and it may change when more values are added or removed.
Requirements:
* `index` must be strictly less than [`length`](#EnumerableSet-length-struct-EnumerableSet-UintSet-).
 
#### [](#EnumerableSet-values-struct-EnumerableSet-UintSet-)`values(struct EnumerableSet.UintSet set) → uint256[]` internal
Return the entire set in an array
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.
### [](#DoubleEndedQueue)`DoubleEndedQueue`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/DoubleEndedQueue.sol)
 import "@openzeppelin/contracts/utils/structs/DoubleEndedQueue.sol";
A sequence of items with the ability to efficiently push and pop items (i.e. insert and remove) on both ends of the sequence (called front and back). Among other access patterns, it can be used to implement efficient LIFO and FIFO queues. Storage use is optimized, and all operations are O(1) constant time. This includes [`clear`](#DoubleEndedQueue-clear-struct-DoubleEndedQueue-Bytes32Deque-), given that the existing queue contents are left in storage.
The struct is called `Bytes32Deque`. Other types can be cast to and from `bytes32`. This data structure can only be used in storage, and not in memory.
 DoubleEndedQueue.Bytes32Deque queue;
Functions
* [`pushBack(deque, value)`](#DoubleEndedQueue-pushBack-struct-DoubleEndedQueue-Bytes32Deque-bytes32-)
 
* [`popBack(deque)`](#DoubleEndedQueue-popBack-struct-DoubleEndedQueue-Bytes32Deque-)
 
* [`pushFront(deque, value)`](#DoubleEndedQueue-pushFront-struct-DoubleEndedQueue-Bytes32Deque-bytes32-)
 
* [`popFront(deque)`](#DoubleEndedQueue-popFront-struct-DoubleEndedQueue-Bytes32Deque-)
 
* [`front(deque)`](#DoubleEndedQueue-front-struct-DoubleEndedQueue-Bytes32Deque-)
 
* [`back(deque)`](#DoubleEndedQueue-back-struct-DoubleEndedQueue-Bytes32Deque-)
 
* [`at(deque, index)`](#DoubleEndedQueue-at-struct-DoubleEndedQueue-Bytes32Deque-uint256-)
 
* [`clear(deque)`](#DoubleEndedQueue-clear-struct-DoubleEndedQueue-Bytes32Deque-)
 
* [`length(deque)`](#DoubleEndedQueue-length-struct-DoubleEndedQueue-Bytes32Deque-)
 
* [`empty(deque)`](#DoubleEndedQueue-empty-struct-DoubleEndedQueue-Bytes32Deque-)
 
#### [](#DoubleEndedQueue-pushBack-struct-DoubleEndedQueue-Bytes32Deque-bytes32-)`pushBack(struct DoubleEndedQueue.Bytes32Deque deque, bytes32 value)` internal
Inserts an item at the end of the queue.
Reverts with [`Panic.RESOURCE_ERROR`](#Panic-RESOURCE_ERROR-uint256) if the queue is full.
#### [](#DoubleEndedQueue-popBack-struct-DoubleEndedQueue-Bytes32Deque-)`popBack(struct DoubleEndedQueue.Bytes32Deque deque) → bytes32 value` internal
Removes the item at the end of the queue and returns it.
Reverts with [`Panic.EMPTY_ARRAY_POP`](#Panic-EMPTY_ARRAY_POP-uint256) if the queue is empty.
#### [](#DoubleEndedQueue-pushFront-struct-DoubleEndedQueue-Bytes32Deque-bytes32-)`pushFront(struct DoubleEndedQueue.Bytes32Deque deque, bytes32 value)` internal
Inserts an item at the beginning of the queue.
Reverts with [`Panic.RESOURCE_ERROR`](#Panic-RESOURCE_ERROR-uint256) if the queue is full.
#### [](#DoubleEndedQueue-popFront-struct-DoubleEndedQueue-Bytes32Deque-)`popFront(struct DoubleEndedQueue.Bytes32Deque deque) → bytes32 value` internal
Removes the item at the beginning of the queue and returns it.
Reverts with [`Panic.EMPTY_ARRAY_POP`](#Panic-EMPTY_ARRAY_POP-uint256) if the queue is empty.
#### [](#DoubleEndedQueue-front-struct-DoubleEndedQueue-Bytes32Deque-)`front(struct DoubleEndedQueue.Bytes32Deque deque) → bytes32 value` internal
Returns the item at the beginning of the queue.
Reverts with [`Panic.ARRAY_OUT_OF_BOUNDS`](#Panic-ARRAY_OUT_OF_BOUNDS-uint256) if the queue is empty.
#### [](#DoubleEndedQueue-back-struct-DoubleEndedQueue-Bytes32Deque-)`back(struct DoubleEndedQueue.Bytes32Deque deque) → bytes32 value` internal
Returns the item at the end of the queue.
Reverts with [`Panic.ARRAY_OUT_OF_BOUNDS`](#Panic-ARRAY_OUT_OF_BOUNDS-uint256) if the queue is empty.
#### [](#DoubleEndedQueue-at-struct-DoubleEndedQueue-Bytes32Deque-uint256-)`at(struct DoubleEndedQueue.Bytes32Deque deque, uint256 index) → bytes32 value` internal
Return the item at a position in the queue given by `index`, with the first item at 0 and last item at `length(deque) - 1`.
Reverts with [`Panic.ARRAY_OUT_OF_BOUNDS`](#Panic-ARRAY_OUT_OF_BOUNDS-uint256) if the index is out of bounds.
#### [](#DoubleEndedQueue-clear-struct-DoubleEndedQueue-Bytes32Deque-)`clear(struct DoubleEndedQueue.Bytes32Deque deque)` internal
Resets the queue back to being empty.
The current items are left behind in storage. This does not affect the functioning of the queue, but misses out on potential gas refunds.
#### [](#DoubleEndedQueue-length-struct-DoubleEndedQueue-Bytes32Deque-)`length(struct DoubleEndedQueue.Bytes32Deque deque) → uint256` internal
Returns the number of items in the queue.
#### [](#DoubleEndedQueue-empty-struct-DoubleEndedQueue-Bytes32Deque-)`empty(struct DoubleEndedQueue.Bytes32Deque deque) → bool` internal
Returns true if the queue is empty.
### [](#CircularBuffer)`CircularBuffer`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/CircularBuffer.sol)
 import "@openzeppelin/contracts/utils/structs/CircularBuffer.sol";
A fixed-size buffer for keeping `bytes32` items in storage.
This data structure allows for pushing elements to it, and when its length exceeds the specified fixed size, new items take the place of the oldest element in the buffer, keeping at most `N` elements in the structure.
Elements can’t be removed but the data structure can be cleared. See [`clear`](#CircularBuffer-clear-struct-CircularBuffer-Bytes32CircularBuffer-).
Complexity: - insertion ([`push`](#CircularBuffer-push-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-)): O(1) - lookup ([`last`](#CircularBuffer-last-struct-CircularBuffer-Bytes32CircularBuffer-uint256-)): O(1) - inclusion ([`includes`](#CircularBuffer-includes-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-)): O(N) (worst case) - reset ([`clear`](#CircularBuffer-clear-struct-CircularBuffer-Bytes32CircularBuffer-)): O(1)
* The struct is called `Bytes32CircularBuffer`. Other types can be cast to and from `bytes32`. This data structure can only be used in storage, and not in memory.
 
Example usage:
 contract Example {
 // Add the library methods
 using CircularBuffer for CircularBuffer.Bytes32CircularBuffer;
 
 // Declare a buffer storage variable
 CircularBuffer.Bytes32CircularBuffer private myBuffer;
 }
_Available since v5.1._
Functions
* [`setup(self, size)`](#CircularBuffer-setup-struct-CircularBuffer-Bytes32CircularBuffer-uint256-)
 
* [`clear(self)`](#CircularBuffer-clear-struct-CircularBuffer-Bytes32CircularBuffer-)
 
* [`push(self, value)`](#CircularBuffer-push-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-)
 
* [`count(self)`](#CircularBuffer-count-struct-CircularBuffer-Bytes32CircularBuffer-)
 
* [`length(self)`](#CircularBuffer-length-struct-CircularBuffer-Bytes32CircularBuffer-)
 
* [`last(self, i)`](#CircularBuffer-last-struct-CircularBuffer-Bytes32CircularBuffer-uint256-)
 
* [`includes(self, value)`](#CircularBuffer-includes-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-)
 
#### [](#CircularBuffer-setup-struct-CircularBuffer-Bytes32CircularBuffer-uint256-)`setup(struct CircularBuffer.Bytes32CircularBuffer self, uint256 size)` internal
Initialize a new CircularBuffer of a given size.
If the CircularBuffer was already setup and used, calling that function again will reset it to a blank state.
The size of the buffer will affect the execution of [`includes`](#CircularBuffer-includes-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-) function, as it has a complexity of O(N). Consider a large buffer size may render the function unusable.
#### [](#CircularBuffer-clear-struct-CircularBuffer-Bytes32CircularBuffer-)`clear(struct CircularBuffer.Bytes32CircularBuffer self)` internal
Clear all data in the buffer without resetting memory, keeping the existing size.
#### [](#CircularBuffer-push-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-)`push(struct CircularBuffer.Bytes32CircularBuffer self, bytes32 value)` internal
Push a new value to the buffer. If the buffer is already full, the new value replaces the oldest value in the buffer.
#### [](#CircularBuffer-count-struct-CircularBuffer-Bytes32CircularBuffer-)`count(struct CircularBuffer.Bytes32CircularBuffer self) → uint256` internal
Number of values currently in the buffer. This value is 0 for an empty buffer, and cannot exceed the size of the buffer.
#### [](#CircularBuffer-length-struct-CircularBuffer-Bytes32CircularBuffer-)`length(struct CircularBuffer.Bytes32CircularBuffer self) → uint256` internal
Length of the buffer. This is the maximum number of elements kept in the buffer.
#### [](#CircularBuffer-last-struct-CircularBuffer-Bytes32CircularBuffer-uint256-)`last(struct CircularBuffer.Bytes32CircularBuffer self, uint256 i) → bytes32` internal
Getter for the i-th value in the buffer, from the end.
Reverts with [`Panic.ARRAY_OUT_OF_BOUNDS`](#Panic-ARRAY_OUT_OF_BOUNDS-uint256) if trying to access an element that was not pushed, or that was dropped to make room for newer elements.
#### [](#CircularBuffer-includes-struct-CircularBuffer-Bytes32CircularBuffer-bytes32-)`includes(struct CircularBuffer.Bytes32CircularBuffer self, bytes32 value) → bool` internal
Check if a given value is in the buffer.
#### [](#CircularBuffer-InvalidBufferSize--)`InvalidBufferSize()` error
Error emitted when trying to setup a buffer with a size of 0.
### [](#Checkpoints)`Checkpoints`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/Checkpoints.sol)
 import "@openzeppelin/contracts/utils/structs/Checkpoints.sol";
This library defines the `Trace*` struct, for checkpointing values as they change at different points in time, and later looking up past values by block number. See [`Votes`](https://docs.openzeppelin.com/contracts/5.x/api/governance#Votes) as an example.
To create a history of checkpoints define a variable type `Checkpoints.Trace*` in your contract, and store a new checkpoint for the current transaction block using the [`push`](#Checkpoints-push-struct-Checkpoints-Trace160-uint96-uint160-) function.
Functions
* [`push(self, key, value)`](#Checkpoints-push-struct-Checkpoints-Trace224-uint32-uint224-)
 
* [`lowerLookup(self, key)`](#Checkpoints-lowerLookup-struct-Checkpoints-Trace224-uint32-)
 
* [`upperLookup(self, key)`](#Checkpoints-upperLookup-struct-Checkpoints-Trace224-uint32-)
 
* [`upperLookupRecent(self, key)`](#Checkpoints-upperLookupRecent-struct-Checkpoints-Trace224-uint32-)
 
* [`latest(self)`](#Checkpoints-latest-struct-Checkpoints-Trace224-)
 
* [`latestCheckpoint(self)`](#Checkpoints-latestCheckpoint-struct-Checkpoints-Trace224-)
 
* [`length(self)`](#Checkpoints-length-struct-Checkpoints-Trace224-)
 
* [`at(self, pos)`](#Checkpoints-at-struct-Checkpoints-Trace224-uint32-)
 
* [`push(self, key, value)`](#Checkpoints-push-struct-Checkpoints-Trace208-uint48-uint208-)
 
* [`lowerLookup(self, key)`](#Checkpoints-lowerLookup-struct-Checkpoints-Trace208-uint48-)
 
* [`upperLookup(self, key)`](#Checkpoints-upperLookup-struct-Checkpoints-Trace208-uint48-)
 
* [`upperLookupRecent(self, key)`](#Checkpoints-upperLookupRecent-struct-Checkpoints-Trace208-uint48-)
 
* [`latest(self)`](#Checkpoints-latest-struct-Checkpoints-Trace208-)
 
* [`latestCheckpoint(self)`](#Checkpoints-latestCheckpoint-struct-Checkpoints-Trace208-)
 
* [`length(self)`](#Checkpoints-length-struct-Checkpoints-Trace208-)
 
* [`at(self, pos)`](#Checkpoints-at-struct-Checkpoints-Trace208-uint32-)
 
* [`push(self, key, value)`](#Checkpoints-push-struct-Checkpoints-Trace160-uint96-uint160-)
 
* [`lowerLookup(self, key)`](#Checkpoints-lowerLookup-struct-Checkpoints-Trace160-uint96-)
 
* [`upperLookup(self, key)`](#Checkpoints-upperLookup-struct-Checkpoints-Trace160-uint96-)
 
* [`upperLookupRecent(self, key)`](#Checkpoints-upperLookupRecent-struct-Checkpoints-Trace160-uint96-)
 
* [`latest(self)`](#Checkpoints-latest-struct-Checkpoints-Trace160-)
 
* [`latestCheckpoint(self)`](#Checkpoints-latestCheckpoint-struct-Checkpoints-Trace160-)
 
* [`length(self)`](#Checkpoints-length-struct-Checkpoints-Trace160-)
 
* [`at(self, pos)`](#Checkpoints-at-struct-Checkpoints-Trace160-uint32-)
 
#### [](#Checkpoints-push-struct-Checkpoints-Trace224-uint32-uint224-)`push(struct Checkpoints.Trace224 self, uint32 key, uint224 value) → uint224 oldValue, uint224 newValue` internal
Pushes a (`key`, `value`) pair into a Trace224 so that it is stored as the checkpoint.
Returns previous value and new value.
Never accept `key` as a user input, since an arbitrary `type(uint32).max` key set will disable the library.
#### [](#Checkpoints-lowerLookup-struct-Checkpoints-Trace224-uint32-)`lowerLookup(struct Checkpoints.Trace224 self, uint32 key) → uint224` internal
Returns the value in the first (oldest) checkpoint with key greater or equal than the search key, or zero if there is none.
#### [](#Checkpoints-upperLookup-struct-Checkpoints-Trace224-uint32-)`upperLookup(struct Checkpoints.Trace224 self, uint32 key) → uint224` internal
Returns the value in the last (most recent) checkpoint with key lower or equal than the search key, or zero if there is none.
#### [](#Checkpoints-upperLookupRecent-struct-Checkpoints-Trace224-uint32-)`upperLookupRecent(struct Checkpoints.Trace224 self, uint32 key) → uint224` internal
Returns the value in the last (most recent) checkpoint with key lower or equal than the search key, or zero if there is none.
This is a variant of [`upperLookup`](#Checkpoints-upperLookup-struct-Checkpoints-Trace160-uint96-) that is optimised to find "recent" checkpoint (checkpoints with high keys).
#### [](#Checkpoints-latest-struct-Checkpoints-Trace224-)`latest(struct Checkpoints.Trace224 self) → uint224` internal
Returns the value in the most recent checkpoint, or zero if there are no checkpoints.
#### [](#Checkpoints-latestCheckpoint-struct-Checkpoints-Trace224-)`latestCheckpoint(struct Checkpoints.Trace224 self) → bool exists, uint32 _key, uint224 _value` internal
Returns whether there is a checkpoint in the structure (i.e. it is not empty), and if so the key and value in the most recent checkpoint.
#### [](#Checkpoints-length-struct-Checkpoints-Trace224-)`length(struct Checkpoints.Trace224 self) → uint256` internal
Returns the number of checkpoints.
#### [](#Checkpoints-at-struct-Checkpoints-Trace224-uint32-)`at(struct Checkpoints.Trace224 self, uint32 pos) → struct Checkpoints.Checkpoint224` internal
Returns checkpoint at given position.
#### [](#Checkpoints-push-struct-Checkpoints-Trace208-uint48-uint208-)`push(struct Checkpoints.Trace208 self, uint48 key, uint208 value) → uint208 oldValue, uint208 newValue` internal
Pushes a (`key`, `value`) pair into a Trace208 so that it is stored as the checkpoint.
Returns previous value and new value.
Never accept `key` as a user input, since an arbitrary `type(uint48).max` key set will disable the library.
#### [](#Checkpoints-lowerLookup-struct-Checkpoints-Trace208-uint48-)`lowerLookup(struct Checkpoints.Trace208 self, uint48 key) → uint208` internal
Returns the value in the first (oldest) checkpoint with key greater or equal than the search key, or zero if there is none.
#### [](#Checkpoints-upperLookup-struct-Checkpoints-Trace208-uint48-)`upperLookup(struct Checkpoints.Trace208 self, uint48 key) → uint208` internal
Returns the value in the last (most recent) checkpoint with key lower or equal than the search key, or zero if there is none.
#### [](#Checkpoints-upperLookupRecent-struct-Checkpoints-Trace208-uint48-)`upperLookupRecent(struct Checkpoints.Trace208 self, uint48 key) → uint208` internal
Returns the value in the last (most recent) checkpoint with key lower or equal than the search key, or zero if there is none.
This is a variant of [`upperLookup`](#Checkpoints-upperLookup-struct-Checkpoints-Trace160-uint96-) that is optimised to find "recent" checkpoint (checkpoints with high keys).
#### [](#Checkpoints-latest-struct-Checkpoints-Trace208-)`latest(struct Checkpoints.Trace208 self) → uint208` internal
Returns the value in the most recent checkpoint, or zero if there are no checkpoints.
#### [](#Checkpoints-latestCheckpoint-struct-Checkpoints-Trace208-)`latestCheckpoint(struct Checkpoints.Trace208 self) → bool exists, uint48 _key, uint208 _value` internal
Returns whether there is a checkpoint in the structure (i.e. it is not empty), and if so the key and value in the most recent checkpoint.
#### [](#Checkpoints-length-struct-Checkpoints-Trace208-)`length(struct Checkpoints.Trace208 self) → uint256` internal
Returns the number of checkpoints.
#### [](#Checkpoints-at-struct-Checkpoints-Trace208-uint32-)`at(struct Checkpoints.Trace208 self, uint32 pos) → struct Checkpoints.Checkpoint208` internal
Returns checkpoint at given position.
#### [](#Checkpoints-push-struct-Checkpoints-Trace160-uint96-uint160-)`push(struct Checkpoints.Trace160 self, uint96 key, uint160 value) → uint160 oldValue, uint160 newValue` internal
Pushes a (`key`, `value`) pair into a Trace160 so that it is stored as the checkpoint.
Returns previous value and new value.
Never accept `key` as a user input, since an arbitrary `type(uint96).max` key set will disable the library.
#### [](#Checkpoints-lowerLookup-struct-Checkpoints-Trace160-uint96-)`lowerLookup(struct Checkpoints.Trace160 self, uint96 key) → uint160` internal
Returns the value in the first (oldest) checkpoint with key greater or equal than the search key, or zero if there is none.
#### [](#Checkpoints-upperLookup-struct-Checkpoints-Trace160-uint96-)`upperLookup(struct Checkpoints.Trace160 self, uint96 key) → uint160` internal
Returns the value in the last (most recent) checkpoint with key lower or equal than the search key, or zero if there is none.
#### [](#Checkpoints-upperLookupRecent-struct-Checkpoints-Trace160-uint96-)`upperLookupRecent(struct Checkpoints.Trace160 self, uint96 key) → uint160` internal
Returns the value in the last (most recent) checkpoint with key lower or equal than the search key, or zero if there is none.
This is a variant of [`upperLookup`](#Checkpoints-upperLookup-struct-Checkpoints-Trace160-uint96-) that is optimised to find "recent" checkpoint (checkpoints with high keys).
#### [](#Checkpoints-latest-struct-Checkpoints-Trace160-)`latest(struct Checkpoints.Trace160 self) → uint160` internal
Returns the value in the most recent checkpoint, or zero if there are no checkpoints.
#### [](#Checkpoints-latestCheckpoint-struct-Checkpoints-Trace160-)`latestCheckpoint(struct Checkpoints.Trace160 self) → bool exists, uint96 _key, uint160 _value` internal
Returns whether there is a checkpoint in the structure (i.e. it is not empty), and if so the key and value in the most recent checkpoint.
#### [](#Checkpoints-length-struct-Checkpoints-Trace160-)`length(struct Checkpoints.Trace160 self) → uint256` internal
Returns the number of checkpoints.
#### [](#Checkpoints-at-struct-Checkpoints-Trace160-uint32-)`at(struct Checkpoints.Trace160 self, uint32 pos) → struct Checkpoints.Checkpoint160` internal
Returns checkpoint at given position.
#### [](#Checkpoints-CheckpointUnorderedInsertion--)`CheckpointUnorderedInsertion()` error
A value was attempted to be inserted on a past checkpoint.
### [](#Heap)`Heap`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/Heap.sol)
 import "@openzeppelin/contracts/utils/structs/Heap.sol";
Heaps are represented as a tree of values where the first element (index 0) is the root, and where the node at index i is the child of the node at index (i-1)/2 and the parent of nodes at index 2\*i+1 and 2\*i+2. Each node stores an element of the heap.
The structure is ordered so that each node is bigger than its parent. An immediate consequence is that the highest priority value is the one at the root. This value can be looked up in constant time (O(1)) at `heap.tree[0]`
The structure is designed to perform the following operations with the corresponding complexities:
* peek (get the highest priority value): O(1)
 
* insert (insert a value): O(log(n))
 
* pop (remove the highest priority value): O(log(n))
 
* replace (replace the highest priority value with a new value): O(log(n))
 
* length (get the number of elements): O(1)
 
* clear (remove all elements): O(1)
 
This library allows for the use of custom comparator functions. Given that manipulating memory can lead to unexpected behavior. Consider verifying that the comparator does not manipulate the Heap’s state directly and that it follows the Solidity memory safety rules.
_Available since v5.1._
Functions
* [`peek(self)`](#Heap-peek-struct-Heap-Uint256Heap-)
 
* [`pop(self)`](#Heap-pop-struct-Heap-Uint256Heap-)
 
* [`pop(self, comp)`](#Heap-pop-struct-Heap-Uint256Heap-function—​uint256-uint256—​view-returns—​bool--)
 
* [`insert(self, value)`](#Heap-insert-struct-Heap-Uint256Heap-uint256-)
 
* [`insert(self, value, comp)`](#Heap-insert-struct-Heap-Uint256Heap-uint256-function—​uint256-uint256—​view-returns—​bool--)
 
* [`replace(self, newValue)`](#Heap-replace-struct-Heap-Uint256Heap-uint256-)
 
* [`replace(self, newValue, comp)`](#Heap-replace-struct-Heap-Uint256Heap-uint256-function—​uint256-uint256—​view-returns—​bool--)
 
* [`length(self)`](#Heap-length-struct-Heap-Uint256Heap-)
 
* [`clear(self)`](#Heap-clear-struct-Heap-Uint256Heap-)
 
#### [](#Heap-peek-struct-Heap-Uint256Heap-)`peek(struct Heap.Uint256Heap self) → uint256` internal
Lookup the root element of the heap.
#### [](#Heap-pop-struct-Heap-Uint256Heap-)`pop(struct Heap.Uint256Heap self) → uint256` internal
Remove (and return) the root element for the heap using the default comparator.
All inserting and removal from a heap should always be done using the same comparator. Mixing comparator during the lifecycle of a heap will result in undefined behavior.
#### [](#Heap-pop-struct-Heap-Uint256Heap-function--uint256-uint256--view-returns--bool--)`pop(struct Heap.Uint256Heap self, function (uint256,uint256) view returns (bool) comp) → uint256` internal
Remove (and return) the root element for the heap using the provided comparator.
All inserting and removal from a heap should always be done using the same comparator. Mixing comparator during the lifecycle of a heap will result in undefined behavior.
#### [](#Heap-insert-struct-Heap-Uint256Heap-uint256-)`insert(struct Heap.Uint256Heap self, uint256 value)` internal
Insert a new element in the heap using the default comparator.
All inserting and removal from a heap should always be done using the same comparator. Mixing comparator during the lifecycle of a heap will result in undefined behavior.
#### [](#Heap-insert-struct-Heap-Uint256Heap-uint256-function--uint256-uint256--view-returns--bool--)`insert(struct Heap.Uint256Heap self, uint256 value, function (uint256,uint256) view returns (bool) comp)` internal
Insert a new element in the heap using the provided comparator.
All inserting and removal from a heap should always be done using the same comparator. Mixing comparator during the lifecycle of a heap will result in undefined behavior.
#### [](#Heap-replace-struct-Heap-Uint256Heap-uint256-)`replace(struct Heap.Uint256Heap self, uint256 newValue) → uint256` internal
Return the root element for the heap, and replace it with a new value, using the default comparator. This is equivalent to using [`pop`](#Heap-pop-struct-Heap-Uint256Heap-function—​uint256-uint256—​view-returns—​bool--) and [`insert`](#Heap-insert-struct-Heap-Uint256Heap-uint256-function—​uint256-uint256—​view-returns—​bool--), but requires only one rebalancing operation.
All inserting and removal from a heap should always be done using the same comparator. Mixing comparator during the lifecycle of a heap will result in undefined behavior.
#### [](#Heap-replace-struct-Heap-Uint256Heap-uint256-function--uint256-uint256--view-returns--bool--)`replace(struct Heap.Uint256Heap self, uint256 newValue, function (uint256,uint256) view returns (bool) comp) → uint256` internal
Return the root element for the heap, and replace it with a new value, using the provided comparator. This is equivalent to using [`pop`](#Heap-pop-struct-Heap-Uint256Heap-function—​uint256-uint256—​view-returns—​bool--) and [`insert`](#Heap-insert-struct-Heap-Uint256Heap-uint256-function—​uint256-uint256—​view-returns—​bool--), but requires only one rebalancing operation.
All inserting and removal from a heap should always be done using the same comparator. Mixing comparator during the lifecycle of a heap will result in undefined behavior.
#### [](#Heap-length-struct-Heap-Uint256Heap-)`length(struct Heap.Uint256Heap self) → uint256` internal
Returns the number of elements in the heap.
#### [](#Heap-clear-struct-Heap-Uint256Heap-)`clear(struct Heap.Uint256Heap self)` internal
Removes all elements in the heap.
### [](#MerkleTree)`MerkleTree`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/structs/MerkleTree.sol)
 import "@openzeppelin/contracts/utils/structs/MerkleTree.sol";
Library for managing [Merkle Tree](https://wikipedia.org/wiki/Merkle_Tree) data structures.
Each tree is a complete binary tree with the ability to sequentially insert leaves, changing them from a zero to a non-zero value and updating its root. This structure allows inserting commitments (or other entries) that are not stored, but can be proven to be part of the tree at a later time if the root is kept. See [`MerkleProof`](#MerkleProof).
A tree is defined by the following parameters:
* Depth: The number of levels in the tree, it also defines the maximum number of leaves as 2\*\*depth.
 
* Zero value: The value that represents an empty leaf. Used to avoid regular zero values to be part of the tree.
 
* Hashing function: A cryptographic hash function used to produce internal nodes. Defaults to [`Hashes.commutativeKeccak256`](#Hashes-commutativeKeccak256-bytes32-bytes32-).
 
Building trees using non-commutative hashing functions (i.e. `H(a, b) != H(b, a)`) is supported. However, proving the inclusion of a leaf in such trees is not possible with the [`MerkleProof`](#MerkleProof) library since it only supports _commutative_ hashing functions.
_Available since v5.1._
Functions
* [`setup(self, treeDepth, zero)`](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-)
 
* [`setup(self, treeDepth, zero, fnHash)`](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`push(self, leaf)`](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-)
 
* [`push(self, leaf, fnHash)`](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`update(self, index, oldValue, newValue, proof)`](#MerkleTree-update-struct-MerkleTree-Bytes32PushTree-uint256-bytes32-bytes32-bytes32---)
 
* [`update(self, index, oldValue, newValue, proof, fnHash)`](#MerkleTree-update-struct-MerkleTree-Bytes32PushTree-uint256-bytes32-bytes32-bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--)
 
* [`depth(self)`](#MerkleTree-depth-struct-MerkleTree-Bytes32PushTree-)
 
Errors
* [`MerkleTreeUpdateInvalidIndex(index, length)`](#MerkleTree-MerkleTreeUpdateInvalidIndex-uint256-uint256-)
 
* [`MerkleTreeUpdateInvalidProof()`](#MerkleTree-MerkleTreeUpdateInvalidProof--)
 
#### [](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-)`setup(struct MerkleTree.Bytes32PushTree self, uint8 treeDepth, bytes32 zero) → bytes32 initialRoot` internal
Initialize a [`Bytes32PushTree`](#MerkleTree-Bytes32PushTree) using [`Hashes.commutativeKeccak256`](#Hashes-commutativeKeccak256-bytes32-bytes32-) to hash internal nodes. The capacity of the tree (i.e. number of leaves) is set to `2**treeDepth`.
Calling this function on MerkleTree that was already setup and used will reset it to a blank state.
Once a tree is setup, any push to it must use the same hashing function. This means that values should be pushed to it using the default [push](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-) function.
The zero value should be carefully chosen since it will be stored in the tree representing empty leaves. It should be a value that is not expected to be part of the tree.
#### [](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-function--bytes32-bytes32--view-returns--bytes32--)`setup(struct MerkleTree.Bytes32PushTree self, uint8 treeDepth, bytes32 zero, function (bytes32,bytes32) view returns (bytes32) fnHash) → bytes32 initialRoot` internal
Same as [setup](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-), but allows to specify a custom hashing function.
Once a tree is setup, any push to it must use the same hashing function. This means that values should be pushed to it using the custom push function, which should be the same one as used during the setup.
Providing a custom hashing function is a security-sensitive operation since it may compromise the soundness of the tree.
Consider verifying that the hashing function does not manipulate the memory state directly and that it follows the Solidity memory safety rules. Otherwise, it may lead to unexpected behavior.
#### [](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-)`push(struct MerkleTree.Bytes32PushTree self, bytes32 leaf) → uint256 index, bytes32 newRoot` internal
Insert a new leaf in the tree, and compute the new root. Returns the position of the inserted leaf in the tree, and the resulting root.
Hashing the leaf before calling this function is recommended as a protection against second pre-image attacks.
This variant uses [`Hashes.commutativeKeccak256`](#Hashes-commutativeKeccak256-bytes32-bytes32-) to hash internal nodes. It should only be used on merkle trees that were setup using the same (default) hashing function (i.e. by calling [the default setup](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-) function).
#### [](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-function--bytes32-bytes32--view-returns--bytes32--)`push(struct MerkleTree.Bytes32PushTree self, bytes32 leaf, function (bytes32,bytes32) view returns (bytes32) fnHash) → uint256 index, bytes32 newRoot` internal
Insert a new leaf in the tree, and compute the new root. Returns the position of the inserted leaf in the tree, and the resulting root.
Hashing the leaf before calling this function is recommended as a protection against second pre-image attacks.
This variant uses a custom hashing function to hash internal nodes. It should only be called with the same function as the one used during the initial setup of the merkle tree.
#### [](#MerkleTree-update-struct-MerkleTree-Bytes32PushTree-uint256-bytes32-bytes32-bytes32---)`update(struct MerkleTree.Bytes32PushTree self, uint256 index, bytes32 oldValue, bytes32 newValue, bytes32[] proof) → bytes32 oldRoot, bytes32 newRoot` internal
Change the value of the leaf at position `index` from `oldValue` to `newValue`. Returns the recomputed "old" root (before the update) and "new" root (after the update). The caller must verify that the reconstructed old root is the last known one.
The `proof` must be an up-to-date inclusion proof for the leaf being updated. This means that this function is vulnerable to front-running. Any [`push`](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--) or [`update`](#MerkleTree-update-struct-MerkleTree-Bytes32PushTree-uint256-bytes32-bytes32-bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--) operation (that changes the root of the tree) would render all "in flight" updates invalid.
This variant uses [`Hashes.commutativeKeccak256`](#Hashes-commutativeKeccak256-bytes32-bytes32-) to hash internal nodes. It should only be used on merkle trees that were setup using the same (default) hashing function (i.e. by calling [the default setup](#MerkleTree-setup-struct-MerkleTree-Bytes32PushTree-uint8-bytes32-) function).
#### [](#MerkleTree-update-struct-MerkleTree-Bytes32PushTree-uint256-bytes32-bytes32-bytes32---function--bytes32-bytes32--view-returns--bytes32--)`update(struct MerkleTree.Bytes32PushTree self, uint256 index, bytes32 oldValue, bytes32 newValue, bytes32[] proof, function (bytes32,bytes32) view returns (bytes32) fnHash) → bytes32 oldRoot, bytes32 newRoot` internal
Change the value of the leaf at position `index` from `oldValue` to `newValue`. Returns the recomputed "old" root (before the update) and "new" root (after the update). The caller must verify that the reconstructed old root is the last known one.
The `proof` must be an up-to-date inclusion proof for the leaf being update. This means that this function is vulnerable to front-running. Any [`push`](#MerkleTree-push-struct-MerkleTree-Bytes32PushTree-bytes32-function—​bytes32-bytes32—​view-returns—​bytes32--) or [`update`](#MerkleTree-update-struct-MerkleTree-Bytes32PushTree-uint256-bytes32-bytes32-bytes32---function—​bytes32-bytes32—​view-returns—​bytes32--) operation (that changes the root of the tree) would render all "in flight" updates invalid.
This variant uses a custom hashing function to hash internal nodes. It should only be called with the same function as the one used during the initial setup of the merkle tree.
#### [](#MerkleTree-depth-struct-MerkleTree-Bytes32PushTree-)`depth(struct MerkleTree.Bytes32PushTree self) → uint256` internal
Tree’s depth (set at initialization)
#### [](#MerkleTree-MerkleTreeUpdateInvalidIndex-uint256-uint256-)`MerkleTreeUpdateInvalidIndex(uint256 index, uint256 length)` error
Error emitted when trying to update a leaf that was not previously pushed.
#### [](#MerkleTree-MerkleTreeUpdateInvalidProof--)`MerkleTreeUpdateInvalidProof()` error
Error emitted when the proof used during an update is invalid (could not reproduce the side).
## [](#libraries)Libraries
### [](#Create2)`Create2`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Create2.sol)
 import "@openzeppelin/contracts/utils/Create2.sol";
Helper to make usage of the `CREATE2` EVM opcode easier and safer. `CREATE2` can be used to compute in advance the address where a smart contract will be deployed, which allows for interesting new mechanisms known as 'counterfactual interactions'.
See the [EIP](https://eips.ethereum.org/EIPS/eip-1014#motivation) for more information.
Functions
* [`deploy(amount, salt, bytecode)`](#Create2-deploy-uint256-bytes32-bytes-)
 
* [`computeAddress(salt, bytecodeHash)`](#Create2-computeAddress-bytes32-bytes32-)
 
* [`computeAddress(salt, bytecodeHash, deployer)`](#Create2-computeAddress-bytes32-bytes32-address-)
 
#### [](#Create2-deploy-uint256-bytes32-bytes-)`deploy(uint256 amount, bytes32 salt, bytes bytecode) → address addr` internal
Deploys a contract using `CREATE2`. The address where the contract will be deployed can be known in advance via [`computeAddress`](#Create2-computeAddress-bytes32-bytes32-address-).
The bytecode for a contract can be obtained from Solidity with `type(contractName).creationCode`.
Requirements:
* `bytecode` must not be empty.
 
* `salt` must have not been used for `bytecode` already.
 
* the factory must have a balance of at least `amount`.
 
* if `amount` is non-zero, `bytecode` must have a `payable` constructor.
 
#### [](#Create2-computeAddress-bytes32-bytes32-)`computeAddress(bytes32 salt, bytes32 bytecodeHash) → address` internal
Returns the address where a contract will be stored if deployed via [`deploy`](#Create2-deploy-uint256-bytes32-bytes-). Any change in the `bytecodeHash` or `salt` will result in a new destination address.
#### [](#Create2-computeAddress-bytes32-bytes32-address-)`computeAddress(bytes32 salt, bytes32 bytecodeHash, address deployer) → address addr` internal
Returns the address where a contract will be stored if deployed via [`deploy`](#Create2-deploy-uint256-bytes32-bytes-) from a contract located at `deployer`. If `deployer` is this contract’s address, returns the same value as [`computeAddress`](#Create2-computeAddress-bytes32-bytes32-address-).
#### [](#Create2-Create2EmptyBytecode--)`Create2EmptyBytecode()` error
There’s no code to deploy.
### [](#Address)`Address`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Address.sol)
 import "@openzeppelin/contracts/utils/Address.sol";
Collection of functions related to the address type
Functions
* [`sendValue(recipient, amount)`](#Address-sendValue-address-payable-uint256-)
 
* [`functionCall(target, data)`](#Address-functionCall-address-bytes-)
 
* [`functionCallWithValue(target, data, value)`](#Address-functionCallWithValue-address-bytes-uint256-)
 
* [`functionStaticCall(target, data)`](#Address-functionStaticCall-address-bytes-)
 
* [`functionDelegateCall(target, data)`](#Address-functionDelegateCall-address-bytes-)
 
* [`verifyCallResultFromTarget(target, success, returndata)`](#Address-verifyCallResultFromTarget-address-bool-bytes-)
 
* [`verifyCallResult(success, returndata)`](#Address-verifyCallResult-bool-bytes-)
 
#### [](#Address-sendValue-address-payable-uint256-)`sendValue(address payable recipient, uint256 amount)` internal
Replacement for Solidity’s `transfer`: sends `amount` wei to `recipient`, forwarding all available gas and reverting on errors.
[EIP1884](https://eips.ethereum.org/EIPS/eip-1884) increases the gas cost of certain opcodes, possibly making contracts go over the 2300 gas limit imposed by `transfer`, making them unable to receive funds via `transfer`. [`sendValue`](#Address-sendValue-address-payable-uint256-) removes this limitation.
#### [](#Address-functionCall-address-bytes-)`functionCall(address target, bytes data) → bytes` internal
Performs a Solidity function call using a low level `call`. A plain `call` is an unsafe replacement for a function call: use this function instead.
If `target` reverts with a revert reason or custom error, it is bubbled up by this function (like regular Solidity function calls). However, if the call reverted with no returned reason, this function reverts with a {Errors.FailedCall} error.
Returns the raw returned data. To convert to the expected return value, use [`abi.decode`](https://solidity.readthedocs.io/en/latest/units-and-global-variables.html?highlight=abi.decode#abi-encoding-and-decoding-functions).
Requirements:
* `target` must be a contract.
 
* calling `target` with `data` must not revert.
 
#### [](#Address-functionCallWithValue-address-bytes-uint256-)`functionCallWithValue(address target, bytes data, uint256 value) → bytes` internal
Same as [`functionCall`](#Address-functionCall-address-bytes-), but also transferring `value` wei to `target`.
Requirements:
* the calling contract must have an ETH balance of at least `value`.
 
* the called Solidity function must be `payable`.
 
#### [](#Address-functionStaticCall-address-bytes-)`functionStaticCall(address target, bytes data) → bytes` internal
Same as [`functionCall`](#Address-functionCall-address-bytes-), but performing a static call.
#### [](#Address-functionDelegateCall-address-bytes-)`functionDelegateCall(address target, bytes data) → bytes` internal
Same as [`functionCall`](#Address-functionCall-address-bytes-), but performing a delegate call.
#### [](#Address-verifyCallResultFromTarget-address-bool-bytes-)`verifyCallResultFromTarget(address target, bool success, bytes returndata) → bytes` internal
Tool to verify that a low level call to smart-contract was successful, and reverts if the target was not a contract or bubbling up the revert reason (falling back to {Errors.FailedCall}) in case of an unsuccessful call.
#### [](#Address-verifyCallResult-bool-bytes-)`verifyCallResult(bool success, bytes returndata) → bytes` internal
Tool to verify that a low level call was successful, and reverts if it wasn’t, either by bubbling the revert reason or with a default {Errors.FailedCall} error.
#### [](#Address-AddressEmptyCode-address-)`AddressEmptyCode(address target)` error
There’s no code at `target` (it is not a contract).
### [](#Arrays)`Arrays`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Arrays.sol)
 import "@openzeppelin/contracts/utils/Arrays.sol";
Collection of functions related to array types.
Functions
* [`sort(array, comp)`](#Arrays-sort-uint256---function—​uint256-uint256—​pure-returns—​bool--)
 
* [`sort(array)`](#Arrays-sort-uint256---)
 
* [`sort(array, comp)`](#Arrays-sort-address---function—​address-address—​pure-returns—​bool--)
 
* [`sort(array)`](#Arrays-sort-address---)
 
* [`sort(array, comp)`](#Arrays-sort-bytes32---function—​bytes32-bytes32—​pure-returns—​bool--)
 
* [`sort(array)`](#Arrays-sort-bytes32---)
 
* [`findUpperBound(array, element)`](#Arrays-findUpperBound-uint256---uint256-)
 
* [`lowerBound(array, element)`](#Arrays-lowerBound-uint256---uint256-)
 
* [`upperBound(array, element)`](#Arrays-upperBound-uint256---uint256-)
 
* [`lowerBoundMemory(array, element)`](#Arrays-lowerBoundMemory-uint256---uint256-)
 
* [`upperBoundMemory(array, element)`](#Arrays-upperBoundMemory-uint256---uint256-)
 
* [`unsafeAccess(arr, pos)`](#Arrays-unsafeAccess-address---uint256-)
 
* [`unsafeAccess(arr, pos)`](#Arrays-unsafeAccess-bytes32---uint256-)
 
* [`unsafeAccess(arr, pos)`](#Arrays-unsafeAccess-uint256---uint256-)
 
* [`unsafeMemoryAccess(arr, pos)`](#Arrays-unsafeMemoryAccess-address---uint256-)
 
* [`unsafeMemoryAccess(arr, pos)`](#Arrays-unsafeMemoryAccess-bytes32---uint256-)
 
* [`unsafeMemoryAccess(arr, pos)`](#Arrays-unsafeMemoryAccess-uint256---uint256-)
 
* [`unsafeSetLength(array, len)`](#Arrays-unsafeSetLength-address---uint256-)
 
* [`unsafeSetLength(array, len)`](#Arrays-unsafeSetLength-bytes32---uint256-)
 
* [`unsafeSetLength(array, len)`](#Arrays-unsafeSetLength-uint256---uint256-)
 
#### [](#Arrays-sort-uint256---function--uint256-uint256--pure-returns--bool--)`sort(uint256[] array, function (uint256,uint256) pure returns (bool) comp) → uint256[]` internal
Sort an array of uint256 (in memory) following the provided comparator function.
This function does the sorting "in place", meaning that it overrides the input. The object is returned for convenience, but that returned value can be discarded safely if the caller has a memory pointer to the array.
this function’s cost is `O(n · log(n))` in average and `O(n²)` in the worst case, with n the length of the array. Using it in view functions that are executed through `eth_call` is safe, but one should be very careful when executing this as part of a transaction. If the array being sorted is too large, the sort operation may consume more gas than is available in a block, leading to potential DoS.
Consider memory side-effects when using custom comparator functions that access memory in an unsafe way.
#### [](#Arrays-sort-uint256---)`sort(uint256[] array) → uint256[]` internal
Variant of [`sort`](#Arrays-sort-bytes32---) that sorts an array of uint256 in increasing order.
#### [](#Arrays-sort-address---function--address-address--pure-returns--bool--)`sort(address[] array, function (address,address) pure returns (bool) comp) → address[]` internal
Sort an array of address (in memory) following the provided comparator function.
This function does the sorting "in place", meaning that it overrides the input. The object is returned for convenience, but that returned value can be discarded safely if the caller has a memory pointer to the array.
this function’s cost is `O(n · log(n))` in average and `O(n²)` in the worst case, with n the length of the array. Using it in view functions that are executed through `eth_call` is safe, but one should be very careful when executing this as part of a transaction. If the array being sorted is too large, the sort operation may consume more gas than is available in a block, leading to potential DoS.
Consider memory side-effects when using custom comparator functions that access memory in an unsafe way.
#### [](#Arrays-sort-address---)`sort(address[] array) → address[]` internal
Variant of [`sort`](#Arrays-sort-bytes32---) that sorts an array of address in increasing order.
#### [](#Arrays-sort-bytes32---function--bytes32-bytes32--pure-returns--bool--)`sort(bytes32[] array, function (bytes32,bytes32) pure returns (bool) comp) → bytes32[]` internal
Sort an array of bytes32 (in memory) following the provided comparator function.
This function does the sorting "in place", meaning that it overrides the input. The object is returned for convenience, but that returned value can be discarded safely if the caller has a memory pointer to the array.
this function’s cost is `O(n · log(n))` in average and `O(n²)` in the worst case, with n the length of the array. Using it in view functions that are executed through `eth_call` is safe, but one should be very careful when executing this as part of a transaction. If the array being sorted is too large, the sort operation may consume more gas than is available in a block, leading to potential DoS.
Consider memory side-effects when using custom comparator functions that access memory in an unsafe way.
#### [](#Arrays-sort-bytes32---)`sort(bytes32[] array) → bytes32[]` internal
Variant of [`sort`](#Arrays-sort-bytes32---) that sorts an array of bytes32 in increasing order.
#### [](#Arrays-findUpperBound-uint256---uint256-)`findUpperBound(uint256[] array, uint256 element) → uint256` internal
Searches a sorted `array` and returns the first index that contains a value greater or equal to `element`. If no such index exists (i.e. all values in the array are strictly less than `element`), the array length is returned. Time complexity O(log n).
The `array` is expected to be sorted in ascending order, and to contain no repeated elements.
Deprecated. This implementation behaves as [`lowerBound`](#Arrays-lowerBound-uint256---uint256-) but lacks support for repeated elements in the array. The [`lowerBound`](#Arrays-lowerBound-uint256---uint256-) function should be used instead.
#### [](#Arrays-lowerBound-uint256---uint256-)`lowerBound(uint256[] array, uint256 element) → uint256` internal
Searches an `array` sorted in ascending order and returns the first index that contains a value greater or equal than `element`. If no such index exists (i.e. all values in the array are strictly less than `element`), the array length is returned. Time complexity O(log n).
#### [](#Arrays-upperBound-uint256---uint256-)`upperBound(uint256[] array, uint256 element) → uint256` internal
Searches an `array` sorted in ascending order and returns the first index that contains a value strictly greater than `element`. If no such index exists (i.e. all values in the array are strictly less than `element`), the array length is returned. Time complexity O(log n).
#### [](#Arrays-lowerBoundMemory-uint256---uint256-)`lowerBoundMemory(uint256[] array, uint256 element) → uint256` internal
Same as [`lowerBound`](#Arrays-lowerBound-uint256---uint256-), but with an array in memory.
#### [](#Arrays-upperBoundMemory-uint256---uint256-)`upperBoundMemory(uint256[] array, uint256 element) → uint256` internal
Same as [`upperBound`](#Arrays-upperBound-uint256---uint256-), but with an array in memory.
#### [](#Arrays-unsafeAccess-address---uint256-)`unsafeAccess(address[] arr, uint256 pos) → struct StorageSlot.AddressSlot` internal
Access an array in an "unsafe" way. Skips solidity "index-out-of-range" check.
Only use if you are certain `pos` is lower than the array length.
#### [](#Arrays-unsafeAccess-bytes32---uint256-)`unsafeAccess(bytes32[] arr, uint256 pos) → struct StorageSlot.Bytes32Slot` internal
Access an array in an "unsafe" way. Skips solidity "index-out-of-range" check.
Only use if you are certain `pos` is lower than the array length.
#### [](#Arrays-unsafeAccess-uint256---uint256-)`unsafeAccess(uint256[] arr, uint256 pos) → struct StorageSlot.Uint256Slot` internal
Access an array in an "unsafe" way. Skips solidity "index-out-of-range" check.
Only use if you are certain `pos` is lower than the array length.
#### [](#Arrays-unsafeMemoryAccess-address---uint256-)`unsafeMemoryAccess(address[] arr, uint256 pos) → address res` internal
Access an array in an "unsafe" way. Skips solidity "index-out-of-range" check.
Only use if you are certain `pos` is lower than the array length.
#### [](#Arrays-unsafeMemoryAccess-bytes32---uint256-)`unsafeMemoryAccess(bytes32[] arr, uint256 pos) → bytes32 res` internal
Access an array in an "unsafe" way. Skips solidity "index-out-of-range" check.
Only use if you are certain `pos` is lower than the array length.
#### [](#Arrays-unsafeMemoryAccess-uint256---uint256-)`unsafeMemoryAccess(uint256[] arr, uint256 pos) → uint256 res` internal
Access an array in an "unsafe" way. Skips solidity "index-out-of-range" check.
Only use if you are certain `pos` is lower than the array length.
#### [](#Arrays-unsafeSetLength-address---uint256-)`unsafeSetLength(address[] array, uint256 len)` internal
Helper to set the length of a dynamic array. Directly writing to `.length` is forbidden.
this does not clear elements if length is reduced, of initialize elements if length is increased.
#### [](#Arrays-unsafeSetLength-bytes32---uint256-)`unsafeSetLength(bytes32[] array, uint256 len)` internal
Helper to set the length of a dynamic array. Directly writing to `.length` is forbidden.
this does not clear elements if length is reduced, of initialize elements if length is increased.
#### [](#Arrays-unsafeSetLength-uint256---uint256-)`unsafeSetLength(uint256[] array, uint256 len)` internal
Helper to set the length of a dynamic array. Directly writing to `.length` is forbidden.
this does not clear elements if length is reduced, of initialize elements if length is increased.
### [](#Base64)`Base64`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Base64.sol)
 import "@openzeppelin/contracts/utils/Base64.sol";
Provides a set of functions to operate with Base64 strings.
#### [](#Base64-encode-bytes-)`encode(bytes data) → string` internal
Converts a `bytes` to its Bytes64 `string` representation.
#### [](#Base64-encodeURL-bytes-)`encodeURL(bytes data) → string` internal
Converts a `bytes` to its Bytes64Url `string` representation. Output is not padded with `=` as specified in [rfc4648](https://www.rfc-editor.org/rfc/rfc4648).
#### [](#Base64-_TABLE-string)`string _TABLE` internal constant
#### [](#Base64-_TABLE_URL-string)`string _TABLE_URL` internal constant
### [](#Bytes)`Bytes`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Bytes.sol)
 import "@openzeppelin/contracts/utils/Bytes.sol";
Bytes operations.
Functions
* [`indexOf(buffer, s)`](#Bytes-indexOf-bytes-bytes1-)
 
* [`indexOf(buffer, s, pos)`](#Bytes-indexOf-bytes-bytes1-uint256-)
 
* [`lastIndexOf(buffer, s)`](#Bytes-lastIndexOf-bytes-bytes1-)
 
* [`lastIndexOf(buffer, s, pos)`](#Bytes-lastIndexOf-bytes-bytes1-uint256-)
 
* [`slice(buffer, start)`](#Bytes-slice-bytes-uint256-)
 
* [`slice(buffer, start, end)`](#Bytes-slice-bytes-uint256-uint256-)
 
#### [](#Bytes-indexOf-bytes-bytes1-)`indexOf(bytes buffer, bytes1 s) → uint256` internal
Forward search for `s` in `buffer` \* If `s` is present in the buffer, returns the index of the first instance \* If `s` is not present in the buffer, returns type(uint256).max
#### [](#Bytes-indexOf-bytes-bytes1-uint256-)`indexOf(bytes buffer, bytes1 s, uint256 pos) → uint256` internal
Forward search for `s` in `buffer` starting at position `pos` \* If `s` is present in the buffer (at or after `pos`), returns the index of the next instance \* If `s` is not present in the buffer (at or after `pos`), returns type(uint256).max
#### [](#Bytes-lastIndexOf-bytes-bytes1-)`lastIndexOf(bytes buffer, bytes1 s) → uint256` internal
Backward search for `s` in `buffer` \* If `s` is present in the buffer, returns the index of the last instance \* If `s` is not present in the buffer, returns type(uint256).max
#### [](#Bytes-lastIndexOf-bytes-bytes1-uint256-)`lastIndexOf(bytes buffer, bytes1 s, uint256 pos) → uint256` internal
Backward search for `s` in `buffer` starting at position `pos` \* If `s` is present in the buffer (at or before `pos`), returns the index of the previous instance \* If `s` is not present in the buffer (at or before `pos`), returns type(uint256).max
#### [](#Bytes-slice-bytes-uint256-)`slice(bytes buffer, uint256 start) → bytes` internal
Copies the content of `buffer`, from `start` (included) to the end of `buffer` into a new bytes object in memory.
#### [](#Bytes-slice-bytes-uint256-uint256-)`slice(bytes buffer, uint256 start, uint256 end) → bytes` internal
Copies the content of `buffer`, from `start` (included) to `end` (excluded) into a new bytes object in memory.
### [](#Calldata)`Calldata`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Calldata.sol)
 import "@openzeppelin/contracts/utils/Calldata.sol";
Helper library for manipulating objects in calldata.
#### [](#Calldata-emptyBytes--)`emptyBytes() → bytes result` internal
#### [](#Calldata-emptyString--)`emptyString() → string result` internal
### [](#Strings)`Strings`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Strings.sol)
 import "@openzeppelin/contracts/utils/Strings.sol";
String operations.
Functions
* [`toString(value)`](#Strings-toString-uint256-)
 
* [`toStringSigned(value)`](#Strings-toStringSigned-int256-)
 
* [`toHexString(value)`](#Strings-toHexString-uint256-)
 
* [`toHexString(value, length)`](#Strings-toHexString-uint256-uint256-)
 
* [`toHexString(addr)`](#Strings-toHexString-address-)
 
* [`toChecksumHexString(addr)`](#Strings-toChecksumHexString-address-)
 
* [`equal(a, b)`](#Strings-equal-string-string-)
 
* [`parseUint(input)`](#Strings-parseUint-string-)
 
* [`parseUint(input, begin, end)`](#Strings-parseUint-string-uint256-uint256-)
 
* [`tryParseUint(input)`](#Strings-tryParseUint-string-)
 
* [`tryParseUint(input, begin, end)`](#Strings-tryParseUint-string-uint256-uint256-)
 
* [`parseInt(input)`](#Strings-parseInt-string-)
 
* [`parseInt(input, begin, end)`](#Strings-parseInt-string-uint256-uint256-)
 
* [`tryParseInt(input)`](#Strings-tryParseInt-string-)
 
* [`tryParseInt(input, begin, end)`](#Strings-tryParseInt-string-uint256-uint256-)
 
* [`parseHexUint(input)`](#Strings-parseHexUint-string-)
 
* [`parseHexUint(input, begin, end)`](#Strings-parseHexUint-string-uint256-uint256-)
 
* [`tryParseHexUint(input)`](#Strings-tryParseHexUint-string-)
 
* [`tryParseHexUint(input, begin, end)`](#Strings-tryParseHexUint-string-uint256-uint256-)
 
* [`parseAddress(input)`](#Strings-parseAddress-string-)
 
* [`parseAddress(input, begin, end)`](#Strings-parseAddress-string-uint256-uint256-)
 
* [`tryParseAddress(input)`](#Strings-tryParseAddress-string-)
 
* [`tryParseAddress(input, begin, end)`](#Strings-tryParseAddress-string-uint256-uint256-)
 
* [`escapeJSON(input)`](#Strings-escapeJSON-string-)
 
Errors
* [`StringsInsufficientHexLength(value, length)`](#Strings-StringsInsufficientHexLength-uint256-uint256-)
 
* [`StringsInvalidChar()`](#Strings-StringsInvalidChar--)
 
* [`StringsInvalidAddressFormat()`](#Strings-StringsInvalidAddressFormat--)
 
#### [](#Strings-toString-uint256-)`toString(uint256 value) → string` internal
Converts a `uint256` to its ASCII `string` decimal representation.
#### [](#Strings-toStringSigned-int256-)`toStringSigned(int256 value) → string` internal
Converts a `int256` to its ASCII `string` decimal representation.
#### [](#Strings-toHexString-uint256-)`toHexString(uint256 value) → string` internal
Converts a `uint256` to its ASCII `string` hexadecimal representation.
#### [](#Strings-toHexString-uint256-uint256-)`toHexString(uint256 value, uint256 length) → string` internal
Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.
#### [](#Strings-toHexString-address-)`toHexString(address addr) → string` internal
Converts an `address` with fixed length of 20 bytes to its not checksummed ASCII `string` hexadecimal representation.
#### [](#Strings-toChecksumHexString-address-)`toChecksumHexString(address addr) → string` internal
Converts an `address` with fixed length of 20 bytes to its checksummed ASCII `string` hexadecimal representation, according to EIP-55.
#### [](#Strings-equal-string-string-)`equal(string a, string b) → bool` internal
Returns true if the two strings are equal.
#### [](#Strings-parseUint-string-)`parseUint(string input) → uint256` internal
Parse a decimal string and returns the value as a `uint256`.
Requirements: - The string must be formatted as `[0-9]*` - The result must fit into an `uint256` type
#### [](#Strings-parseUint-string-uint256-uint256-)`parseUint(string input, uint256 begin, uint256 end) → uint256` internal
Variant of [`parseUint`](#Strings-parseUint-string-) that parses a substring of `input` located between position `begin` (included) and `end` (excluded).
Requirements: - The substring must be formatted as `[0-9]*` - The result must fit into an `uint256` type
#### [](#Strings-tryParseUint-string-)`tryParseUint(string input) → bool success, uint256 value` internal
Variant of [`parseUint`](#Strings-parseUint-string-) that returns false if the parsing fails because of an invalid character.
This function will revert if the result does not fit in a `uint256`.
#### [](#Strings-tryParseUint-string-uint256-uint256-)`tryParseUint(string input, uint256 begin, uint256 end) → bool success, uint256 value` internal
Variant of [`parseUint`](#Strings-parseUint-string-uint256-uint256-) that returns false if the parsing fails because of an invalid character.
This function will revert if the result does not fit in a `uint256`.
#### [](#Strings-parseInt-string-)`parseInt(string input) → int256` internal
Parse a decimal string and returns the value as a `int256`.
Requirements: - The string must be formatted as `[-+]?[0-9]*` - The result must fit in an `int256` type.
#### [](#Strings-parseInt-string-uint256-uint256-)`parseInt(string input, uint256 begin, uint256 end) → int256` internal
Variant of [`parseInt`](#Strings-parseInt-string-) that parses a substring of `input` located between position `begin` (included) and `end` (excluded).
Requirements: - The substring must be formatted as `[-+]?[0-9]*` - The result must fit in an `int256` type.
#### [](#Strings-tryParseInt-string-)`tryParseInt(string input) → bool success, int256 value` internal
Variant of [`parseInt`](#Strings-parseInt-string-) that returns false if the parsing fails because of an invalid character or if the result does not fit in a `int256`.
This function will revert if the absolute value of the result does not fit in a `uint256`.
#### [](#Strings-tryParseInt-string-uint256-uint256-)`tryParseInt(string input, uint256 begin, uint256 end) → bool success, int256 value` internal
Variant of [`parseInt`](#Strings-parseInt-string-uint256-uint256-) that returns false if the parsing fails because of an invalid character or if the result does not fit in a `int256`.
This function will revert if the absolute value of the result does not fit in a `uint256`.
#### [](#Strings-parseHexUint-string-)`parseHexUint(string input) → uint256` internal
Parse a hexadecimal string (with or without "0x" prefix), and returns the value as a `uint256`.
Requirements: - The string must be formatted as `(0x)?[0-9a-fA-F]*` - The result must fit in an `uint256` type.
#### [](#Strings-parseHexUint-string-uint256-uint256-)`parseHexUint(string input, uint256 begin, uint256 end) → uint256` internal
Variant of [`parseHexUint`](#Strings-parseHexUint-string-) that parses a substring of `input` located between position `begin` (included) and `end` (excluded).
Requirements: - The substring must be formatted as `(0x)?[0-9a-fA-F]*` - The result must fit in an `uint256` type.
#### [](#Strings-tryParseHexUint-string-)`tryParseHexUint(string input) → bool success, uint256 value` internal
Variant of [`parseHexUint`](#Strings-parseHexUint-string-) that returns false if the parsing fails because of an invalid character.
This function will revert if the result does not fit in a `uint256`.
#### [](#Strings-tryParseHexUint-string-uint256-uint256-)`tryParseHexUint(string input, uint256 begin, uint256 end) → bool success, uint256 value` internal
Variant of [`parseHexUint`](#Strings-parseHexUint-string-uint256-uint256-) that returns false if the parsing fails because of an invalid character.
This function will revert if the result does not fit in a `uint256`.
#### [](#Strings-parseAddress-string-)`parseAddress(string input) → address` internal
Parse a hexadecimal string (with or without "0x" prefix), and returns the value as an `address`.
Requirements: - The string must be formatted as `(0x)?[0-9a-fA-F]{40}`
#### [](#Strings-parseAddress-string-uint256-uint256-)`parseAddress(string input, uint256 begin, uint256 end) → address` internal
Variant of [`parseAddress`](#Strings-parseAddress-string-) that parses a substring of `input` located between position `begin` (included) and `end` (excluded).
Requirements: - The substring must be formatted as `(0x)?[0-9a-fA-F]{40}`
#### [](#Strings-tryParseAddress-string-)`tryParseAddress(string input) → bool success, address value` internal
Variant of [`parseAddress`](#Strings-parseAddress-string-) that returns false if the parsing fails because the input is not a properly formatted address. See [`parseAddress`](#Strings-parseAddress-string-) requirements.
#### [](#Strings-tryParseAddress-string-uint256-uint256-)`tryParseAddress(string input, uint256 begin, uint256 end) → bool success, address value` internal
Variant of [`parseAddress`](#Strings-parseAddress-string-uint256-uint256-) that returns false if the parsing fails because input is not a properly formatted address. See [`parseAddress`](#Strings-parseAddress-string-uint256-uint256-) requirements.
#### [](#Strings-escapeJSON-string-)`escapeJSON(string input) → string` internal
Escape special characters in JSON strings. This can be useful to prevent JSON injection in NFT metadata.
This function should only be used in double quoted JSON strings. Single quotes are not escaped.
This function escapes all unicode characters, and not just the ones in ranges defined in section 2.5 of RFC-4627 (U+0000 to U+001F, U+0022 and U+005C). ECMAScript’s `JSON.parse` does recover escaped unicode characters that are not in this range, but other tooling may provide different results.
#### [](#Strings-StringsInsufficientHexLength-uint256-uint256-)`StringsInsufficientHexLength(uint256 value, uint256 length)` error
The `value` string doesn’t fit in the specified `length`.
#### [](#Strings-StringsInvalidChar--)`StringsInvalidChar()` error
The string being parsed contains characters that are not in scope of the given base.
#### [](#Strings-StringsInvalidAddressFormat--)`StringsInvalidAddressFormat()` error
The string being parsed is not a properly formatted address.
### [](#ShortStrings)`ShortStrings`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/ShortStrings.sol)
 import "@openzeppelin/contracts/utils/ShortStrings.sol";
This library provides functions to convert short memory strings into a `ShortString` type that can be used as an immutable variable.
Strings of arbitrary length can be optimized using this library if they are short enough (up to 31 bytes) by packing them with their length (1 byte) in a single EVM word (32 bytes). Additionally, a fallback mechanism can be used for every other case.
Usage example:
 contract Named {
 using ShortStrings for *;
 
 ShortString private immutable _name;
 string private _nameFallback;
 
 constructor(string memory contractName) {
 _name = contractName.toShortStringWithFallback(_nameFallback);
 }
 
 function name() external view returns (string memory) {
 return _name.toStringWithFallback(_nameFallback);
 }
 }
Functions
* [`toShortString(str)`](#ShortStrings-toShortString-string-)
 
* [`toString(sstr)`](#ShortStrings-toString-ShortString-)
 
* [`byteLength(sstr)`](#ShortStrings-byteLength-ShortString-)
 
* [`toShortStringWithFallback(value, store)`](#ShortStrings-toShortStringWithFallback-string-string-)
 
* [`toStringWithFallback(value, store)`](#ShortStrings-toStringWithFallback-ShortString-string-)
 
* [`byteLengthWithFallback(value, store)`](#ShortStrings-byteLengthWithFallback-ShortString-string-)
 
#### [](#ShortStrings-toShortString-string-)`toShortString(string str) → ShortString` internal
Encode a string of at most 31 chars into a `ShortString`.
This will trigger a `StringTooLong` error is the input string is too long.
#### [](#ShortStrings-toString-ShortString-)`toString(ShortString sstr) → string` internal
Decode a `ShortString` back to a "normal" string.
#### [](#ShortStrings-byteLength-ShortString-)`byteLength(ShortString sstr) → uint256` internal
Return the length of a `ShortString`.
#### [](#ShortStrings-toShortStringWithFallback-string-string-)`toShortStringWithFallback(string value, string store) → ShortString` internal
Encode a string into a `ShortString`, or write it to storage if it is too long.
#### [](#ShortStrings-toStringWithFallback-ShortString-string-)`toStringWithFallback(ShortString value, string store) → string` internal
Decode a string that was encoded to `ShortString` or written to storage using [`toShortStringWithFallback`](#ShortStrings-toShortStringWithFallback-string-string-).
#### [](#ShortStrings-byteLengthWithFallback-ShortString-string-)`byteLengthWithFallback(ShortString value, string store) → uint256` internal
Return the length of a string that was encoded to `ShortString` or written to storage using [`toShortStringWithFallback`](#ShortStrings-toShortStringWithFallback-string-string-).
This will return the "byte length" of the string. This may not reflect the actual length in terms of actual characters as the UTF-8 encoding of a single character can span over multiple bytes.
#### [](#ShortStrings-StringTooLong-string-)`StringTooLong(string str)` error
#### [](#ShortStrings-InvalidShortString--)`InvalidShortString()` error
### [](#SlotDerivation)`SlotDerivation`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/SlotDerivation.sol)
 import "@openzeppelin/contracts/utils/SlotDerivation.sol";
Library for computing storage (and transient storage) locations from namespaces and deriving slots corresponding to standard patterns. The derivation method for array and mapping matches the storage layout used by the solidity language / compiler.
Example usage:
 contract Example {
 // Add the library methods
 using StorageSlot for bytes32;
 using SlotDerivation for bytes32;
 
 // Declare a namespace
 string private constant _NAMESPACE = "<namespace>"; // eg. OpenZeppelin.Slot
 
 function setValueInNamespace(uint256 key, address newValue) internal {
 _NAMESPACE.erc7201Slot().deriveMapping(key).getAddressSlot().value = newValue;
 }
 
 function getValueInNamespace(uint256 key) internal view returns (address) {
 return _NAMESPACE.erc7201Slot().deriveMapping(key).getAddressSlot().value;
 }
 }
Consider using this library along with [`StorageSlot`](#StorageSlot).
This library provides a way to manipulate storage locations in a non-standard way. Tooling for checking upgrade safety will ignore the slots accessed through this library.
_Available since v5.1._
Functions
* [`erc7201Slot(namespace)`](#SlotDerivation-erc7201Slot-string-)
 
* [`offset(slot, pos)`](#SlotDerivation-offset-bytes32-uint256-)
 
* [`deriveArray(slot)`](#SlotDerivation-deriveArray-bytes32-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-address-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-bool-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-bytes32-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-uint256-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-int256-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-string-)
 
* [`deriveMapping(slot, key)`](#SlotDerivation-deriveMapping-bytes32-bytes-)
 
#### [](#SlotDerivation-erc7201Slot-string-)`erc7201Slot(string namespace) → bytes32 slot` internal
Derive an ERC-7201 slot from a string (namespace).
#### [](#SlotDerivation-offset-bytes32-uint256-)`offset(bytes32 slot, uint256 pos) → bytes32 result` internal
Add an offset to a slot to get the n-th element of a structure or an array.
#### [](#SlotDerivation-deriveArray-bytes32-)`deriveArray(bytes32 slot) → bytes32 result` internal
Derive the location of the first element in an array from the slot where the length is stored.
#### [](#SlotDerivation-deriveMapping-bytes32-address-)`deriveMapping(bytes32 slot, address key) → bytes32 result` internal
Derive the location of a mapping element from the key.
#### [](#SlotDerivation-deriveMapping-bytes32-bool-)`deriveMapping(bytes32 slot, bool key) → bytes32 result` internal
Derive the location of a mapping element from the key.
#### [](#SlotDerivation-deriveMapping-bytes32-bytes32-)`deriveMapping(bytes32 slot, bytes32 key) → bytes32 result` internal
Derive the location of a mapping element from the key.
#### [](#SlotDerivation-deriveMapping-bytes32-uint256-)`deriveMapping(bytes32 slot, uint256 key) → bytes32 result` internal
Derive the location of a mapping element from the key.
#### [](#SlotDerivation-deriveMapping-bytes32-int256-)`deriveMapping(bytes32 slot, int256 key) → bytes32 result` internal
Derive the location of a mapping element from the key.
#### [](#SlotDerivation-deriveMapping-bytes32-string-)`deriveMapping(bytes32 slot, string key) → bytes32 result` internal
Derive the location of a mapping element from the key.
#### [](#SlotDerivation-deriveMapping-bytes32-bytes-)`deriveMapping(bytes32 slot, bytes key) → bytes32 result` internal
Derive the location of a mapping element from the key.
### [](#StorageSlot)`StorageSlot`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/StorageSlot.sol)
 import "@openzeppelin/contracts/utils/StorageSlot.sol";
Library for reading and writing primitive types to specific storage slots.
Storage slots are often used to avoid storage conflict when dealing with upgradeable contracts. This library helps with reading and writing to such slots without the need for inline assembly.
The functions in this library return Slot structs that contain a `value` member that can be used to read or write.
Example usage to set ERC-1967 implementation slot:
 contract ERC1967 {
 // Define the slot. Alternatively, use the SlotDerivation library to derive the slot.
 bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;
 
 function _getImplementation() internal view returns (address) {
 return StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value;
 }
 
 function _setImplementation(address newImplementation) internal {
 require(newImplementation.code.length > 0);
 StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value = newImplementation;
 }
 }
Consider using this library along with [`SlotDerivation`](#SlotDerivation).
Functions
* [`getAddressSlot(slot)`](#StorageSlot-getAddressSlot-bytes32-)
 
* [`getBooleanSlot(slot)`](#StorageSlot-getBooleanSlot-bytes32-)
 
* [`getBytes32Slot(slot)`](#StorageSlot-getBytes32Slot-bytes32-)
 
* [`getUint256Slot(slot)`](#StorageSlot-getUint256Slot-bytes32-)
 
* [`getInt256Slot(slot)`](#StorageSlot-getInt256Slot-bytes32-)
 
* [`getStringSlot(slot)`](#StorageSlot-getStringSlot-bytes32-)
 
* [`getStringSlot(store)`](#StorageSlot-getStringSlot-string-)
 
* [`getBytesSlot(slot)`](#StorageSlot-getBytesSlot-bytes32-)
 
* [`getBytesSlot(store)`](#StorageSlot-getBytesSlot-bytes-)
 
#### [](#StorageSlot-getAddressSlot-bytes32-)`getAddressSlot(bytes32 slot) → struct StorageSlot.AddressSlot r` internal
Returns an `AddressSlot` with member `value` located at `slot`.
#### [](#StorageSlot-getBooleanSlot-bytes32-)`getBooleanSlot(bytes32 slot) → struct StorageSlot.BooleanSlot r` internal
Returns a `BooleanSlot` with member `value` located at `slot`.
#### [](#StorageSlot-getBytes32Slot-bytes32-)`getBytes32Slot(bytes32 slot) → struct StorageSlot.Bytes32Slot r` internal
Returns a `Bytes32Slot` with member `value` located at `slot`.
#### [](#StorageSlot-getUint256Slot-bytes32-)`getUint256Slot(bytes32 slot) → struct StorageSlot.Uint256Slot r` internal
Returns a `Uint256Slot` with member `value` located at `slot`.
#### [](#StorageSlot-getInt256Slot-bytes32-)`getInt256Slot(bytes32 slot) → struct StorageSlot.Int256Slot r` internal
Returns a `Int256Slot` with member `value` located at `slot`.
#### [](#StorageSlot-getStringSlot-bytes32-)`getStringSlot(bytes32 slot) → struct StorageSlot.StringSlot r` internal
Returns a `StringSlot` with member `value` located at `slot`.
#### [](#StorageSlot-getStringSlot-string-)`getStringSlot(string store) → struct StorageSlot.StringSlot r` internal
Returns an `StringSlot` representation of the string storage pointer `store`.
#### [](#StorageSlot-getBytesSlot-bytes32-)`getBytesSlot(bytes32 slot) → struct StorageSlot.BytesSlot r` internal
Returns a `BytesSlot` with member `value` located at `slot`.
#### [](#StorageSlot-getBytesSlot-bytes-)`getBytesSlot(bytes store) → struct StorageSlot.BytesSlot r` internal
Returns an `BytesSlot` representation of the bytes storage pointer `store`.
### [](#TransientSlot)`TransientSlot`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/TransientSlot.sol)
 import "@openzeppelin/contracts/utils/TransientSlot.sol";
Library for reading and writing value-types to specific transient storage slots.
Transient slots are often used to store temporary values that are removed after the current transaction. This library helps with reading and writing to such slots without the need for inline assembly.
* Example reading and writing values using transient storage:
 
 contract Lock {
 using TransientSlot for *;
 
 // Define the slot. Alternatively, use the SlotDerivation library to derive the slot.
 bytes32 internal constant _LOCK_SLOT = 0xf4678858b2b588224636b8522b729e7722d32fc491da849ed75b3fdf3c84f542;
 
 modifier locked() {
 require(!_LOCK_SLOT.asBoolean().tload());
 
 _LOCK_SLOT.asBoolean().tstore(true);
 _;
 _LOCK_SLOT.asBoolean().tstore(false);
 }
 }
Consider using this library along with [`SlotDerivation`](#SlotDerivation).
Functions
* [`asAddress(slot)`](#TransientSlot-asAddress-bytes32-)
 
* [`asBoolean(slot)`](#TransientSlot-asBoolean-bytes32-)
 
* [`asBytes32(slot)`](#TransientSlot-asBytes32-bytes32-)
 
* [`asUint256(slot)`](#TransientSlot-asUint256-bytes32-)
 
* [`asInt256(slot)`](#TransientSlot-asInt256-bytes32-)
 
* [`tload(slot)`](#TransientSlot-tload-TransientSlot-AddressSlot-)
 
* [`tstore(slot, value)`](#TransientSlot-tstore-TransientSlot-AddressSlot-address-)
 
* [`tload(slot)`](#TransientSlot-tload-TransientSlot-BooleanSlot-)
 
* [`tstore(slot, value)`](#TransientSlot-tstore-TransientSlot-BooleanSlot-bool-)
 
* [`tload(slot)`](#TransientSlot-tload-TransientSlot-Bytes32Slot-)
 
* [`tstore(slot, value)`](#TransientSlot-tstore-TransientSlot-Bytes32Slot-bytes32-)
 
* [`tload(slot)`](#TransientSlot-tload-TransientSlot-Uint256Slot-)
 
* [`tstore(slot, value)`](#TransientSlot-tstore-TransientSlot-Uint256Slot-uint256-)
 
* [`tload(slot)`](#TransientSlot-tload-TransientSlot-Int256Slot-)
 
* [`tstore(slot, value)`](#TransientSlot-tstore-TransientSlot-Int256Slot-int256-)
 
#### [](#TransientSlot-asAddress-bytes32-)`asAddress(bytes32 slot) → TransientSlot.AddressSlot` internal
Cast an arbitrary slot to a AddressSlot.
#### [](#TransientSlot-asBoolean-bytes32-)`asBoolean(bytes32 slot) → TransientSlot.BooleanSlot` internal
Cast an arbitrary slot to a BooleanSlot.
#### [](#TransientSlot-asBytes32-bytes32-)`asBytes32(bytes32 slot) → TransientSlot.Bytes32Slot` internal
Cast an arbitrary slot to a Bytes32Slot.
#### [](#TransientSlot-asUint256-bytes32-)`asUint256(bytes32 slot) → TransientSlot.Uint256Slot` internal
Cast an arbitrary slot to a Uint256Slot.
#### [](#TransientSlot-asInt256-bytes32-)`asInt256(bytes32 slot) → TransientSlot.Int256Slot` internal
Cast an arbitrary slot to a Int256Slot.
#### [](#TransientSlot-tload-TransientSlot-AddressSlot-)`tload(TransientSlot.AddressSlot slot) → address value` internal
Load the value held at location `slot` in transient storage.
#### [](#TransientSlot-tstore-TransientSlot-AddressSlot-address-)`tstore(TransientSlot.AddressSlot slot, address value)` internal
Store `value` at location `slot` in transient storage.
#### [](#TransientSlot-tload-TransientSlot-BooleanSlot-)`tload(TransientSlot.BooleanSlot slot) → bool value` internal
Load the value held at location `slot` in transient storage.
#### [](#TransientSlot-tstore-TransientSlot-BooleanSlot-bool-)`tstore(TransientSlot.BooleanSlot slot, bool value)` internal
Store `value` at location `slot` in transient storage.
#### [](#TransientSlot-tload-TransientSlot-Bytes32Slot-)`tload(TransientSlot.Bytes32Slot slot) → bytes32 value` internal
Load the value held at location `slot` in transient storage.
#### [](#TransientSlot-tstore-TransientSlot-Bytes32Slot-bytes32-)`tstore(TransientSlot.Bytes32Slot slot, bytes32 value)` internal
Store `value` at location `slot` in transient storage.
#### [](#TransientSlot-tload-TransientSlot-Uint256Slot-)`tload(TransientSlot.Uint256Slot slot) → uint256 value` internal
Load the value held at location `slot` in transient storage.
#### [](#TransientSlot-tstore-TransientSlot-Uint256Slot-uint256-)`tstore(TransientSlot.Uint256Slot slot, uint256 value)` internal
Store `value` at location `slot` in transient storage.
#### [](#TransientSlot-tload-TransientSlot-Int256Slot-)`tload(TransientSlot.Int256Slot slot) → int256 value` internal
Load the value held at location `slot` in transient storage.
#### [](#TransientSlot-tstore-TransientSlot-Int256Slot-int256-)`tstore(TransientSlot.Int256Slot slot, int256 value)` internal
Store `value` at location `slot` in transient storage.
### [](#Multicall)`Multicall`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Multicall.sol)
 import "@openzeppelin/contracts/utils/Multicall.sol";
Provides a function to batch together multiple calls in a single external call.
Consider any assumption about calldata validation performed by the sender may be violated if it’s not especially careful about sending transactions invoking [`multicall`](#Multicall-multicall-bytes---). For example, a relay address that filters function selectors won’t filter calls nested within a [`multicall`](#Multicall-multicall-bytes---) operation.
Since 5.0.1 and 4.9.4, this contract identifies non-canonical contexts (i.e. `msg.sender` is not [`Context._msgSender`](#Context-_msgSender--)). If a non-canonical context is identified, the following self `delegatecall` appends the last bytes of `msg.data` to the subcall. This makes it safe to use with [`ERC2771Context`](https://docs.openzeppelin.com/contracts/5.x/api/metatx#ERC2771Context). Contexts that don’t affect the resolution of [`Context._msgSender`](#Context-_msgSender--) are not propagated to subcalls.
Functions
* [`multicall(data)`](#Multicall-multicall-bytes---)
 
#### [](#Multicall-multicall-bytes---)`multicall(bytes[] data) → bytes[] results` external
Receives and executes a batch of function calls on this contract.
### [](#Context)`Context`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Context.sol)
 import "@openzeppelin/contracts/utils/Context.sol";
Provides information about the current execution context, including the sender of the transaction and its data. While these are generally available via msg.sender and msg.data, they should not be accessed in such a direct manner, since when dealing with meta-transactions the account sending and paying for execution may not be the actual sender (as far as an application is concerned).
This contract is only required for intermediate, library-like contracts.
#### [](#Context-_msgSender--)`_msgSender() → address` internal
#### [](#Context-_msgData--)`_msgData() → bytes` internal
#### [](#Context-_contextSuffixLength--)`_contextSuffixLength() → uint256` internal
### [](#Packing)`Packing`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Packing.sol)
 import "@openzeppelin/contracts/utils/Packing.sol";
Helper library packing and unpacking multiple values into bytesXX.
Example usage:
 library MyPacker {
 type MyType is bytes32;
 
 function _pack(address account, bytes4 selector, uint64 period) external pure returns (MyType) {
 bytes12 subpack = Packing.pack_4_8(selector, bytes8(period));
 bytes32 pack = Packing.pack_20_12(bytes20(account), subpack);
 return MyType.wrap(pack);
 }
 
 function _unpack(MyType self) external pure returns (address, bytes4, uint64) {
 bytes32 pack = MyType.unwrap(self);
 return (
 address(Packing.extract_32_20(pack, 0)),
 Packing.extract_32_4(pack, 20),
 uint64(Packing.extract_32_8(pack, 24))
 );
 }
 }
_Available since v5.1._
Functions
* [`pack_1_1(left, right)`](#Packing-pack_1_1-bytes1-bytes1-)
 
* [`pack_2_2(left, right)`](#Packing-pack_2_2-bytes2-bytes2-)
 
* [`pack_2_4(left, right)`](#Packing-pack_2_4-bytes2-bytes4-)
 
* [`pack_2_6(left, right)`](#Packing-pack_2_6-bytes2-bytes6-)
 
* [`pack_2_8(left, right)`](#Packing-pack_2_8-bytes2-bytes8-)
 
* [`pack_2_10(left, right)`](#Packing-pack_2_10-bytes2-bytes10-)
 
* [`pack_2_20(left, right)`](#Packing-pack_2_20-bytes2-bytes20-)
 
* [`pack_2_22(left, right)`](#Packing-pack_2_22-bytes2-bytes22-)
 
* [`pack_4_2(left, right)`](#Packing-pack_4_2-bytes4-bytes2-)
 
* [`pack_4_4(left, right)`](#Packing-pack_4_4-bytes4-bytes4-)
 
* [`pack_4_6(left, right)`](#Packing-pack_4_6-bytes4-bytes6-)
 
* [`pack_4_8(left, right)`](#Packing-pack_4_8-bytes4-bytes8-)
 
* [`pack_4_12(left, right)`](#Packing-pack_4_12-bytes4-bytes12-)
 
* [`pack_4_16(left, right)`](#Packing-pack_4_16-bytes4-bytes16-)
 
* [`pack_4_20(left, right)`](#Packing-pack_4_20-bytes4-bytes20-)
 
* [`pack_4_24(left, right)`](#Packing-pack_4_24-bytes4-bytes24-)
 
* [`pack_4_28(left, right)`](#Packing-pack_4_28-bytes4-bytes28-)
 
* [`pack_6_2(left, right)`](#Packing-pack_6_2-bytes6-bytes2-)
 
* [`pack_6_4(left, right)`](#Packing-pack_6_4-bytes6-bytes4-)
 
* [`pack_6_6(left, right)`](#Packing-pack_6_6-bytes6-bytes6-)
 
* [`pack_6_10(left, right)`](#Packing-pack_6_10-bytes6-bytes10-)
 
* [`pack_6_16(left, right)`](#Packing-pack_6_16-bytes6-bytes16-)
 
* [`pack_6_22(left, right)`](#Packing-pack_6_22-bytes6-bytes22-)
 
* [`pack_8_2(left, right)`](#Packing-pack_8_2-bytes8-bytes2-)
 
* [`pack_8_4(left, right)`](#Packing-pack_8_4-bytes8-bytes4-)
 
* [`pack_8_8(left, right)`](#Packing-pack_8_8-bytes8-bytes8-)
 
* [`pack_8_12(left, right)`](#Packing-pack_8_12-bytes8-bytes12-)
 
* [`pack_8_16(left, right)`](#Packing-pack_8_16-bytes8-bytes16-)
 
* [`pack_8_20(left, right)`](#Packing-pack_8_20-bytes8-bytes20-)
 
* [`pack_8_24(left, right)`](#Packing-pack_8_24-bytes8-bytes24-)
 
* [`pack_10_2(left, right)`](#Packing-pack_10_2-bytes10-bytes2-)
 
* [`pack_10_6(left, right)`](#Packing-pack_10_6-bytes10-bytes6-)
 
* [`pack_10_10(left, right)`](#Packing-pack_10_10-bytes10-bytes10-)
 
* [`pack_10_12(left, right)`](#Packing-pack_10_12-bytes10-bytes12-)
 
* [`pack_10_22(left, right)`](#Packing-pack_10_22-bytes10-bytes22-)
 
* [`pack_12_4(left, right)`](#Packing-pack_12_4-bytes12-bytes4-)
 
* [`pack_12_8(left, right)`](#Packing-pack_12_8-bytes12-bytes8-)
 
* [`pack_12_10(left, right)`](#Packing-pack_12_10-bytes12-bytes10-)
 
* [`pack_12_12(left, right)`](#Packing-pack_12_12-bytes12-bytes12-)
 
* [`pack_12_16(left, right)`](#Packing-pack_12_16-bytes12-bytes16-)
 
* [`pack_12_20(left, right)`](#Packing-pack_12_20-bytes12-bytes20-)
 
* [`pack_16_4(left, right)`](#Packing-pack_16_4-bytes16-bytes4-)
 
* [`pack_16_6(left, right)`](#Packing-pack_16_6-bytes16-bytes6-)
 
* [`pack_16_8(left, right)`](#Packing-pack_16_8-bytes16-bytes8-)
 
* [`pack_16_12(left, right)`](#Packing-pack_16_12-bytes16-bytes12-)
 
* [`pack_16_16(left, right)`](#Packing-pack_16_16-bytes16-bytes16-)
 
* [`pack_20_2(left, right)`](#Packing-pack_20_2-bytes20-bytes2-)
 
* [`pack_20_4(left, right)`](#Packing-pack_20_4-bytes20-bytes4-)
 
* [`pack_20_8(left, right)`](#Packing-pack_20_8-bytes20-bytes8-)
 
* [`pack_20_12(left, right)`](#Packing-pack_20_12-bytes20-bytes12-)
 
* [`pack_22_2(left, right)`](#Packing-pack_22_2-bytes22-bytes2-)
 
* [`pack_22_6(left, right)`](#Packing-pack_22_6-bytes22-bytes6-)
 
* [`pack_22_10(left, right)`](#Packing-pack_22_10-bytes22-bytes10-)
 
* [`pack_24_4(left, right)`](#Packing-pack_24_4-bytes24-bytes4-)
 
* [`pack_24_8(left, right)`](#Packing-pack_24_8-bytes24-bytes8-)
 
* [`pack_28_4(left, right)`](#Packing-pack_28_4-bytes28-bytes4-)
 
* [`extract_2_1(self, offset)`](#Packing-extract_2_1-bytes2-uint8-)
 
* [`replace_2_1(self, value, offset)`](#Packing-replace_2_1-bytes2-bytes1-uint8-)
 
* [`extract_4_1(self, offset)`](#Packing-extract_4_1-bytes4-uint8-)
 
* [`replace_4_1(self, value, offset)`](#Packing-replace_4_1-bytes4-bytes1-uint8-)
 
* [`extract_4_2(self, offset)`](#Packing-extract_4_2-bytes4-uint8-)
 
* [`replace_4_2(self, value, offset)`](#Packing-replace_4_2-bytes4-bytes2-uint8-)
 
* [`extract_6_1(self, offset)`](#Packing-extract_6_1-bytes6-uint8-)
 
* [`replace_6_1(self, value, offset)`](#Packing-replace_6_1-bytes6-bytes1-uint8-)
 
* [`extract_6_2(self, offset)`](#Packing-extract_6_2-bytes6-uint8-)
 
* [`replace_6_2(self, value, offset)`](#Packing-replace_6_2-bytes6-bytes2-uint8-)
 
* [`extract_6_4(self, offset)`](#Packing-extract_6_4-bytes6-uint8-)
 
* [`replace_6_4(self, value, offset)`](#Packing-replace_6_4-bytes6-bytes4-uint8-)
 
* [`extract_8_1(self, offset)`](#Packing-extract_8_1-bytes8-uint8-)
 
* [`replace_8_1(self, value, offset)`](#Packing-replace_8_1-bytes8-bytes1-uint8-)
 
* [`extract_8_2(self, offset)`](#Packing-extract_8_2-bytes8-uint8-)
 
* [`replace_8_2(self, value, offset)`](#Packing-replace_8_2-bytes8-bytes2-uint8-)
 
* [`extract_8_4(self, offset)`](#Packing-extract_8_4-bytes8-uint8-)
 
* [`replace_8_4(self, value, offset)`](#Packing-replace_8_4-bytes8-bytes4-uint8-)
 
* [`extract_8_6(self, offset)`](#Packing-extract_8_6-bytes8-uint8-)
 
* [`replace_8_6(self, value, offset)`](#Packing-replace_8_6-bytes8-bytes6-uint8-)
 
* [`extract_10_1(self, offset)`](#Packing-extract_10_1-bytes10-uint8-)
 
* [`replace_10_1(self, value, offset)`](#Packing-replace_10_1-bytes10-bytes1-uint8-)
 
* [`extract_10_2(self, offset)`](#Packing-extract_10_2-bytes10-uint8-)
 
* [`replace_10_2(self, value, offset)`](#Packing-replace_10_2-bytes10-bytes2-uint8-)
 
* [`extract_10_4(self, offset)`](#Packing-extract_10_4-bytes10-uint8-)
 
* [`replace_10_4(self, value, offset)`](#Packing-replace_10_4-bytes10-bytes4-uint8-)
 
* [`extract_10_6(self, offset)`](#Packing-extract_10_6-bytes10-uint8-)
 
* [`replace_10_6(self, value, offset)`](#Packing-replace_10_6-bytes10-bytes6-uint8-)
 
* [`extract_10_8(self, offset)`](#Packing-extract_10_8-bytes10-uint8-)
 
* [`replace_10_8(self, value, offset)`](#Packing-replace_10_8-bytes10-bytes8-uint8-)
 
* [`extract_12_1(self, offset)`](#Packing-extract_12_1-bytes12-uint8-)
 
* [`replace_12_1(self, value, offset)`](#Packing-replace_12_1-bytes12-bytes1-uint8-)
 
* [`extract_12_2(self, offset)`](#Packing-extract_12_2-bytes12-uint8-)
 
* [`replace_12_2(self, value, offset)`](#Packing-replace_12_2-bytes12-bytes2-uint8-)
 
* [`extract_12_4(self, offset)`](#Packing-extract_12_4-bytes12-uint8-)
 
* [`replace_12_4(self, value, offset)`](#Packing-replace_12_4-bytes12-bytes4-uint8-)
 
* [`extract_12_6(self, offset)`](#Packing-extract_12_6-bytes12-uint8-)
 
* [`replace_12_6(self, value, offset)`](#Packing-replace_12_6-bytes12-bytes6-uint8-)
 
* [`extract_12_8(self, offset)`](#Packing-extract_12_8-bytes12-uint8-)
 
* [`replace_12_8(self, value, offset)`](#Packing-replace_12_8-bytes12-bytes8-uint8-)
 
* [`extract_12_10(self, offset)`](#Packing-extract_12_10-bytes12-uint8-)
 
* [`replace_12_10(self, value, offset)`](#Packing-replace_12_10-bytes12-bytes10-uint8-)
 
* [`extract_16_1(self, offset)`](#Packing-extract_16_1-bytes16-uint8-)
 
* [`replace_16_1(self, value, offset)`](#Packing-replace_16_1-bytes16-bytes1-uint8-)
 
* [`extract_16_2(self, offset)`](#Packing-extract_16_2-bytes16-uint8-)
 
* [`replace_16_2(self, value, offset)`](#Packing-replace_16_2-bytes16-bytes2-uint8-)
 
* [`extract_16_4(self, offset)`](#Packing-extract_16_4-bytes16-uint8-)
 
* [`replace_16_4(self, value, offset)`](#Packing-replace_16_4-bytes16-bytes4-uint8-)
 
* [`extract_16_6(self, offset)`](#Packing-extract_16_6-bytes16-uint8-)
 
* [`replace_16_6(self, value, offset)`](#Packing-replace_16_6-bytes16-bytes6-uint8-)
 
* [`extract_16_8(self, offset)`](#Packing-extract_16_8-bytes16-uint8-)
 
* [`replace_16_8(self, value, offset)`](#Packing-replace_16_8-bytes16-bytes8-uint8-)
 
* [`extract_16_10(self, offset)`](#Packing-extract_16_10-bytes16-uint8-)
 
* [`replace_16_10(self, value, offset)`](#Packing-replace_16_10-bytes16-bytes10-uint8-)
 
* [`extract_16_12(self, offset)`](#Packing-extract_16_12-bytes16-uint8-)
 
* [`replace_16_12(self, value, offset)`](#Packing-replace_16_12-bytes16-bytes12-uint8-)
 
* [`extract_20_1(self, offset)`](#Packing-extract_20_1-bytes20-uint8-)
 
* [`replace_20_1(self, value, offset)`](#Packing-replace_20_1-bytes20-bytes1-uint8-)
 
* [`extract_20_2(self, offset)`](#Packing-extract_20_2-bytes20-uint8-)
 
* [`replace_20_2(self, value, offset)`](#Packing-replace_20_2-bytes20-bytes2-uint8-)
 
* [`extract_20_4(self, offset)`](#Packing-extract_20_4-bytes20-uint8-)
 
* [`replace_20_4(self, value, offset)`](#Packing-replace_20_4-bytes20-bytes4-uint8-)
 
* [`extract_20_6(self, offset)`](#Packing-extract_20_6-bytes20-uint8-)
 
* [`replace_20_6(self, value, offset)`](#Packing-replace_20_6-bytes20-bytes6-uint8-)
 
* [`extract_20_8(self, offset)`](#Packing-extract_20_8-bytes20-uint8-)
 
* [`replace_20_8(self, value, offset)`](#Packing-replace_20_8-bytes20-bytes8-uint8-)
 
* [`extract_20_10(self, offset)`](#Packing-extract_20_10-bytes20-uint8-)
 
* [`replace_20_10(self, value, offset)`](#Packing-replace_20_10-bytes20-bytes10-uint8-)
 
* [`extract_20_12(self, offset)`](#Packing-extract_20_12-bytes20-uint8-)
 
* [`replace_20_12(self, value, offset)`](#Packing-replace_20_12-bytes20-bytes12-uint8-)
 
* [`extract_20_16(self, offset)`](#Packing-extract_20_16-bytes20-uint8-)
 
* [`replace_20_16(self, value, offset)`](#Packing-replace_20_16-bytes20-bytes16-uint8-)
 
* [`extract_22_1(self, offset)`](#Packing-extract_22_1-bytes22-uint8-)
 
* [`replace_22_1(self, value, offset)`](#Packing-replace_22_1-bytes22-bytes1-uint8-)
 
* [`extract_22_2(self, offset)`](#Packing-extract_22_2-bytes22-uint8-)
 
* [`replace_22_2(self, value, offset)`](#Packing-replace_22_2-bytes22-bytes2-uint8-)
 
* [`extract_22_4(self, offset)`](#Packing-extract_22_4-bytes22-uint8-)
 
* [`replace_22_4(self, value, offset)`](#Packing-replace_22_4-bytes22-bytes4-uint8-)
 
* [`extract_22_6(self, offset)`](#Packing-extract_22_6-bytes22-uint8-)
 
* [`replace_22_6(self, value, offset)`](#Packing-replace_22_6-bytes22-bytes6-uint8-)
 
* [`extract_22_8(self, offset)`](#Packing-extract_22_8-bytes22-uint8-)
 
* [`replace_22_8(self, value, offset)`](#Packing-replace_22_8-bytes22-bytes8-uint8-)
 
* [`extract_22_10(self, offset)`](#Packing-extract_22_10-bytes22-uint8-)
 
* [`replace_22_10(self, value, offset)`](#Packing-replace_22_10-bytes22-bytes10-uint8-)
 
* [`extract_22_12(self, offset)`](#Packing-extract_22_12-bytes22-uint8-)
 
* [`replace_22_12(self, value, offset)`](#Packing-replace_22_12-bytes22-bytes12-uint8-)
 
* [`extract_22_16(self, offset)`](#Packing-extract_22_16-bytes22-uint8-)
 
* [`replace_22_16(self, value, offset)`](#Packing-replace_22_16-bytes22-bytes16-uint8-)
 
* [`extract_22_20(self, offset)`](#Packing-extract_22_20-bytes22-uint8-)
 
* [`replace_22_20(self, value, offset)`](#Packing-replace_22_20-bytes22-bytes20-uint8-)
 
* [`extract_24_1(self, offset)`](#Packing-extract_24_1-bytes24-uint8-)
 
* [`replace_24_1(self, value, offset)`](#Packing-replace_24_1-bytes24-bytes1-uint8-)
 
* [`extract_24_2(self, offset)`](#Packing-extract_24_2-bytes24-uint8-)
 
* [`replace_24_2(self, value, offset)`](#Packing-replace_24_2-bytes24-bytes2-uint8-)
 
* [`extract_24_4(self, offset)`](#Packing-extract_24_4-bytes24-uint8-)
 
* [`replace_24_4(self, value, offset)`](#Packing-replace_24_4-bytes24-bytes4-uint8-)
 
* [`extract_24_6(self, offset)`](#Packing-extract_24_6-bytes24-uint8-)
 
* [`replace_24_6(self, value, offset)`](#Packing-replace_24_6-bytes24-bytes6-uint8-)
 
* [`extract_24_8(self, offset)`](#Packing-extract_24_8-bytes24-uint8-)
 
* [`replace_24_8(self, value, offset)`](#Packing-replace_24_8-bytes24-bytes8-uint8-)
 
* [`extract_24_10(self, offset)`](#Packing-extract_24_10-bytes24-uint8-)
 
* [`replace_24_10(self, value, offset)`](#Packing-replace_24_10-bytes24-bytes10-uint8-)
 
* [`extract_24_12(self, offset)`](#Packing-extract_24_12-bytes24-uint8-)
 
* [`replace_24_12(self, value, offset)`](#Packing-replace_24_12-bytes24-bytes12-uint8-)
 
* [`extract_24_16(self, offset)`](#Packing-extract_24_16-bytes24-uint8-)
 
* [`replace_24_16(self, value, offset)`](#Packing-replace_24_16-bytes24-bytes16-uint8-)
 
* [`extract_24_20(self, offset)`](#Packing-extract_24_20-bytes24-uint8-)
 
* [`replace_24_20(self, value, offset)`](#Packing-replace_24_20-bytes24-bytes20-uint8-)
 
* [`extract_24_22(self, offset)`](#Packing-extract_24_22-bytes24-uint8-)
 
* [`replace_24_22(self, value, offset)`](#Packing-replace_24_22-bytes24-bytes22-uint8-)
 
* [`extract_28_1(self, offset)`](#Packing-extract_28_1-bytes28-uint8-)
 
* [`replace_28_1(self, value, offset)`](#Packing-replace_28_1-bytes28-bytes1-uint8-)
 
* [`extract_28_2(self, offset)`](#Packing-extract_28_2-bytes28-uint8-)
 
* [`replace_28_2(self, value, offset)`](#Packing-replace_28_2-bytes28-bytes2-uint8-)
 
* [`extract_28_4(self, offset)`](#Packing-extract_28_4-bytes28-uint8-)
 
* [`replace_28_4(self, value, offset)`](#Packing-replace_28_4-bytes28-bytes4-uint8-)
 
* [`extract_28_6(self, offset)`](#Packing-extract_28_6-bytes28-uint8-)
 
* [`replace_28_6(self, value, offset)`](#Packing-replace_28_6-bytes28-bytes6-uint8-)
 
* [`extract_28_8(self, offset)`](#Packing-extract_28_8-bytes28-uint8-)
 
* [`replace_28_8(self, value, offset)`](#Packing-replace_28_8-bytes28-bytes8-uint8-)
 
* [`extract_28_10(self, offset)`](#Packing-extract_28_10-bytes28-uint8-)
 
* [`replace_28_10(self, value, offset)`](#Packing-replace_28_10-bytes28-bytes10-uint8-)
 
* [`extract_28_12(self, offset)`](#Packing-extract_28_12-bytes28-uint8-)
 
* [`replace_28_12(self, value, offset)`](#Packing-replace_28_12-bytes28-bytes12-uint8-)
 
* [`extract_28_16(self, offset)`](#Packing-extract_28_16-bytes28-uint8-)
 
* [`replace_28_16(self, value, offset)`](#Packing-replace_28_16-bytes28-bytes16-uint8-)
 
* [`extract_28_20(self, offset)`](#Packing-extract_28_20-bytes28-uint8-)
 
* [`replace_28_20(self, value, offset)`](#Packing-replace_28_20-bytes28-bytes20-uint8-)
 
* [`extract_28_22(self, offset)`](#Packing-extract_28_22-bytes28-uint8-)
 
* [`replace_28_22(self, value, offset)`](#Packing-replace_28_22-bytes28-bytes22-uint8-)
 
* [`extract_28_24(self, offset)`](#Packing-extract_28_24-bytes28-uint8-)
 
* [`replace_28_24(self, value, offset)`](#Packing-replace_28_24-bytes28-bytes24-uint8-)
 
* [`extract_32_1(self, offset)`](#Packing-extract_32_1-bytes32-uint8-)
 
* [`replace_32_1(self, value, offset)`](#Packing-replace_32_1-bytes32-bytes1-uint8-)
 
* [`extract_32_2(self, offset)`](#Packing-extract_32_2-bytes32-uint8-)
 
* [`replace_32_2(self, value, offset)`](#Packing-replace_32_2-bytes32-bytes2-uint8-)
 
* [`extract_32_4(self, offset)`](#Packing-extract_32_4-bytes32-uint8-)
 
* [`replace_32_4(self, value, offset)`](#Packing-replace_32_4-bytes32-bytes4-uint8-)
 
* [`extract_32_6(self, offset)`](#Packing-extract_32_6-bytes32-uint8-)
 
* [`replace_32_6(self, value, offset)`](#Packing-replace_32_6-bytes32-bytes6-uint8-)
 
* [`extract_32_8(self, offset)`](#Packing-extract_32_8-bytes32-uint8-)
 
* [`replace_32_8(self, value, offset)`](#Packing-replace_32_8-bytes32-bytes8-uint8-)
 
* [`extract_32_10(self, offset)`](#Packing-extract_32_10-bytes32-uint8-)
 
* [`replace_32_10(self, value, offset)`](#Packing-replace_32_10-bytes32-bytes10-uint8-)
 
* [`extract_32_12(self, offset)`](#Packing-extract_32_12-bytes32-uint8-)
 
* [`replace_32_12(self, value, offset)`](#Packing-replace_32_12-bytes32-bytes12-uint8-)
 
* [`extract_32_16(self, offset)`](#Packing-extract_32_16-bytes32-uint8-)
 
* [`replace_32_16(self, value, offset)`](#Packing-replace_32_16-bytes32-bytes16-uint8-)
 
* [`extract_32_20(self, offset)`](#Packing-extract_32_20-bytes32-uint8-)
 
* [`replace_32_20(self, value, offset)`](#Packing-replace_32_20-bytes32-bytes20-uint8-)
 
* [`extract_32_22(self, offset)`](#Packing-extract_32_22-bytes32-uint8-)
 
* [`replace_32_22(self, value, offset)`](#Packing-replace_32_22-bytes32-bytes22-uint8-)
 
* [`extract_32_24(self, offset)`](#Packing-extract_32_24-bytes32-uint8-)
 
* [`replace_32_24(self, value, offset)`](#Packing-replace_32_24-bytes32-bytes24-uint8-)
 
* [`extract_32_28(self, offset)`](#Packing-extract_32_28-bytes32-uint8-)
 
* [`replace_32_28(self, value, offset)`](#Packing-replace_32_28-bytes32-bytes28-uint8-)
 
#### [](#Packing-pack_1_1-bytes1-bytes1-)`pack_1_1(bytes1 left, bytes1 right) → bytes2 result` internal
#### [](#Packing-pack_2_2-bytes2-bytes2-)`pack_2_2(bytes2 left, bytes2 right) → bytes4 result` internal
#### [](#Packing-pack_2_4-bytes2-bytes4-)`pack_2_4(bytes2 left, bytes4 right) → bytes6 result` internal
#### [](#Packing-pack_2_6-bytes2-bytes6-)`pack_2_6(bytes2 left, bytes6 right) → bytes8 result` internal
#### [](#Packing-pack_2_8-bytes2-bytes8-)`pack_2_8(bytes2 left, bytes8 right) → bytes10 result` internal
#### [](#Packing-pack_2_10-bytes2-bytes10-)`pack_2_10(bytes2 left, bytes10 right) → bytes12 result` internal
#### [](#Packing-pack_2_20-bytes2-bytes20-)`pack_2_20(bytes2 left, bytes20 right) → bytes22 result` internal
#### [](#Packing-pack_2_22-bytes2-bytes22-)`pack_2_22(bytes2 left, bytes22 right) → bytes24 result` internal
#### [](#Packing-pack_4_2-bytes4-bytes2-)`pack_4_2(bytes4 left, bytes2 right) → bytes6 result` internal
#### [](#Packing-pack_4_4-bytes4-bytes4-)`pack_4_4(bytes4 left, bytes4 right) → bytes8 result` internal
#### [](#Packing-pack_4_6-bytes4-bytes6-)`pack_4_6(bytes4 left, bytes6 right) → bytes10 result` internal
#### [](#Packing-pack_4_8-bytes4-bytes8-)`pack_4_8(bytes4 left, bytes8 right) → bytes12 result` internal
#### [](#Packing-pack_4_12-bytes4-bytes12-)`pack_4_12(bytes4 left, bytes12 right) → bytes16 result` internal
#### [](#Packing-pack_4_16-bytes4-bytes16-)`pack_4_16(bytes4 left, bytes16 right) → bytes20 result` internal
#### [](#Packing-pack_4_20-bytes4-bytes20-)`pack_4_20(bytes4 left, bytes20 right) → bytes24 result` internal
#### [](#Packing-pack_4_24-bytes4-bytes24-)`pack_4_24(bytes4 left, bytes24 right) → bytes28 result` internal
#### [](#Packing-pack_4_28-bytes4-bytes28-)`pack_4_28(bytes4 left, bytes28 right) → bytes32 result` internal
#### [](#Packing-pack_6_2-bytes6-bytes2-)`pack_6_2(bytes6 left, bytes2 right) → bytes8 result` internal
#### [](#Packing-pack_6_4-bytes6-bytes4-)`pack_6_4(bytes6 left, bytes4 right) → bytes10 result` internal
#### [](#Packing-pack_6_6-bytes6-bytes6-)`pack_6_6(bytes6 left, bytes6 right) → bytes12 result` internal
#### [](#Packing-pack_6_10-bytes6-bytes10-)`pack_6_10(bytes6 left, bytes10 right) → bytes16 result` internal
#### [](#Packing-pack_6_16-bytes6-bytes16-)`pack_6_16(bytes6 left, bytes16 right) → bytes22 result` internal
#### [](#Packing-pack_6_22-bytes6-bytes22-)`pack_6_22(bytes6 left, bytes22 right) → bytes28 result` internal
#### [](#Packing-pack_8_2-bytes8-bytes2-)`pack_8_2(bytes8 left, bytes2 right) → bytes10 result` internal
#### [](#Packing-pack_8_4-bytes8-bytes4-)`pack_8_4(bytes8 left, bytes4 right) → bytes12 result` internal
#### [](#Packing-pack_8_8-bytes8-bytes8-)`pack_8_8(bytes8 left, bytes8 right) → bytes16 result` internal
#### [](#Packing-pack_8_12-bytes8-bytes12-)`pack_8_12(bytes8 left, bytes12 right) → bytes20 result` internal
#### [](#Packing-pack_8_16-bytes8-bytes16-)`pack_8_16(bytes8 left, bytes16 right) → bytes24 result` internal
#### [](#Packing-pack_8_20-bytes8-bytes20-)`pack_8_20(bytes8 left, bytes20 right) → bytes28 result` internal
#### [](#Packing-pack_8_24-bytes8-bytes24-)`pack_8_24(bytes8 left, bytes24 right) → bytes32 result` internal
#### [](#Packing-pack_10_2-bytes10-bytes2-)`pack_10_2(bytes10 left, bytes2 right) → bytes12 result` internal
#### [](#Packing-pack_10_6-bytes10-bytes6-)`pack_10_6(bytes10 left, bytes6 right) → bytes16 result` internal
#### [](#Packing-pack_10_10-bytes10-bytes10-)`pack_10_10(bytes10 left, bytes10 right) → bytes20 result` internal
#### [](#Packing-pack_10_12-bytes10-bytes12-)`pack_10_12(bytes10 left, bytes12 right) → bytes22 result` internal
#### [](#Packing-pack_10_22-bytes10-bytes22-)`pack_10_22(bytes10 left, bytes22 right) → bytes32 result` internal
#### [](#Packing-pack_12_4-bytes12-bytes4-)`pack_12_4(bytes12 left, bytes4 right) → bytes16 result` internal
#### [](#Packing-pack_12_8-bytes12-bytes8-)`pack_12_8(bytes12 left, bytes8 right) → bytes20 result` internal
#### [](#Packing-pack_12_10-bytes12-bytes10-)`pack_12_10(bytes12 left, bytes10 right) → bytes22 result` internal
#### [](#Packing-pack_12_12-bytes12-bytes12-)`pack_12_12(bytes12 left, bytes12 right) → bytes24 result` internal
#### [](#Packing-pack_12_16-bytes12-bytes16-)`pack_12_16(bytes12 left, bytes16 right) → bytes28 result` internal
#### [](#Packing-pack_12_20-bytes12-bytes20-)`pack_12_20(bytes12 left, bytes20 right) → bytes32 result` internal
#### [](#Packing-pack_16_4-bytes16-bytes4-)`pack_16_4(bytes16 left, bytes4 right) → bytes20 result` internal
#### [](#Packing-pack_16_6-bytes16-bytes6-)`pack_16_6(bytes16 left, bytes6 right) → bytes22 result` internal
#### [](#Packing-pack_16_8-bytes16-bytes8-)`pack_16_8(bytes16 left, bytes8 right) → bytes24 result` internal
#### [](#Packing-pack_16_12-bytes16-bytes12-)`pack_16_12(bytes16 left, bytes12 right) → bytes28 result` internal
#### [](#Packing-pack_16_16-bytes16-bytes16-)`pack_16_16(bytes16 left, bytes16 right) → bytes32 result` internal
#### [](#Packing-pack_20_2-bytes20-bytes2-)`pack_20_2(bytes20 left, bytes2 right) → bytes22 result` internal
#### [](#Packing-pack_20_4-bytes20-bytes4-)`pack_20_4(bytes20 left, bytes4 right) → bytes24 result` internal
#### [](#Packing-pack_20_8-bytes20-bytes8-)`pack_20_8(bytes20 left, bytes8 right) → bytes28 result` internal
#### [](#Packing-pack_20_12-bytes20-bytes12-)`pack_20_12(bytes20 left, bytes12 right) → bytes32 result` internal
#### [](#Packing-pack_22_2-bytes22-bytes2-)`pack_22_2(bytes22 left, bytes2 right) → bytes24 result` internal
#### [](#Packing-pack_22_6-bytes22-bytes6-)`pack_22_6(bytes22 left, bytes6 right) → bytes28 result` internal
#### [](#Packing-pack_22_10-bytes22-bytes10-)`pack_22_10(bytes22 left, bytes10 right) → bytes32 result` internal
#### [](#Packing-pack_24_4-bytes24-bytes4-)`pack_24_4(bytes24 left, bytes4 right) → bytes28 result` internal
#### [](#Packing-pack_24_8-bytes24-bytes8-)`pack_24_8(bytes24 left, bytes8 right) → bytes32 result` internal
#### [](#Packing-pack_28_4-bytes28-bytes4-)`pack_28_4(bytes28 left, bytes4 right) → bytes32 result` internal
#### [](#Packing-replace_2_1-bytes2-bytes1-uint8-)`replace_2_1(bytes2 self, bytes1 value, uint8 offset) → bytes2 result` internal
#### [](#Packing-replace_4_1-bytes4-bytes1-uint8-)`replace_4_1(bytes4 self, bytes1 value, uint8 offset) → bytes4 result` internal
#### [](#Packing-replace_4_2-bytes4-bytes2-uint8-)`replace_4_2(bytes4 self, bytes2 value, uint8 offset) → bytes4 result` internal
#### [](#Packing-replace_6_1-bytes6-bytes1-uint8-)`replace_6_1(bytes6 self, bytes1 value, uint8 offset) → bytes6 result` internal
#### [](#Packing-replace_6_2-bytes6-bytes2-uint8-)`replace_6_2(bytes6 self, bytes2 value, uint8 offset) → bytes6 result` internal
#### [](#Packing-replace_6_4-bytes6-bytes4-uint8-)`replace_6_4(bytes6 self, bytes4 value, uint8 offset) → bytes6 result` internal
#### [](#Packing-replace_8_1-bytes8-bytes1-uint8-)`replace_8_1(bytes8 self, bytes1 value, uint8 offset) → bytes8 result` internal
#### [](#Packing-replace_8_2-bytes8-bytes2-uint8-)`replace_8_2(bytes8 self, bytes2 value, uint8 offset) → bytes8 result` internal
#### [](#Packing-replace_8_4-bytes8-bytes4-uint8-)`replace_8_4(bytes8 self, bytes4 value, uint8 offset) → bytes8 result` internal
#### [](#Packing-replace_8_6-bytes8-bytes6-uint8-)`replace_8_6(bytes8 self, bytes6 value, uint8 offset) → bytes8 result` internal
#### [](#Packing-replace_10_1-bytes10-bytes1-uint8-)`replace_10_1(bytes10 self, bytes1 value, uint8 offset) → bytes10 result` internal
#### [](#Packing-replace_10_2-bytes10-bytes2-uint8-)`replace_10_2(bytes10 self, bytes2 value, uint8 offset) → bytes10 result` internal
#### [](#Packing-replace_10_4-bytes10-bytes4-uint8-)`replace_10_4(bytes10 self, bytes4 value, uint8 offset) → bytes10 result` internal
#### [](#Packing-replace_10_6-bytes10-bytes6-uint8-)`replace_10_6(bytes10 self, bytes6 value, uint8 offset) → bytes10 result` internal
#### [](#Packing-replace_10_8-bytes10-bytes8-uint8-)`replace_10_8(bytes10 self, bytes8 value, uint8 offset) → bytes10 result` internal
#### [](#Packing-replace_12_1-bytes12-bytes1-uint8-)`replace_12_1(bytes12 self, bytes1 value, uint8 offset) → bytes12 result` internal
#### [](#Packing-replace_12_2-bytes12-bytes2-uint8-)`replace_12_2(bytes12 self, bytes2 value, uint8 offset) → bytes12 result` internal
#### [](#Packing-replace_12_4-bytes12-bytes4-uint8-)`replace_12_4(bytes12 self, bytes4 value, uint8 offset) → bytes12 result` internal
#### [](#Packing-replace_12_6-bytes12-bytes6-uint8-)`replace_12_6(bytes12 self, bytes6 value, uint8 offset) → bytes12 result` internal
#### [](#Packing-replace_12_8-bytes12-bytes8-uint8-)`replace_12_8(bytes12 self, bytes8 value, uint8 offset) → bytes12 result` internal
#### [](#Packing-replace_12_10-bytes12-bytes10-uint8-)`replace_12_10(bytes12 self, bytes10 value, uint8 offset) → bytes12 result` internal
#### [](#Packing-replace_16_1-bytes16-bytes1-uint8-)`replace_16_1(bytes16 self, bytes1 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_16_2-bytes16-bytes2-uint8-)`replace_16_2(bytes16 self, bytes2 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_16_4-bytes16-bytes4-uint8-)`replace_16_4(bytes16 self, bytes4 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_16_6-bytes16-bytes6-uint8-)`replace_16_6(bytes16 self, bytes6 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_16_8-bytes16-bytes8-uint8-)`replace_16_8(bytes16 self, bytes8 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_16_10-bytes16-bytes10-uint8-)`replace_16_10(bytes16 self, bytes10 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_16_12-bytes16-bytes12-uint8-)`replace_16_12(bytes16 self, bytes12 value, uint8 offset) → bytes16 result` internal
#### [](#Packing-replace_20_1-bytes20-bytes1-uint8-)`replace_20_1(bytes20 self, bytes1 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_2-bytes20-bytes2-uint8-)`replace_20_2(bytes20 self, bytes2 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_4-bytes20-bytes4-uint8-)`replace_20_4(bytes20 self, bytes4 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_6-bytes20-bytes6-uint8-)`replace_20_6(bytes20 self, bytes6 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_8-bytes20-bytes8-uint8-)`replace_20_8(bytes20 self, bytes8 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_10-bytes20-bytes10-uint8-)`replace_20_10(bytes20 self, bytes10 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_12-bytes20-bytes12-uint8-)`replace_20_12(bytes20 self, bytes12 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_20_16-bytes20-bytes16-uint8-)`replace_20_16(bytes20 self, bytes16 value, uint8 offset) → bytes20 result` internal
#### [](#Packing-replace_22_1-bytes22-bytes1-uint8-)`replace_22_1(bytes22 self, bytes1 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_2-bytes22-bytes2-uint8-)`replace_22_2(bytes22 self, bytes2 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_4-bytes22-bytes4-uint8-)`replace_22_4(bytes22 self, bytes4 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_6-bytes22-bytes6-uint8-)`replace_22_6(bytes22 self, bytes6 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_8-bytes22-bytes8-uint8-)`replace_22_8(bytes22 self, bytes8 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_10-bytes22-bytes10-uint8-)`replace_22_10(bytes22 self, bytes10 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_12-bytes22-bytes12-uint8-)`replace_22_12(bytes22 self, bytes12 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_16-bytes22-bytes16-uint8-)`replace_22_16(bytes22 self, bytes16 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_22_20-bytes22-bytes20-uint8-)`replace_22_20(bytes22 self, bytes20 value, uint8 offset) → bytes22 result` internal
#### [](#Packing-replace_24_1-bytes24-bytes1-uint8-)`replace_24_1(bytes24 self, bytes1 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_2-bytes24-bytes2-uint8-)`replace_24_2(bytes24 self, bytes2 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_4-bytes24-bytes4-uint8-)`replace_24_4(bytes24 self, bytes4 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_6-bytes24-bytes6-uint8-)`replace_24_6(bytes24 self, bytes6 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_8-bytes24-bytes8-uint8-)`replace_24_8(bytes24 self, bytes8 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_10-bytes24-bytes10-uint8-)`replace_24_10(bytes24 self, bytes10 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_12-bytes24-bytes12-uint8-)`replace_24_12(bytes24 self, bytes12 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_16-bytes24-bytes16-uint8-)`replace_24_16(bytes24 self, bytes16 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_20-bytes24-bytes20-uint8-)`replace_24_20(bytes24 self, bytes20 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_24_22-bytes24-bytes22-uint8-)`replace_24_22(bytes24 self, bytes22 value, uint8 offset) → bytes24 result` internal
#### [](#Packing-replace_28_1-bytes28-bytes1-uint8-)`replace_28_1(bytes28 self, bytes1 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_2-bytes28-bytes2-uint8-)`replace_28_2(bytes28 self, bytes2 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_4-bytes28-bytes4-uint8-)`replace_28_4(bytes28 self, bytes4 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_6-bytes28-bytes6-uint8-)`replace_28_6(bytes28 self, bytes6 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_8-bytes28-bytes8-uint8-)`replace_28_8(bytes28 self, bytes8 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_10-bytes28-bytes10-uint8-)`replace_28_10(bytes28 self, bytes10 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_12-bytes28-bytes12-uint8-)`replace_28_12(bytes28 self, bytes12 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_16-bytes28-bytes16-uint8-)`replace_28_16(bytes28 self, bytes16 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_20-bytes28-bytes20-uint8-)`replace_28_20(bytes28 self, bytes20 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_22-bytes28-bytes22-uint8-)`replace_28_22(bytes28 self, bytes22 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_28_24-bytes28-bytes24-uint8-)`replace_28_24(bytes28 self, bytes24 value, uint8 offset) → bytes28 result` internal
#### [](#Packing-replace_32_1-bytes32-bytes1-uint8-)`replace_32_1(bytes32 self, bytes1 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_2-bytes32-bytes2-uint8-)`replace_32_2(bytes32 self, bytes2 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_4-bytes32-bytes4-uint8-)`replace_32_4(bytes32 self, bytes4 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_6-bytes32-bytes6-uint8-)`replace_32_6(bytes32 self, bytes6 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_8-bytes32-bytes8-uint8-)`replace_32_8(bytes32 self, bytes8 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_10-bytes32-bytes10-uint8-)`replace_32_10(bytes32 self, bytes10 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_12-bytes32-bytes12-uint8-)`replace_32_12(bytes32 self, bytes12 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_16-bytes32-bytes16-uint8-)`replace_32_16(bytes32 self, bytes16 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_20-bytes32-bytes20-uint8-)`replace_32_20(bytes32 self, bytes20 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_22-bytes32-bytes22-uint8-)`replace_32_22(bytes32 self, bytes22 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_24-bytes32-bytes24-uint8-)`replace_32_24(bytes32 self, bytes24 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-replace_32_28-bytes32-bytes28-uint8-)`replace_32_28(bytes32 self, bytes28 value, uint8 offset) → bytes32 result` internal
#### [](#Packing-OutOfRangeAccess--)`OutOfRangeAccess()` error
### [](#Panic)`Panic`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Panic.sol)
 import "@openzeppelin/contracts/utils/Panic.sol";
Helper library for emitting standardized panic codes.
 contract Example {
 using Panic for uint256;
 
 // Use any of the declared internal constants
 function foo() { Panic.GENERIC.panic(); }
 
 // Alternatively
 function foo() { Panic.panic(Panic.GENERIC); }
 }
_Available since v5.1._
Internal Variables
* [`uint256 constant GENERIC`](#Panic-GENERIC-uint256)
 
* [`uint256 constant ASSERT`](#Panic-ASSERT-uint256)
 
* [`uint256 constant UNDER_OVERFLOW`](#Panic-UNDER_OVERFLOW-uint256)
 
* [`uint256 constant DIVISION_BY_ZERO`](#Panic-DIVISION_BY_ZERO-uint256)
 
* [`uint256 constant ENUM_CONVERSION_ERROR`](#Panic-ENUM_CONVERSION_ERROR-uint256)
 
* [`uint256 constant STORAGE_ENCODING_ERROR`](#Panic-STORAGE_ENCODING_ERROR-uint256)
 
* [`uint256 constant EMPTY_ARRAY_POP`](#Panic-EMPTY_ARRAY_POP-uint256)
 
* [`uint256 constant ARRAY_OUT_OF_BOUNDS`](#Panic-ARRAY_OUT_OF_BOUNDS-uint256)
 
* [`uint256 constant RESOURCE_ERROR`](#Panic-RESOURCE_ERROR-uint256)
 
* [`uint256 constant INVALID_INTERNAL_FUNCTION`](#Panic-INVALID_INTERNAL_FUNCTION-uint256)
 
#### [](#Panic-panic-uint256-)`panic(uint256 code)` internal
Reverts with a panic code. Recommended to use with the internal constants with predefined codes.
#### [](#Panic-GENERIC-uint256)`uint256 GENERIC` internal constant
generic / unspecified error
#### [](#Panic-ASSERT-uint256)`uint256 ASSERT` internal constant
used by the assert() builtin
#### [](#Panic-UNDER_OVERFLOW-uint256)`uint256 UNDER_OVERFLOW` internal constant
arithmetic underflow or overflow
#### [](#Panic-DIVISION_BY_ZERO-uint256)`uint256 DIVISION_BY_ZERO` internal constant
division or modulo by zero
#### [](#Panic-ENUM_CONVERSION_ERROR-uint256)`uint256 ENUM_CONVERSION_ERROR` internal constant
enum conversion error
#### [](#Panic-STORAGE_ENCODING_ERROR-uint256)`uint256 STORAGE_ENCODING_ERROR` internal constant
invalid encoding in storage
#### [](#Panic-EMPTY_ARRAY_POP-uint256)`uint256 EMPTY_ARRAY_POP` internal constant
empty array pop
#### [](#Panic-ARRAY_OUT_OF_BOUNDS-uint256)`uint256 ARRAY_OUT_OF_BOUNDS` internal constant
array out of bounds access
#### [](#Panic-RESOURCE_ERROR-uint256)`uint256 RESOURCE_ERROR` internal constant
resource error (too large allocation or too large array)
#### [](#Panic-INVALID_INTERNAL_FUNCTION-uint256)`uint256 INVALID_INTERNAL_FUNCTION` internal constant
calling invalid internal function
### [](#Comparators)`Comparators`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/Comparators.sol)
 import "@openzeppelin/contracts/utils/Comparators.sol";
Provides a set of functions to compare values.
_Available since v5.1._
Functions
* [`lt(a, b)`](#Comparators-lt-uint256-uint256-)
 
* [`gt(a, b)`](#Comparators-gt-uint256-uint256-)
 
#### [](#Comparators-lt-uint256-uint256-)`lt(uint256 a, uint256 b) → bool` internal
#### [](#Comparators-gt-uint256-uint256-)`gt(uint256 a, uint256 b) → bool` internal
### [](#CAIP2)`CAIP2`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/CAIP2.sol)
 import "@openzeppelin/contracts/utils/CAIP2.sol";
Helper library to format and parse CAIP-2 identifiers
[CAIP-2](https://github.com/ChainAgnostic/CAIPs/blob/main/CAIPs/caip-2.md) defines chain identifiers as: chain\_id: namespace + ":" + reference namespace: \[-a-z0-9\]{3,8} reference: \[-\_a-zA-Z0-9\]{1,32}
In some cases, multiple CAIP-2 identifiers may all be valid representation of a single chain. For EVM chains, it is recommended to use `eip155:xxx` as the canonical representation (where `xxx` is the EIP-155 chain id). Consider the possible ambiguity when processing CAIP-2 identifiers or when using them in the context of hashes.
#### [](#CAIP2-local--)`local() → string` internal
Return the CAIP-2 identifier for the current (local) chain.
#### [](#CAIP2-format-string-string-)`format(string namespace, string ref) → string` internal
Return the CAIP-2 identifier for a given namespace and reference.
This function does not verify that the inputs are properly formatted.
#### [](#CAIP2-parse-string-)`parse(string caip2) → string namespace, string ref` internal
Parse a CAIP-2 identifier into its components.
This function does not verify that the CAIP-2 input is properly formatted.
### [](#CAIP10)`CAIP10`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/utils/CAIP10.sol)
 import "@openzeppelin/contracts/utils/CAIP10.sol";
Helper library to format and parse CAIP-10 identifiers
[CAIP-10](https://github.com/ChainAgnostic/CAIPs/blob/main/CAIPs/caip-10.md) defines account identifiers as: account\_id: chain\_id + ":" + account\_address chain\_id: \[-a-z0-9\]{3,8}:\[-\_a-zA-Z0-9\]{1,32} (See [`CAIP2`](#CAIP2)) account\_address: \[-.%a-zA-Z0-9\]{1,128}
According to \[CAIP-10’s canonicalization section\]([https://github.com/ChainAgnostic/CAIPs/blob/main/CAIPs/caip-10.md#canonicalization](https://github.com/ChainAgnostic/CAIPs/blob/main/CAIPs/caip-10.md#canonicalization)), the implementation remains at the developer’s discretion. Please note that case variations may introduce ambiguity. For example, when building hashes to identify accounts or data associated to them, multiple representations of the same account would derive to different hashes. For EVM chains, we recommend using checksummed addresses for the "account\_address" part. They can be generated onchain using [`Strings.toChecksumHexString`](#Strings-toChecksumHexString-address-).
#### [](#CAIP10-local-address-)`local(address account) → string` internal
Return the CAIP-10 identifier for an account on the current (local) chain.
#### [](#CAIP10-format-string-string-)`format(string caip2, string account) → string` internal
Return the CAIP-10 identifier for a given caip2 chain and account.
This function does not verify that the inputs are properly formatted.
#### [](#CAIP10-parse-string-)`parse(string caip10) → string caip2, string account` internal
Parse a CAIP-10 identifier into its components.
This function does not verify that the CAIP-10 input is properly formatted. The `caip2` return can be parsed using the [`CAIP2`](#CAIP2) library.

# [Contracts Wizard - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/wizard) 
 _https://docs.openzeppelin.com/contracts/5.x/wizard_

Not sure where to start? Use the interactive generator below to bootstrap your contract and learn about the components offered in OpenZeppelin Contracts.
Place the resulting contract in your `contracts` or `src` directory in order to compile it with a tool like Hardhat or Foundry. Consider reading our guide on [Developing Smart Contracts](https://docs.openzeppelin.com/learn/developing-smart-contracts) for more guidance!
[← Overview](https://docs.openzeppelin.com/contracts/5.x/)
[Extending Contracts →](https://docs.openzeppelin.com/contracts/5.x/extending-contracts)

# [Access Control - OpenZeppelin Docs](https://docs.openzeppelin.com/contracts/5.x/api/access) 
 _https://docs.openzeppelin.com/contracts/5.x/api/access_

This directory provides ways to restrict who can access the functions of a contract or when they can do it.
* [`AccessManager`](#AccessManager) is a full-fledged access control solution for smart contract systems. Allows creating and assigning multiple hierarchical roles with execution delays for each account across various contracts.
 
* [`AccessManaged`](#AccessManaged) delegates its access control to an authority that dictates the permissions of the managed contract. It’s compatible with an AccessManager as an authority.
 
* [`AccessControl`](#AccessControl) provides a per-contract role based access control mechanism. Multiple hierarchical roles can be created and assigned each to multiple accounts within the same instance.
 
* [`Ownable`](#Ownable) is a simpler mechanism with a single owner "role" that can be assigned to a single account. This simpler mechanism can be useful for quick tests but projects with production concerns are likely to outgrow it.
 
## [](#core)Core
### [](#Ownable)`Ownable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/Ownable.sol)
 import "@openzeppelin/contracts/access/Ownable.sol";
Contract module which provides a basic access control mechanism, where there is an account (an owner) that can be granted exclusive access to specific functions.
The initial owner is set to the address provided by the deployer. This can later be changed with [`transferOwnership`](#Ownable-transferOwnership-address-).
This module is used through inheritance. It will make available the modifier `onlyOwner`, which can be applied to your functions to restrict their use to the owner.
Functions
* [`constructor(initialOwner)`](#Ownable-constructor-address-)
 
* [`owner()`](#Ownable-owner--)
 
* [`_checkOwner()`](#Ownable-_checkOwner--)
 
* [`renounceOwnership()`](#Ownable-renounceOwnership--)
 
* [`transferOwnership(newOwner)`](#Ownable-transferOwnership-address-)
 
* [`_transferOwnership(newOwner)`](#Ownable-_transferOwnership-address-)
 
#### [](#Ownable-onlyOwner--)`onlyOwner()` modifier
Throws if called by any account other than the owner.
#### [](#Ownable-constructor-address-)`constructor(address initialOwner)` internal
Initializes the contract setting the address provided by the deployer as the initial owner.
#### [](#Ownable-owner--)`owner() → address` public
Returns the address of the current owner.
#### [](#Ownable-_checkOwner--)`_checkOwner()` internal
Throws if the sender is not the owner.
#### [](#Ownable-renounceOwnership--)`renounceOwnership()` public
Leaves the contract without owner. It will not be possible to call `onlyOwner` functions. Can only be called by the current owner.
Renouncing ownership will leave the contract without an owner, thereby disabling any functionality that is only available to the owner.
#### [](#Ownable-transferOwnership-address-)`transferOwnership(address newOwner)` public
Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.
#### [](#Ownable-_transferOwnership-address-)`_transferOwnership(address newOwner)` internal
Transfers ownership of the contract to a new account (`newOwner`). Internal function without access restriction.
#### [](#Ownable-OwnershipTransferred-address-address-)`OwnershipTransferred(address indexed previousOwner, address indexed newOwner)` event
The caller account is not authorized to perform an operation.
#### [](#Ownable-OwnableInvalidOwner-address-)`OwnableInvalidOwner(address owner)` error
The owner is not a valid owner account. (eg. `address(0)`)
### [](#Ownable2Step)`Ownable2Step`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/Ownable2Step.sol)
 import "@openzeppelin/contracts/access/Ownable2Step.sol";
Contract module which provides access control mechanism, where there is an account (an owner) that can be granted exclusive access to specific functions.
This extension of the [`Ownable`](#Ownable) contract includes a two-step mechanism to transfer ownership, where the new owner must call [`acceptOwnership`](#Ownable2Step-acceptOwnership--) in order to replace the old one. This can help prevent common mistakes, such as transfers of ownership to incorrect accounts, or to contracts that are unable to interact with the permission system.
The initial owner is specified at deployment time in the constructor for `Ownable`. This can later be changed with [`transferOwnership`](#Ownable2Step-transferOwnership-address-) and [`acceptOwnership`](#Ownable2Step-acceptOwnership--).
This module is used through inheritance. It will make available all functions from parent (Ownable).
#### [](#Ownable2Step-pendingOwner--)`pendingOwner() → address` public
Returns the address of the pending owner.
#### [](#Ownable2Step-transferOwnership-address-)`transferOwnership(address newOwner)` public
Starts the ownership transfer of the contract to a new account. Replaces the pending transfer if there is one. Can only be called by the current owner.
Setting `newOwner` to the zero address is allowed; this can be used to cancel an initiated ownership transfer.
#### [](#Ownable2Step-_transferOwnership-address-)`_transferOwnership(address newOwner)` internal
Transfers ownership of the contract to a new account (`newOwner`) and deletes any pending owner. Internal function without access restriction.
#### [](#Ownable2Step-acceptOwnership--)`acceptOwnership()` public
The new owner accepts the ownership transfer.
#### [](#Ownable2Step-OwnershipTransferStarted-address-address-)`OwnershipTransferStarted(address indexed previousOwner, address indexed newOwner)` event
### [](#IAccessControl)`IAccessControl`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/IAccessControl.sol)
 import "@openzeppelin/contracts/access/IAccessControl.sol";
External interface of AccessControl declared to support ERC-165 detection.
Functions
* [`hasRole(role, account)`](#IAccessControl-hasRole-bytes32-address-)
 
* [`getRoleAdmin(role)`](#IAccessControl-getRoleAdmin-bytes32-)
 
* [`grantRole(role, account)`](#IAccessControl-grantRole-bytes32-address-)
 
* [`revokeRole(role, account)`](#IAccessControl-revokeRole-bytes32-address-)
 
* [`renounceRole(role, callerConfirmation)`](#IAccessControl-renounceRole-bytes32-address-)
 
Events
* [`RoleAdminChanged(role, previousAdminRole, newAdminRole)`](#IAccessControl-RoleAdminChanged-bytes32-bytes32-bytes32-)
 
* [`RoleGranted(role, account, sender)`](#IAccessControl-RoleGranted-bytes32-address-address-)
 
* [`RoleRevoked(role, account, sender)`](#IAccessControl-RoleRevoked-bytes32-address-address-)
 
Errors
* [`AccessControlUnauthorizedAccount(account, neededRole)`](#IAccessControl-AccessControlUnauthorizedAccount-address-bytes32-)
 
* [`AccessControlBadConfirmation()`](#IAccessControl-AccessControlBadConfirmation--)
 
#### [](#IAccessControl-hasRole-bytes32-address-)`hasRole(bytes32 role, address account) → bool` external
Returns `true` if `account` has been granted `role`.
#### [](#IAccessControl-getRoleAdmin-bytes32-)`getRoleAdmin(bytes32 role) → bytes32` external
Returns the admin role that controls `role`. See [`grantRole`](#IAccessControl-grantRole-bytes32-address-) and [`revokeRole`](#IAccessControl-revokeRole-bytes32-address-).
To change a role’s admin, use [`AccessControl._setRoleAdmin`](#AccessControl-_setRoleAdmin-bytes32-bytes32-).
#### [](#IAccessControl-grantRole-bytes32-address-)`grantRole(bytes32 role, address account)` external
Grants `role` to `account`.
If `account` had not been already granted `role`, emits a [`RoleGranted`](#IAccessControl-RoleGranted-bytes32-address-address-) event.
Requirements:
* the caller must have `role`'s admin role.
 
#### [](#IAccessControl-revokeRole-bytes32-address-)`revokeRole(bytes32 role, address account)` external
Revokes `role` from `account`.
If `account` had been granted `role`, emits a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
Requirements:
* the caller must have `role`'s admin role.
 
#### [](#IAccessControl-renounceRole-bytes32-address-)`renounceRole(bytes32 role, address callerConfirmation)` external
Revokes `role` from the calling account.
Roles are often managed via [`grantRole`](#IAccessControl-grantRole-bytes32-address-) and [`revokeRole`](#IAccessControl-revokeRole-bytes32-address-): this function’s purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced).
If the calling account had been granted `role`, emits a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
Requirements:
* the caller must be `callerConfirmation`.
 
#### [](#IAccessControl-RoleAdminChanged-bytes32-bytes32-bytes32-)`RoleAdminChanged(bytes32 indexed role, bytes32 indexed previousAdminRole, bytes32 indexed newAdminRole)` event
Emitted when `newAdminRole` is set as `role`'s admin role, replacing `previousAdminRole`
`DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite [`RoleAdminChanged`](#IAccessControl-RoleAdminChanged-bytes32-bytes32-bytes32-) not being emitted to signal this.
#### [](#IAccessControl-RoleGranted-bytes32-address-address-)`RoleGranted(bytes32 indexed role, address indexed account, address indexed sender)` event
Emitted when `account` is granted `role`.
`sender` is the account that originated the contract call. This account bears the admin role (for the granted role). Expected in cases where the role was granted using the internal [`AccessControl._grantRole`](#AccessControl-_grantRole-bytes32-address-).
#### [](#IAccessControl-RoleRevoked-bytes32-address-address-)`RoleRevoked(bytes32 indexed role, address indexed account, address indexed sender)` event
Emitted when `account` is revoked `role`.
`sender` is the account that originated the contract call: - if using `revokeRole`, it is the admin role bearer - if using `renounceRole`, it is the role bearer (i.e. `account`)
#### [](#IAccessControl-AccessControlUnauthorizedAccount-address-bytes32-)`AccessControlUnauthorizedAccount(address account, bytes32 neededRole)` error
The `account` is missing a role.
#### [](#IAccessControl-AccessControlBadConfirmation--)`AccessControlBadConfirmation()` error
The caller of a function is not the expected one.
Don’t confuse with [`AccessControlUnauthorizedAccount`](#IAccessControl-AccessControlUnauthorizedAccount-address-bytes32-).
### [](#AccessControl)`AccessControl`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/AccessControl.sol)
 import "@openzeppelin/contracts/access/AccessControl.sol";
Contract module that allows children to implement role-based access control mechanisms. This is a lightweight version that doesn’t allow enumerating role members except through off-chain means by accessing the contract event logs. Some applications may benefit from on-chain enumerability, for those cases see [`AccessControlEnumerable`](#AccessControlEnumerable).
Roles are referred to by their `bytes32` identifier. These should be exposed in the external API and be unique. The best way to achieve this is by using `public constant` hash digests:
 bytes32 public constant MY_ROLE = keccak256("MY_ROLE");
Roles can be used to represent a set of permissions. To restrict access to a function call, use [`hasRole`](#AccessControl-hasRole-bytes32-address-):
 function foo() public {
 require(hasRole(MY_ROLE, msg.sender));
 ...
 }
Roles can be granted and revoked dynamically via the [`grantRole`](#AccessControl-grantRole-bytes32-address-) and [`revokeRole`](#AccessControl-revokeRole-bytes32-address-) functions. Each role has an associated admin role, and only accounts that have a role’s admin role can call [`grantRole`](#AccessControl-grantRole-bytes32-address-) and [`revokeRole`](#AccessControl-revokeRole-bytes32-address-).
By default, the admin role for all roles is `DEFAULT_ADMIN_ROLE`, which means that only accounts with this role will be able to grant or revoke other roles. More complex role relationships can be created by using [`_setRoleAdmin`](#AccessControl-_setRoleAdmin-bytes32-bytes32-).
The `DEFAULT_ADMIN_ROLE` is also its own admin: it has permission to grant and revoke this role. Extra precautions should be taken to secure accounts that have been granted it. We recommend using [`AccessControlDefaultAdminRules`](#AccessControlDefaultAdminRules) to enforce additional security measures for this role.
Functions
* [`supportsInterface(interfaceId)`](#AccessControl-supportsInterface-bytes4-)
 
* [`hasRole(role, account)`](#AccessControl-hasRole-bytes32-address-)
 
* [`_checkRole(role)`](#AccessControl-_checkRole-bytes32-)
 
* [`_checkRole(role, account)`](#AccessControl-_checkRole-bytes32-address-)
 
* [`getRoleAdmin(role)`](#AccessControl-getRoleAdmin-bytes32-)
 
* [`grantRole(role, account)`](#AccessControl-grantRole-bytes32-address-)
 
* [`revokeRole(role, account)`](#AccessControl-revokeRole-bytes32-address-)
 
* [`renounceRole(role, callerConfirmation)`](#AccessControl-renounceRole-bytes32-address-)
 
* [`_setRoleAdmin(role, adminRole)`](#AccessControl-_setRoleAdmin-bytes32-bytes32-)
 
* [`_grantRole(role, account)`](#AccessControl-_grantRole-bytes32-address-)
 
* [`_revokeRole(role, account)`](#AccessControl-_revokeRole-bytes32-address-)
 
* [`DEFAULT_ADMIN_ROLE()`](#AccessControl-DEFAULT_ADMIN_ROLE-bytes32)
 
#### [](#AccessControl-onlyRole-bytes32-)`onlyRole(bytes32 role)` modifier
Modifier that checks that an account has a specific role. Reverts with an [`AccessControlUnauthorizedAccount`](#IAccessControl-AccessControlUnauthorizedAccount-address-bytes32-) error including the required role.
#### [](#AccessControl-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#AccessControl-hasRole-bytes32-address-)`hasRole(bytes32 role, address account) → bool` public
Returns `true` if `account` has been granted `role`.
#### [](#AccessControl-_checkRole-bytes32-)`_checkRole(bytes32 role)` internal
Reverts with an [`AccessControlUnauthorizedAccount`](#IAccessControl-AccessControlUnauthorizedAccount-address-bytes32-) error if `_msgSender()` is missing `role`. Overriding this function changes the behavior of the [`onlyRole`](#AccessControl-onlyRole-bytes32-) modifier.
#### [](#AccessControl-_checkRole-bytes32-address-)`_checkRole(bytes32 role, address account)` internal
Reverts with an [`AccessControlUnauthorizedAccount`](#IAccessControl-AccessControlUnauthorizedAccount-address-bytes32-) error if `account` is missing `role`.
#### [](#AccessControl-getRoleAdmin-bytes32-)`getRoleAdmin(bytes32 role) → bytes32` public
Returns the admin role that controls `role`. See [`grantRole`](#AccessControl-grantRole-bytes32-address-) and [`revokeRole`](#AccessControl-revokeRole-bytes32-address-).
To change a role’s admin, use [`_setRoleAdmin`](#AccessControl-_setRoleAdmin-bytes32-bytes32-).
#### [](#AccessControl-grantRole-bytes32-address-)`grantRole(bytes32 role, address account)` public
Grants `role` to `account`.
If `account` had not been already granted `role`, emits a [`RoleGranted`](#IAccessControl-RoleGranted-bytes32-address-address-) event.
Requirements:
* the caller must have `role`'s admin role.
 
May emit a [`RoleGranted`](#IAccessControl-RoleGranted-bytes32-address-address-) event.
#### [](#AccessControl-revokeRole-bytes32-address-)`revokeRole(bytes32 role, address account)` public
Revokes `role` from `account`.
If `account` had been granted `role`, emits a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
Requirements:
* the caller must have `role`'s admin role.
 
May emit a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
#### [](#AccessControl-renounceRole-bytes32-address-)`renounceRole(bytes32 role, address callerConfirmation)` public
Revokes `role` from the calling account.
Roles are often managed via [`grantRole`](#AccessControl-grantRole-bytes32-address-) and [`revokeRole`](#AccessControl-revokeRole-bytes32-address-): this function’s purpose is to provide a mechanism for accounts to lose their privileges if they are compromised (such as when a trusted device is misplaced).
If the calling account had been revoked `role`, emits a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
Requirements:
* the caller must be `callerConfirmation`.
 
May emit a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
#### [](#AccessControl-_setRoleAdmin-bytes32-bytes32-)`_setRoleAdmin(bytes32 role, bytes32 adminRole)` internal
Sets `adminRole` as `role`'s admin role.
Emits a [`RoleAdminChanged`](#IAccessControl-RoleAdminChanged-bytes32-bytes32-bytes32-) event.
#### [](#AccessControl-_grantRole-bytes32-address-)`_grantRole(bytes32 role, address account) → bool` internal
Attempts to grant `role` to `account` and returns a boolean indicating if `role` was granted.
Internal function without access restriction.
May emit a [`RoleGranted`](#IAccessControl-RoleGranted-bytes32-address-address-) event.
#### [](#AccessControl-_revokeRole-bytes32-address-)`_revokeRole(bytes32 role, address account) → bool` internal
Attempts to revoke `role` from `account` and returns a boolean indicating if `role` was revoked.
Internal function without access restriction.
May emit a [`RoleRevoked`](#IAccessControl-RoleRevoked-bytes32-address-address-) event.
#### [](#AccessControl-DEFAULT_ADMIN_ROLE-bytes32)`DEFAULT_ADMIN_ROLE() → bytes32` public
## [](#extensions)Extensions
### [](#IAccessControlEnumerable)`IAccessControlEnumerable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/extensions/IAccessControlEnumerable.sol)
 import "@openzeppelin/contracts/access/extensions/IAccessControlEnumerable.sol";
External interface of AccessControlEnumerable declared to support ERC-165 detection.
#### [](#IAccessControlEnumerable-getRoleMember-bytes32-uint256-)`getRoleMember(bytes32 role, uint256 index) → address` external
Returns one of the accounts that have `role`. `index` must be a value between 0 and [`getRoleMemberCount`](#IAccessControlEnumerable-getRoleMemberCount-bytes32-), non-inclusive.
Role bearers are not sorted in any particular way, and their ordering may change at any point.
When using [`getRoleMember`](#IAccessControlEnumerable-getRoleMember-bytes32-uint256-) and [`getRoleMemberCount`](#IAccessControlEnumerable-getRoleMemberCount-bytes32-), make sure you perform all queries on the same block. See the following [forum post](https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296) for more information.
#### [](#IAccessControlEnumerable-getRoleMemberCount-bytes32-)`getRoleMemberCount(bytes32 role) → uint256` external
Returns the number of accounts that have `role`. Can be used together with [`getRoleMember`](#IAccessControlEnumerable-getRoleMember-bytes32-uint256-) to enumerate all bearers of a role.
### [](#AccessControlEnumerable)`AccessControlEnumerable`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/extensions/AccessControlEnumerable.sol)
 import "@openzeppelin/contracts/access/extensions/AccessControlEnumerable.sol";
Extension of [`AccessControl`](#AccessControl) that allows enumerating the members of each role.
Functions
* [`supportsInterface(interfaceId)`](#AccessControlEnumerable-supportsInterface-bytes4-)
 
* [`getRoleMember(role, index)`](#AccessControlEnumerable-getRoleMember-bytes32-uint256-)
 
* [`getRoleMemberCount(role)`](#AccessControlEnumerable-getRoleMemberCount-bytes32-)
 
* [`getRoleMembers(role)`](#AccessControlEnumerable-getRoleMembers-bytes32-)
 
* [`_grantRole(role, account)`](#AccessControlEnumerable-_grantRole-bytes32-address-)
 
* [`_revokeRole(role, account)`](#AccessControlEnumerable-_revokeRole-bytes32-address-)
 
AccessControl
* [`hasRole(role, account)`](#AccessControl-hasRole-bytes32-address-)
 
* [`_checkRole(role)`](#AccessControl-_checkRole-bytes32-)
 
* [`_checkRole(role, account)`](#AccessControl-_checkRole-bytes32-address-)
 
* [`getRoleAdmin(role)`](#AccessControl-getRoleAdmin-bytes32-)
 
* [`grantRole(role, account)`](#AccessControl-grantRole-bytes32-address-)
 
* [`revokeRole(role, account)`](#AccessControl-revokeRole-bytes32-address-)
 
* [`renounceRole(role, callerConfirmation)`](#AccessControl-renounceRole-bytes32-address-)
 
* [`_setRoleAdmin(role, adminRole)`](#AccessControl-_setRoleAdmin-bytes32-bytes32-)
 
* [`DEFAULT_ADMIN_ROLE()`](#AccessControl-DEFAULT_ADMIN_ROLE-bytes32)
 
#### [](#AccessControlEnumerable-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#AccessControlEnumerable-getRoleMember-bytes32-uint256-)`getRoleMember(bytes32 role, uint256 index) → address` public
Returns one of the accounts that have `role`. `index` must be a value between 0 and [`getRoleMemberCount`](#AccessControlEnumerable-getRoleMemberCount-bytes32-), non-inclusive.
Role bearers are not sorted in any particular way, and their ordering may change at any point.
When using [`getRoleMember`](#AccessControlEnumerable-getRoleMember-bytes32-uint256-) and [`getRoleMemberCount`](#AccessControlEnumerable-getRoleMemberCount-bytes32-), make sure you perform all queries on the same block. See the following [forum post](https://forum.openzeppelin.com/t/iterating-over-elements-on-enumerableset-in-openzeppelin-contracts/2296) for more information.
#### [](#AccessControlEnumerable-getRoleMemberCount-bytes32-)`getRoleMemberCount(bytes32 role) → uint256` public
Returns the number of accounts that have `role`. Can be used together with [`getRoleMember`](#AccessControlEnumerable-getRoleMember-bytes32-uint256-) to enumerate all bearers of a role.
#### [](#AccessControlEnumerable-getRoleMembers-bytes32-)`getRoleMembers(bytes32 role) → address[]` public
Return all accounts that have `role`
This operation will copy the entire storage to memory, which can be quite expensive. This is designed to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that this function has an unbounded cost, and using it as part of a state-changing function may render the function uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.
#### [](#AccessControlEnumerable-_grantRole-bytes32-address-)`_grantRole(bytes32 role, address account) → bool` internal
Overload [`AccessControl._grantRole`](#AccessControl-_grantRole-bytes32-address-) to track enumerable memberships
#### [](#AccessControlEnumerable-_revokeRole-bytes32-address-)`_revokeRole(bytes32 role, address account) → bool` internal
Overload [`AccessControl._revokeRole`](#AccessControl-_revokeRole-bytes32-address-) to track enumerable memberships
### [](#IAccessControlDefaultAdminRules)`IAccessControlDefaultAdminRules`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/extensions/IAccessControlDefaultAdminRules.sol)
 import "@openzeppelin/contracts/access/extensions/IAccessControlDefaultAdminRules.sol";
External interface of AccessControlDefaultAdminRules declared to support ERC-165 detection.
Functions
* [`defaultAdmin()`](#IAccessControlDefaultAdminRules-defaultAdmin--)
 
* [`pendingDefaultAdmin()`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--)
 
* [`defaultAdminDelay()`](#IAccessControlDefaultAdminRules-defaultAdminDelay--)
 
* [`pendingDefaultAdminDelay()`](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--)
 
* [`beginDefaultAdminTransfer(newAdmin)`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-)
 
* [`cancelDefaultAdminTransfer()`](#IAccessControlDefaultAdminRules-cancelDefaultAdminTransfer--)
 
* [`acceptDefaultAdminTransfer()`](#IAccessControlDefaultAdminRules-acceptDefaultAdminTransfer--)
 
* [`changeDefaultAdminDelay(newDelay)`](#IAccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-)
 
* [`rollbackDefaultAdminDelay()`](#IAccessControlDefaultAdminRules-rollbackDefaultAdminDelay--)
 
* [`defaultAdminDelayIncreaseWait()`](#IAccessControlDefaultAdminRules-defaultAdminDelayIncreaseWait--)
 
Events
* [`DefaultAdminTransferScheduled(newAdmin, acceptSchedule)`](#IAccessControlDefaultAdminRules-DefaultAdminTransferScheduled-address-uint48-)
 
* [`DefaultAdminTransferCanceled()`](#IAccessControlDefaultAdminRules-DefaultAdminTransferCanceled--)
 
* [`DefaultAdminDelayChangeScheduled(newDelay, effectSchedule)`](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeScheduled-uint48-uint48-)
 
* [`DefaultAdminDelayChangeCanceled()`](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeCanceled--)
 
Errors
* [`AccessControlInvalidDefaultAdmin(defaultAdmin)`](#IAccessControlDefaultAdminRules-AccessControlInvalidDefaultAdmin-address-)
 
* [`AccessControlEnforcedDefaultAdminRules()`](#IAccessControlDefaultAdminRules-AccessControlEnforcedDefaultAdminRules--)
 
* [`AccessControlEnforcedDefaultAdminDelay(schedule)`](#IAccessControlDefaultAdminRules-AccessControlEnforcedDefaultAdminDelay-uint48-)
 
#### [](#IAccessControlDefaultAdminRules-defaultAdmin--)`defaultAdmin() → address` external
Returns the address of the current `DEFAULT_ADMIN_ROLE` holder.
#### [](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--)`pendingDefaultAdmin() → address newAdmin, uint48 acceptSchedule` external
Returns a tuple of a `newAdmin` and an accept schedule.
After the `schedule` passes, the `newAdmin` will be able to accept the [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) role by calling [`acceptDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-acceptDefaultAdminTransfer--), completing the role transfer.
A zero value only in `acceptSchedule` indicates no pending admin transfer.
A zero address `newAdmin` means that [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) is being renounced.
#### [](#IAccessControlDefaultAdminRules-defaultAdminDelay--)`defaultAdminDelay() → uint48` external
Returns the delay required to schedule the acceptance of a [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) transfer started.
This delay will be added to the current timestamp when calling [`beginDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) to set the acceptance schedule.
If a delay change has been scheduled, it will take effect as soon as the schedule passes, making this function returns the new delay. See [`changeDefaultAdminDelay`](#IAccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-).
#### [](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--)`pendingDefaultAdminDelay() → uint48 newDelay, uint48 effectSchedule` external
Returns a tuple of `newDelay` and an effect schedule.
After the `schedule` passes, the `newDelay` will get into effect immediately for every new [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) transfer started with [`beginDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-).
A zero value only in `effectSchedule` indicates no pending delay change.
A zero value only for `newDelay` means that the next [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) will be zero after the effect schedule.
#### [](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-)`beginDefaultAdminTransfer(address newAdmin)` external
Starts a [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) transfer by setting a [`pendingDefaultAdmin`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--) scheduled for acceptance after the current timestamp plus a [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--).
Requirements:
* Only can be called by the current [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--).
 
Emits a DefaultAdminRoleChangeStarted event.
#### [](#IAccessControlDefaultAdminRules-cancelDefaultAdminTransfer--)`cancelDefaultAdminTransfer()` external
Cancels a [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) transfer previously started with [`beginDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-).
A [`pendingDefaultAdmin`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--) not yet accepted can also be cancelled with this function.
Requirements:
* Only can be called by the current [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--).
 
May emit a DefaultAdminTransferCanceled event.
#### [](#IAccessControlDefaultAdminRules-acceptDefaultAdminTransfer--)`acceptDefaultAdminTransfer()` external
Completes a [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) transfer previously started with [`beginDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-).
After calling the function:
* `DEFAULT_ADMIN_ROLE` should be granted to the caller.
 
* `DEFAULT_ADMIN_ROLE` should be revoked from the previous holder.
 
* [`pendingDefaultAdmin`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--) should be reset to zero values.
 
Requirements:
* Only can be called by the [`pendingDefaultAdmin`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--)'s `newAdmin`.
 
* The [`pendingDefaultAdmin`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--)'s `acceptSchedule` should’ve passed.
 
#### [](#IAccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-)`changeDefaultAdminDelay(uint48 newDelay)` external
Initiates a [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) update by setting a [`pendingDefaultAdminDelay`](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--) scheduled for getting into effect after the current timestamp plus a [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--).
This function guarantees that any call to [`beginDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) done between the timestamp this method is called and the [`pendingDefaultAdminDelay`](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--) effect schedule will use the current [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) set before calling.
The [`pendingDefaultAdminDelay`](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--)'s effect schedule is defined in a way that waiting until the schedule and then calling [`beginDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) with the new delay will take at least the same as another [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) complete transfer (including acceptance).
The schedule is designed for two scenarios:
* When the delay is changed for a larger one the schedule is `block.timestamp + newDelay` capped by [`defaultAdminDelayIncreaseWait`](#IAccessControlDefaultAdminRules-defaultAdminDelayIncreaseWait--).
 
* When the delay is changed for a shorter one, the schedule is `block.timestamp + (current delay - new delay)`.
 
A [`pendingDefaultAdminDelay`](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--) that never got into effect will be canceled in favor of a new scheduled change.
Requirements:
* Only can be called by the current [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--).
 
Emits a DefaultAdminDelayChangeScheduled event and may emit a DefaultAdminDelayChangeCanceled event.
#### [](#IAccessControlDefaultAdminRules-rollbackDefaultAdminDelay--)`rollbackDefaultAdminDelay()` external
Cancels a scheduled [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) change.
Requirements:
* Only can be called by the current [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--).
 
May emit a DefaultAdminDelayChangeCanceled event.
#### [](#IAccessControlDefaultAdminRules-defaultAdminDelayIncreaseWait--)`defaultAdminDelayIncreaseWait() → uint48` external
Maximum time in seconds for an increase to [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) (that is scheduled using [`changeDefaultAdminDelay`](#IAccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-)) to take effect. Default to 5 days.
When the [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) is scheduled to be increased, it goes into effect after the new delay has passed with the purpose of giving enough time for reverting any accidental change (i.e. using milliseconds instead of seconds) that may lock the contract. However, to avoid excessive schedules, the wait is capped by this function and it can be overrode for a custom [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) increase scheduling.
Make sure to add a reasonable amount of time while overriding this value, otherwise, there’s a risk of setting a high new delay that goes into effect almost immediately without the possibility of human intervention in the case of an input error (eg. set milliseconds instead of seconds).
#### [](#IAccessControlDefaultAdminRules-DefaultAdminTransferScheduled-address-uint48-)`DefaultAdminTransferScheduled(address indexed newAdmin, uint48 acceptSchedule)` event
Emitted when a [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) transfer is started, setting `newAdmin` as the next address to become the [`defaultAdmin`](#IAccessControlDefaultAdminRules-defaultAdmin--) by calling [`acceptDefaultAdminTransfer`](#IAccessControlDefaultAdminRules-acceptDefaultAdminTransfer--) only after `acceptSchedule` passes.
#### [](#IAccessControlDefaultAdminRules-DefaultAdminTransferCanceled--)`DefaultAdminTransferCanceled()` event
Emitted when a [`pendingDefaultAdmin`](#IAccessControlDefaultAdminRules-pendingDefaultAdmin--) is reset if it was never accepted, regardless of its schedule.
#### [](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeScheduled-uint48-uint48-)`DefaultAdminDelayChangeScheduled(uint48 newDelay, uint48 effectSchedule)` event
Emitted when a [`defaultAdminDelay`](#IAccessControlDefaultAdminRules-defaultAdminDelay--) change is started, setting `newDelay` as the next delay to be applied between default admin transfer after `effectSchedule` has passed.
#### [](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeCanceled--)`DefaultAdminDelayChangeCanceled()` event
Emitted when a [`pendingDefaultAdminDelay`](#IAccessControlDefaultAdminRules-pendingDefaultAdminDelay--) is reset if its schedule didn’t pass.
#### [](#IAccessControlDefaultAdminRules-AccessControlInvalidDefaultAdmin-address-)`AccessControlInvalidDefaultAdmin(address defaultAdmin)` error
The new default admin is not a valid default admin.
#### [](#IAccessControlDefaultAdminRules-AccessControlEnforcedDefaultAdminRules--)`AccessControlEnforcedDefaultAdminRules()` error
At least one of the following rules was violated:
* The `DEFAULT_ADMIN_ROLE` must only be managed by itself.
 
* The `DEFAULT_ADMIN_ROLE` must only be held by one account at the time.
 
* Any `DEFAULT_ADMIN_ROLE` transfer must be in two delayed steps.
 
#### [](#IAccessControlDefaultAdminRules-AccessControlEnforcedDefaultAdminDelay-uint48-)`AccessControlEnforcedDefaultAdminDelay(uint48 schedule)` error
The delay for transferring the default admin delay is enforced and the operation must wait until `schedule`.
`schedule` can be 0 indicating there’s no transfer scheduled.
### [](#AccessControlDefaultAdminRules)`AccessControlDefaultAdminRules`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/extensions/AccessControlDefaultAdminRules.sol)
 import "@openzeppelin/contracts/access/extensions/AccessControlDefaultAdminRules.sol";
Extension of [`AccessControl`](#AccessControl) that allows specifying special rules to manage the `DEFAULT_ADMIN_ROLE` holder, which is a sensitive role with special permissions over other roles that may potentially have privileged rights in the system.
If a specific role doesn’t have an admin role assigned, the holder of the `DEFAULT_ADMIN_ROLE` will have the ability to grant it and revoke it.
This contract implements the following risk mitigations on top of [`AccessControl`](#AccessControl):
* Only one account holds the `DEFAULT_ADMIN_ROLE` since deployment until it’s potentially renounced.
 
* Enforces a 2-step process to transfer the `DEFAULT_ADMIN_ROLE` to another account.
 
* Enforces a configurable delay between the two steps, with the ability to cancel before the transfer is accepted.
 
* The delay can be changed by scheduling, see [`changeDefaultAdminDelay`](#AccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-).
 
* It is not possible to use another role to manage the `DEFAULT_ADMIN_ROLE`.
 
Example usage:
 contract MyToken is AccessControlDefaultAdminRules {
 constructor() AccessControlDefaultAdminRules(
 3 days,
 msg.sender // Explicit initial `DEFAULT_ADMIN_ROLE` holder
 ) {}
 }
Functions
* [`constructor(initialDelay, initialDefaultAdmin)`](#AccessControlDefaultAdminRules-constructor-uint48-address-)
 
* [`supportsInterface(interfaceId)`](#AccessControlDefaultAdminRules-supportsInterface-bytes4-)
 
* [`owner()`](#AccessControlDefaultAdminRules-owner--)
 
* [`grantRole(role, account)`](#AccessControlDefaultAdminRules-grantRole-bytes32-address-)
 
* [`revokeRole(role, account)`](#AccessControlDefaultAdminRules-revokeRole-bytes32-address-)
 
* [`renounceRole(role, account)`](#AccessControlDefaultAdminRules-renounceRole-bytes32-address-)
 
* [`_grantRole(role, account)`](#AccessControlDefaultAdminRules-_grantRole-bytes32-address-)
 
* [`_revokeRole(role, account)`](#AccessControlDefaultAdminRules-_revokeRole-bytes32-address-)
 
* [`_setRoleAdmin(role, adminRole)`](#AccessControlDefaultAdminRules-_setRoleAdmin-bytes32-bytes32-)
 
* [`defaultAdmin()`](#AccessControlDefaultAdminRules-defaultAdmin--)
 
* [`pendingDefaultAdmin()`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--)
 
* [`defaultAdminDelay()`](#AccessControlDefaultAdminRules-defaultAdminDelay--)
 
* [`pendingDefaultAdminDelay()`](#AccessControlDefaultAdminRules-pendingDefaultAdminDelay--)
 
* [`defaultAdminDelayIncreaseWait()`](#AccessControlDefaultAdminRules-defaultAdminDelayIncreaseWait--)
 
* [`beginDefaultAdminTransfer(newAdmin)`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-)
 
* [`_beginDefaultAdminTransfer(newAdmin)`](#AccessControlDefaultAdminRules-_beginDefaultAdminTransfer-address-)
 
* [`cancelDefaultAdminTransfer()`](#AccessControlDefaultAdminRules-cancelDefaultAdminTransfer--)
 
* [`_cancelDefaultAdminTransfer()`](#AccessControlDefaultAdminRules-_cancelDefaultAdminTransfer--)
 
* [`acceptDefaultAdminTransfer()`](#AccessControlDefaultAdminRules-acceptDefaultAdminTransfer--)
 
* [`_acceptDefaultAdminTransfer()`](#AccessControlDefaultAdminRules-_acceptDefaultAdminTransfer--)
 
* [`changeDefaultAdminDelay(newDelay)`](#AccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-)
 
* [`_changeDefaultAdminDelay(newDelay)`](#AccessControlDefaultAdminRules-_changeDefaultAdminDelay-uint48-)
 
* [`rollbackDefaultAdminDelay()`](#AccessControlDefaultAdminRules-rollbackDefaultAdminDelay--)
 
* [`_rollbackDefaultAdminDelay()`](#AccessControlDefaultAdminRules-_rollbackDefaultAdminDelay--)
 
* [`_delayChangeWait(newDelay)`](#AccessControlDefaultAdminRules-_delayChangeWait-uint48-)
 
#### [](#AccessControlDefaultAdminRules-constructor-uint48-address-)`constructor(uint48 initialDelay, address initialDefaultAdmin)` internal
Sets the initial values for [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) and [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) address.
#### [](#AccessControlDefaultAdminRules-supportsInterface-bytes4-)`supportsInterface(bytes4 interfaceId) → bool` public
#### [](#AccessControlDefaultAdminRules-owner--)`owner() → address` public
#### [](#AccessControlDefaultAdminRules-grantRole-bytes32-address-)`grantRole(bytes32 role, address account)` public
See [`AccessControl.grantRole`](#AccessControl-grantRole-bytes32-address-). Reverts for `DEFAULT_ADMIN_ROLE`.
#### [](#AccessControlDefaultAdminRules-revokeRole-bytes32-address-)`revokeRole(bytes32 role, address account)` public
See [`AccessControl.revokeRole`](#AccessControl-revokeRole-bytes32-address-). Reverts for `DEFAULT_ADMIN_ROLE`.
#### [](#AccessControlDefaultAdminRules-renounceRole-bytes32-address-)`renounceRole(bytes32 role, address account)` public
For the `DEFAULT_ADMIN_ROLE`, it only allows renouncing in two steps by first calling [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) to the `address(0)`, so it’s required that the [`pendingDefaultAdmin`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--) schedule has also passed when calling this function.
After its execution, it will not be possible to call `onlyRole(DEFAULT_ADMIN_ROLE)` functions.
Renouncing `DEFAULT_ADMIN_ROLE` will leave the contract without a [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--), thereby disabling any functionality that is only available for it, and the possibility of reassigning a non-administrated role.
#### [](#AccessControlDefaultAdminRules-_grantRole-bytes32-address-)`_grantRole(bytes32 role, address account) → bool` internal
See [`AccessControl._grantRole`](#AccessControl-_grantRole-bytes32-address-).
For `DEFAULT_ADMIN_ROLE`, it only allows granting if there isn’t already a [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) or if the role has been previously renounced.
Exposing this function through another mechanism may make the `DEFAULT_ADMIN_ROLE` assignable again. Make sure to guarantee this is the expected behavior in your implementation.
#### [](#AccessControlDefaultAdminRules-_revokeRole-bytes32-address-)`_revokeRole(bytes32 role, address account) → bool` internal
#### [](#AccessControlDefaultAdminRules-_setRoleAdmin-bytes32-bytes32-)`_setRoleAdmin(bytes32 role, bytes32 adminRole)` internal
See [`AccessControl._setRoleAdmin`](#AccessControl-_setRoleAdmin-bytes32-bytes32-). Reverts for `DEFAULT_ADMIN_ROLE`.
#### [](#AccessControlDefaultAdminRules-defaultAdmin--)`defaultAdmin() → address` public
Returns the address of the current `DEFAULT_ADMIN_ROLE` holder.
#### [](#AccessControlDefaultAdminRules-pendingDefaultAdmin--)`pendingDefaultAdmin() → address newAdmin, uint48 schedule` public
Returns a tuple of a `newAdmin` and an accept schedule.
After the `schedule` passes, the `newAdmin` will be able to accept the [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) role by calling [`acceptDefaultAdminTransfer`](#AccessControlDefaultAdminRules-acceptDefaultAdminTransfer--), completing the role transfer.
A zero value only in `acceptSchedule` indicates no pending admin transfer.
A zero address `newAdmin` means that [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) is being renounced.
#### [](#AccessControlDefaultAdminRules-defaultAdminDelay--)`defaultAdminDelay() → uint48` public
Returns the delay required to schedule the acceptance of a [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) transfer started.
This delay will be added to the current timestamp when calling [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) to set the acceptance schedule.
If a delay change has been scheduled, it will take effect as soon as the schedule passes, making this function returns the new delay. See [`changeDefaultAdminDelay`](#AccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-).
#### [](#AccessControlDefaultAdminRules-pendingDefaultAdminDelay--)`pendingDefaultAdminDelay() → uint48 newDelay, uint48 schedule` public
Returns a tuple of `newDelay` and an effect schedule.
After the `schedule` passes, the `newDelay` will get into effect immediately for every new [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) transfer started with [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-).
A zero value only in `effectSchedule` indicates no pending delay change.
A zero value only for `newDelay` means that the next [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) will be zero after the effect schedule.
#### [](#AccessControlDefaultAdminRules-defaultAdminDelayIncreaseWait--)`defaultAdminDelayIncreaseWait() → uint48` public
Maximum time in seconds for an increase to [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) (that is scheduled using [`changeDefaultAdminDelay`](#AccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-)) to take effect. Default to 5 days.
When the [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) is scheduled to be increased, it goes into effect after the new delay has passed with the purpose of giving enough time for reverting any accidental change (i.e. using milliseconds instead of seconds) that may lock the contract. However, to avoid excessive schedules, the wait is capped by this function and it can be overrode for a custom [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) increase scheduling.
Make sure to add a reasonable amount of time while overriding this value, otherwise, there’s a risk of setting a high new delay that goes into effect almost immediately without the possibility of human intervention in the case of an input error (eg. set milliseconds instead of seconds).
#### [](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-)`beginDefaultAdminTransfer(address newAdmin)` public
Starts a [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) transfer by setting a [`pendingDefaultAdmin`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--) scheduled for acceptance after the current timestamp plus a [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--).
Requirements:
* Only can be called by the current [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--).
 
Emits a DefaultAdminRoleChangeStarted event.
#### [](#AccessControlDefaultAdminRules-_beginDefaultAdminTransfer-address-)`_beginDefaultAdminTransfer(address newAdmin)` internal
Internal function without access restriction.
#### [](#AccessControlDefaultAdminRules-cancelDefaultAdminTransfer--)`cancelDefaultAdminTransfer()` public
Cancels a [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) transfer previously started with [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-).
A [`pendingDefaultAdmin`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--) not yet accepted can also be cancelled with this function.
Requirements:
* Only can be called by the current [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--).
 
May emit a DefaultAdminTransferCanceled event.
#### [](#AccessControlDefaultAdminRules-_cancelDefaultAdminTransfer--)`_cancelDefaultAdminTransfer()` internal
Internal function without access restriction.
#### [](#AccessControlDefaultAdminRules-acceptDefaultAdminTransfer--)`acceptDefaultAdminTransfer()` public
Completes a [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) transfer previously started with [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-).
After calling the function:
* `DEFAULT_ADMIN_ROLE` should be granted to the caller.
 
* `DEFAULT_ADMIN_ROLE` should be revoked from the previous holder.
 
* [`pendingDefaultAdmin`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--) should be reset to zero values.
 
Requirements:
* Only can be called by the [`pendingDefaultAdmin`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--)'s `newAdmin`.
 
* The [`pendingDefaultAdmin`](#AccessControlDefaultAdminRules-pendingDefaultAdmin--)'s `acceptSchedule` should’ve passed.
 
#### [](#AccessControlDefaultAdminRules-_acceptDefaultAdminTransfer--)`_acceptDefaultAdminTransfer()` internal
Internal function without access restriction.
#### [](#AccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-)`changeDefaultAdminDelay(uint48 newDelay)` public
Initiates a [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) update by setting a [`pendingDefaultAdminDelay`](#AccessControlDefaultAdminRules-pendingDefaultAdminDelay--) scheduled for getting into effect after the current timestamp plus a [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--).
This function guarantees that any call to [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) done between the timestamp this method is called and the [`pendingDefaultAdminDelay`](#AccessControlDefaultAdminRules-pendingDefaultAdminDelay--) effect schedule will use the current [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) set before calling.
The [`pendingDefaultAdminDelay`](#AccessControlDefaultAdminRules-pendingDefaultAdminDelay--)'s effect schedule is defined in a way that waiting until the schedule and then calling [`beginDefaultAdminTransfer`](#AccessControlDefaultAdminRules-beginDefaultAdminTransfer-address-) with the new delay will take at least the same as another [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--) complete transfer (including acceptance).
The schedule is designed for two scenarios:
* When the delay is changed for a larger one the schedule is `block.timestamp + newDelay` capped by [`defaultAdminDelayIncreaseWait`](#AccessControlDefaultAdminRules-defaultAdminDelayIncreaseWait--).
 
* When the delay is changed for a shorter one, the schedule is `block.timestamp + (current delay - new delay)`.
 
A [`pendingDefaultAdminDelay`](#AccessControlDefaultAdminRules-pendingDefaultAdminDelay--) that never got into effect will be canceled in favor of a new scheduled change.
Requirements:
* Only can be called by the current [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--).
 
Emits a DefaultAdminDelayChangeScheduled event and may emit a DefaultAdminDelayChangeCanceled event.
#### [](#AccessControlDefaultAdminRules-_changeDefaultAdminDelay-uint48-)`_changeDefaultAdminDelay(uint48 newDelay)` internal
See [`changeDefaultAdminDelay`](#AccessControlDefaultAdminRules-changeDefaultAdminDelay-uint48-).
Internal function without access restriction.
#### [](#AccessControlDefaultAdminRules-rollbackDefaultAdminDelay--)`rollbackDefaultAdminDelay()` public
Cancels a scheduled [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--) change.
Requirements:
* Only can be called by the current [`defaultAdmin`](#AccessControlDefaultAdminRules-defaultAdmin--).
 
May emit a DefaultAdminDelayChangeCanceled event.
#### [](#AccessControlDefaultAdminRules-_rollbackDefaultAdminDelay--)`_rollbackDefaultAdminDelay()` internal
Internal function without access restriction.
#### [](#AccessControlDefaultAdminRules-_delayChangeWait-uint48-)`_delayChangeWait(uint48 newDelay) → uint48` internal
Returns the amount of seconds to wait after the `newDelay` will become the new [`defaultAdminDelay`](#AccessControlDefaultAdminRules-defaultAdminDelay--).
The value returned guarantees that if the delay is reduced, it will go into effect after a wait that honors the previously set delay.
## [](#accessmanager)AccessManager
### [](#IAuthority)`IAuthority`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/manager/IAuthority.sol)
 import "@openzeppelin/contracts/access/manager/IAuthority.sol";
Standard interface for permissioning originally defined in Dappsys.
#### [](#IAuthority-canCall-address-address-bytes4-)`canCall(address caller, address target, bytes4 selector) → bool allowed` external
Returns true if the caller can invoke on a target the function identified by a function selector.
### [](#IAccessManager)`IAccessManager`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/manager/IAccessManager.sol)
 import "@openzeppelin/contracts/access/manager/IAccessManager.sol";
Functions
* [`canCall(caller, target, selector)`](#IAccessManager-canCall-address-address-bytes4-)
 
* [`expiration()`](#IAccessManager-expiration--)
 
* [`minSetback()`](#IAccessManager-minSetback--)
 
* [`isTargetClosed(target)`](#IAccessManager-isTargetClosed-address-)
 
* [`getTargetFunctionRole(target, selector)`](#IAccessManager-getTargetFunctionRole-address-bytes4-)
 
* [`getTargetAdminDelay(target)`](#IAccessManager-getTargetAdminDelay-address-)
 
* [`getRoleAdmin(roleId)`](#IAccessManager-getRoleAdmin-uint64-)
 
* [`getRoleGuardian(roleId)`](#IAccessManager-getRoleGuardian-uint64-)
 
* [`getRoleGrantDelay(roleId)`](#IAccessManager-getRoleGrantDelay-uint64-)
 
* [`getAccess(roleId, account)`](#IAccessManager-getAccess-uint64-address-)
 
* [`hasRole(roleId, account)`](#IAccessManager-hasRole-uint64-address-)
 
* [`labelRole(roleId, label)`](#IAccessManager-labelRole-uint64-string-)
 
* [`grantRole(roleId, account, executionDelay)`](#IAccessManager-grantRole-uint64-address-uint32-)
 
* [`revokeRole(roleId, account)`](#IAccessManager-revokeRole-uint64-address-)
 
* [`renounceRole(roleId, callerConfirmation)`](#IAccessManager-renounceRole-uint64-address-)
 
* [`setRoleAdmin(roleId, admin)`](#IAccessManager-setRoleAdmin-uint64-uint64-)
 
* [`setRoleGuardian(roleId, guardian)`](#IAccessManager-setRoleGuardian-uint64-uint64-)
 
* [`setGrantDelay(roleId, newDelay)`](#IAccessManager-setGrantDelay-uint64-uint32-)
 
* [`setTargetFunctionRole(target, selectors, roleId)`](#IAccessManager-setTargetFunctionRole-address-bytes4---uint64-)
 
* [`setTargetAdminDelay(target, newDelay)`](#IAccessManager-setTargetAdminDelay-address-uint32-)
 
* [`setTargetClosed(target, closed)`](#IAccessManager-setTargetClosed-address-bool-)
 
* [`getSchedule(id)`](#IAccessManager-getSchedule-bytes32-)
 
* [`getNonce(id)`](#IAccessManager-getNonce-bytes32-)
 
* [`schedule(target, data, when)`](#IAccessManager-schedule-address-bytes-uint48-)
 
* [`execute(target, data)`](#IAccessManager-execute-address-bytes-)
 
* [`cancel(caller, target, data)`](#IAccessManager-cancel-address-address-bytes-)
 
* [`consumeScheduledOp(caller, data)`](#IAccessManager-consumeScheduledOp-address-bytes-)
 
* [`hashOperation(caller, target, data)`](#IAccessManager-hashOperation-address-address-bytes-)
 
* [`updateAuthority(target, newAuthority)`](#IAccessManager-updateAuthority-address-address-)
 
Events
* [`OperationScheduled(operationId, nonce, schedule, caller, target, data)`](#IAccessManager-OperationScheduled-bytes32-uint32-uint48-address-address-bytes-)
 
* [`OperationExecuted(operationId, nonce)`](#IAccessManager-OperationExecuted-bytes32-uint32-)
 
* [`OperationCanceled(operationId, nonce)`](#IAccessManager-OperationCanceled-bytes32-uint32-)
 
* [`RoleLabel(roleId, label)`](#IAccessManager-RoleLabel-uint64-string-)
 
* [`RoleGranted(roleId, account, delay, since, newMember)`](#IAccessManager-RoleGranted-uint64-address-uint32-uint48-bool-)
 
* [`RoleRevoked(roleId, account)`](#IAccessManager-RoleRevoked-uint64-address-)
 
* [`RoleAdminChanged(roleId, admin)`](#IAccessManager-RoleAdminChanged-uint64-uint64-)
 
* [`RoleGuardianChanged(roleId, guardian)`](#IAccessManager-RoleGuardianChanged-uint64-uint64-)
 
* [`RoleGrantDelayChanged(roleId, delay, since)`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-)
 
* [`TargetClosed(target, closed)`](#IAccessManager-TargetClosed-address-bool-)
 
* [`TargetFunctionRoleUpdated(target, selector, roleId)`](#IAccessManager-TargetFunctionRoleUpdated-address-bytes4-uint64-)
 
* [`TargetAdminDelayUpdated(target, delay, since)`](#IAccessManager-TargetAdminDelayUpdated-address-uint32-uint48-)
 
Errors
* [`AccessManagerAlreadyScheduled(operationId)`](#IAccessManager-AccessManagerAlreadyScheduled-bytes32-)
 
* [`AccessManagerNotScheduled(operationId)`](#IAccessManager-AccessManagerNotScheduled-bytes32-)
 
* [`AccessManagerNotReady(operationId)`](#IAccessManager-AccessManagerNotReady-bytes32-)
 
* [`AccessManagerExpired(operationId)`](#IAccessManager-AccessManagerExpired-bytes32-)
 
* [`AccessManagerLockedRole(roleId)`](#IAccessManager-AccessManagerLockedRole-uint64-)
 
* [`AccessManagerBadConfirmation()`](#IAccessManager-AccessManagerBadConfirmation--)
 
* [`AccessManagerUnauthorizedAccount(msgsender, roleId)`](#IAccessManager-AccessManagerUnauthorizedAccount-address-uint64-)
 
* [`AccessManagerUnauthorizedCall(caller, target, selector)`](#IAccessManager-AccessManagerUnauthorizedCall-address-address-bytes4-)
 
* [`AccessManagerUnauthorizedConsume(target)`](#IAccessManager-AccessManagerUnauthorizedConsume-address-)
 
* [`AccessManagerUnauthorizedCancel(msgsender, caller, target, selector)`](#IAccessManager-AccessManagerUnauthorizedCancel-address-address-address-bytes4-)
 
* [`AccessManagerInvalidInitialAdmin(initialAdmin)`](#IAccessManager-AccessManagerInvalidInitialAdmin-address-)
 
#### [](#IAccessManager-canCall-address-address-bytes4-)`canCall(address caller, address target, bytes4 selector) → bool allowed, uint32 delay` external
Check if an address (`caller`) is authorised to call a given function on a given contract directly (with no restriction). Additionally, it returns the delay needed to perform the call indirectly through the [`schedule`](#IAccessManager-schedule-address-bytes-uint48-) & [`execute`](#IAccessManager-execute-address-bytes-) workflow.
This function is usually called by the targeted contract to control immediate execution of restricted functions. Therefore we only return true if the call can be performed without any delay. If the call is subject to a previously set delay (not zero), then the function should return false and the caller should schedule the operation for future execution.
If `immediate` is true, the delay can be disregarded and the operation can be immediately executed, otherwise the operation can be executed if and only if delay is greater than 0.
The IAuthority interface does not include the `uint32` delay. This is an extension of that interface that is backward compatible. Some contracts may thus ignore the second return argument. In that case they will fail to identify the indirect workflow, and will consider calls that require a delay to be forbidden.
This function does not report the permissions of the admin functions in the manager itself. These are defined by the [`AccessManager`](#AccessManager) documentation.
#### [](#IAccessManager-expiration--)`expiration() → uint32` external
Expiration delay for scheduled proposals. Defaults to 1 week.
Avoid overriding the expiration with 0. Otherwise every contract proposal will be expired immediately, disabling any scheduling usage.
#### [](#IAccessManager-minSetback--)`minSetback() → uint32` external
Minimum setback for all delay updates, with the exception of execution delays. It can be increased without setback (and reset via [`revokeRole`](#IAccessManager-revokeRole-uint64-address-) in the case event of an accidental increase). Defaults to 5 days.
#### [](#IAccessManager-isTargetClosed-address-)`isTargetClosed(address target) → bool` external
Get whether the contract is closed disabling any access. Otherwise role permissions are applied.
When the manager itself is closed, admin functions are still accessible to avoid locking the contract.
#### [](#IAccessManager-getTargetFunctionRole-address-bytes4-)`getTargetFunctionRole(address target, bytes4 selector) → uint64` external
Get the role required to call a function.
#### [](#IAccessManager-getTargetAdminDelay-address-)`getTargetAdminDelay(address target) → uint32` external
Get the admin delay for a target contract. Changes to contract configuration are subject to this delay.
#### [](#IAccessManager-getRoleAdmin-uint64-)`getRoleAdmin(uint64 roleId) → uint64` external
Get the id of the role that acts as an admin for the given role.
The admin permission is required to grant the role, revoke the role and update the execution delay to execute an operation that is restricted to this role.
#### [](#IAccessManager-getRoleGuardian-uint64-)`getRoleGuardian(uint64 roleId) → uint64` external
Get the role that acts as a guardian for a given role.
The guardian permission allows canceling operations that have been scheduled under the role.
#### [](#IAccessManager-getRoleGrantDelay-uint64-)`getRoleGrantDelay(uint64 roleId) → uint32` external
Get the role current grant delay.
Its value may change at any point without an event emitted following a call to [`setGrantDelay`](#IAccessManager-setGrantDelay-uint64-uint32-). Changes to this value, including effect timepoint are notified in advance by the [`RoleGrantDelayChanged`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-) event.
#### [](#IAccessManager-getAccess-uint64-address-)`getAccess(uint64 roleId, address account) → uint48 since, uint32 currentDelay, uint32 pendingDelay, uint48 effect` external
Get the access details for a given account for a given role. These details include the timepoint at which membership becomes active, and the delay applied to all operation by this user that requires this permission level.
Returns: \[0\] Timestamp at which the account membership becomes valid. 0 means role is not granted. \[1\] Current execution delay for the account. \[2\] Pending execution delay for the account. \[3\] Timestamp at which the pending execution delay will become active. 0 means no delay update is scheduled.
#### [](#IAccessManager-hasRole-uint64-address-)`hasRole(uint64 roleId, address account) → bool isMember, uint32 executionDelay` external
Check if a given account currently has the permission level corresponding to a given role. Note that this permission might be associated with an execution delay. [`getAccess`](#IAccessManager-getAccess-uint64-address-) can provide more details.
#### [](#IAccessManager-labelRole-uint64-string-)`labelRole(uint64 roleId, string label)` external
Give a label to a role, for improved role discoverability by UIs.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleLabel`](#IAccessManager-RoleLabel-uint64-string-) event.
#### [](#IAccessManager-grantRole-uint64-address-uint32-)`grantRole(uint64 roleId, address account, uint32 executionDelay)` external
Add `account` to `roleId`, or change its execution delay.
This gives the account the authorization to call any function that is restricted to this role. An optional execution delay (in seconds) can be set. If that delay is non 0, the user is required to schedule any operation that is restricted to members of this role. The user will only be able to execute the operation after the delay has passed, before it has expired. During this period, admin and guardians can cancel the operation (see [`cancel`](#IAccessManager-cancel-address-address-bytes-)).
If the account has already been granted this role, the execution delay will be updated. This update is not immediate and follows the delay rules. For example, if a user currently has a delay of 3 hours, and this is called to reduce that delay to 1 hour, the new delay will take some time to take effect, enforcing that any operation executed in the 3 hours that follows this update was indeed scheduled before this update.
Requirements:
* the caller must be an admin for the role (see [`getRoleAdmin`](#IAccessManager-getRoleAdmin-uint64-))
 
* granted role must not be the `PUBLIC_ROLE`
 
Emits a [`RoleGranted`](#IAccessManager-RoleGranted-uint64-address-uint32-uint48-bool-) event.
#### [](#IAccessManager-revokeRole-uint64-address-)`revokeRole(uint64 roleId, address account)` external
Remove an account from a role, with immediate effect. If the account does not have the role, this call has no effect.
Requirements:
* the caller must be an admin for the role (see [`getRoleAdmin`](#IAccessManager-getRoleAdmin-uint64-))
 
* revoked role must not be the `PUBLIC_ROLE`
 
Emits a [`RoleRevoked`](#IAccessManager-RoleRevoked-uint64-address-) event if the account had the role.
#### [](#IAccessManager-renounceRole-uint64-address-)`renounceRole(uint64 roleId, address callerConfirmation)` external
Renounce role permissions for the calling account with immediate effect. If the sender is not in the role this call has no effect.
Requirements:
* the caller must be `callerConfirmation`.
 
Emits a [`RoleRevoked`](#IAccessManager-RoleRevoked-uint64-address-) event if the account had the role.
#### [](#IAccessManager-setRoleAdmin-uint64-uint64-)`setRoleAdmin(uint64 roleId, uint64 admin)` external
Change admin role for a given role.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleAdminChanged`](#IAccessManager-RoleAdminChanged-uint64-uint64-) event
#### [](#IAccessManager-setRoleGuardian-uint64-uint64-)`setRoleGuardian(uint64 roleId, uint64 guardian)` external
Change guardian role for a given role.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleGuardianChanged`](#IAccessManager-RoleGuardianChanged-uint64-uint64-) event
#### [](#IAccessManager-setGrantDelay-uint64-uint32-)`setGrantDelay(uint64 roleId, uint32 newDelay)` external
Update the delay for granting a `roleId`.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleGrantDelayChanged`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-) event.
#### [](#IAccessManager-setTargetFunctionRole-address-bytes4---uint64-)`setTargetFunctionRole(address target, bytes4[] selectors, uint64 roleId)` external
Set the role required to call functions identified by the `selectors` in the `target` contract.
Requirements:
* the caller must be a global admin
 
Emits a [`TargetFunctionRoleUpdated`](#IAccessManager-TargetFunctionRoleUpdated-address-bytes4-uint64-) event per selector.
#### [](#IAccessManager-setTargetAdminDelay-address-uint32-)`setTargetAdminDelay(address target, uint32 newDelay)` external
Set the delay for changing the configuration of a given target contract.
Requirements:
* the caller must be a global admin
 
Emits a [`TargetAdminDelayUpdated`](#IAccessManager-TargetAdminDelayUpdated-address-uint32-uint48-) event.
#### [](#IAccessManager-setTargetClosed-address-bool-)`setTargetClosed(address target, bool closed)` external
Set the closed flag for a contract.
Closing the manager itself won’t disable access to admin methods to avoid locking the contract.
Requirements:
* the caller must be a global admin
 
Emits a [`TargetClosed`](#IAccessManager-TargetClosed-address-bool-) event.
#### [](#IAccessManager-getSchedule-bytes32-)`getSchedule(bytes32 id) → uint48` external
Return the timepoint at which a scheduled operation will be ready for execution. This returns 0 if the operation is not yet scheduled, has expired, was executed, or was canceled.
#### [](#IAccessManager-getNonce-bytes32-)`getNonce(bytes32 id) → uint32` external
Return the nonce for the latest scheduled operation with a given id. Returns 0 if the operation has never been scheduled.
#### [](#IAccessManager-schedule-address-bytes-uint48-)`schedule(address target, bytes data, uint48 when) → bytes32 operationId, uint32 nonce` external
Schedule a delayed operation for future execution, and return the operation identifier. It is possible to choose the timestamp at which the operation becomes executable as long as it satisfies the execution delays required for the caller. The special value zero will automatically set the earliest possible time.
Returns the `operationId` that was scheduled. Since this value is a hash of the parameters, it can reoccur when the same parameters are used; if this is relevant, the returned `nonce` can be used to uniquely identify this scheduled operation from other occurrences of the same `operationId` in invocations of [`execute`](#IAccessManager-execute-address-bytes-) and [`cancel`](#IAccessManager-cancel-address-address-bytes-).
Emits a [`OperationScheduled`](#IAccessManager-OperationScheduled-bytes32-uint32-uint48-address-address-bytes-) event.
It is not possible to concurrently schedule more than one operation with the same `target` and `data`. If this is necessary, a random byte can be appended to `data` to act as a salt that will be ignored by the target contract if it is using standard Solidity ABI encoding.
#### [](#IAccessManager-execute-address-bytes-)`execute(address target, bytes data) → uint32` external
Execute a function that is delay restricted, provided it was properly scheduled beforehand, or the execution delay is 0.
Returns the nonce that identifies the previously scheduled operation that is executed, or 0 if the operation wasn’t previously scheduled (if the caller doesn’t have an execution delay).
Emits an [`OperationExecuted`](#IAccessManager-OperationExecuted-bytes32-uint32-) event only if the call was scheduled and delayed.
#### [](#IAccessManager-cancel-address-address-bytes-)`cancel(address caller, address target, bytes data) → uint32` external
Cancel a scheduled (delayed) operation. Returns the nonce that identifies the previously scheduled operation that is cancelled.
Requirements:
* the caller must be the proposer, a guardian of the targeted function, or a global admin
 
Emits a [`OperationCanceled`](#IAccessManager-OperationCanceled-bytes32-uint32-) event.
#### [](#IAccessManager-consumeScheduledOp-address-bytes-)`consumeScheduledOp(address caller, bytes data)` external
Consume a scheduled operation targeting the caller. If such an operation exists, mark it as consumed (emit an [`OperationExecuted`](#IAccessManager-OperationExecuted-bytes32-uint32-) event and clean the state). Otherwise, throw an error.
This is useful for contract that want to enforce that calls targeting them were scheduled on the manager, with all the verifications that it implies.
Emit a [`OperationExecuted`](#IAccessManager-OperationExecuted-bytes32-uint32-) event.
#### [](#IAccessManager-hashOperation-address-address-bytes-)`hashOperation(address caller, address target, bytes data) → bytes32` external
Hashing function for delayed operations.
#### [](#IAccessManager-updateAuthority-address-address-)`updateAuthority(address target, address newAuthority)` external
Changes the authority of a target managed by this manager instance.
Requirements:
* the caller must be a global admin
 
#### [](#IAccessManager-OperationScheduled-bytes32-uint32-uint48-address-address-bytes-)`OperationScheduled(bytes32 indexed operationId, uint32 indexed nonce, uint48 schedule, address caller, address target, bytes data)` event
A delayed operation was scheduled.
#### [](#IAccessManager-OperationExecuted-bytes32-uint32-)`OperationExecuted(bytes32 indexed operationId, uint32 indexed nonce)` event
A scheduled operation was executed.
#### [](#IAccessManager-OperationCanceled-bytes32-uint32-)`OperationCanceled(bytes32 indexed operationId, uint32 indexed nonce)` event
A scheduled operation was canceled.
#### [](#IAccessManager-RoleLabel-uint64-string-)`RoleLabel(uint64 indexed roleId, string label)` event
Informational labelling for a roleId.
#### [](#IAccessManager-RoleGranted-uint64-address-uint32-uint48-bool-)`RoleGranted(uint64 indexed roleId, address indexed account, uint32 delay, uint48 since, bool newMember)` event
Emitted when `account` is granted `roleId`.
The meaning of the `since` argument depends on the `newMember` argument. If the role is granted to a new member, the `since` argument indicates when the account becomes a member of the role, otherwise it indicates the execution delay for this account and roleId is updated.
#### [](#IAccessManager-RoleRevoked-uint64-address-)`RoleRevoked(uint64 indexed roleId, address indexed account)` event
Emitted when `account` membership or `roleId` is revoked. Unlike granting, revoking is instantaneous.
#### [](#IAccessManager-RoleAdminChanged-uint64-uint64-)`RoleAdminChanged(uint64 indexed roleId, uint64 indexed admin)` event
Role acting as admin over a given `roleId` is updated.
#### [](#IAccessManager-RoleGuardianChanged-uint64-uint64-)`RoleGuardianChanged(uint64 indexed roleId, uint64 indexed guardian)` event
Role acting as guardian over a given `roleId` is updated.
#### [](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-)`RoleGrantDelayChanged(uint64 indexed roleId, uint32 delay, uint48 since)` event
Grant delay for a given `roleId` will be updated to `delay` when `since` is reached.
#### [](#IAccessManager-TargetClosed-address-bool-)`TargetClosed(address indexed target, bool closed)` event
Target mode is updated (true = closed, false = open).
#### [](#IAccessManager-TargetFunctionRoleUpdated-address-bytes4-uint64-)`TargetFunctionRoleUpdated(address indexed target, bytes4 selector, uint64 indexed roleId)` event
Role required to invoke `selector` on `target` is updated to `roleId`.
#### [](#IAccessManager-TargetAdminDelayUpdated-address-uint32-uint48-)`TargetAdminDelayUpdated(address indexed target, uint32 delay, uint48 since)` event
Admin delay for a given `target` will be updated to `delay` when `since` is reached.
#### [](#IAccessManager-AccessManagerAlreadyScheduled-bytes32-)`AccessManagerAlreadyScheduled(bytes32 operationId)` error
#### [](#IAccessManager-AccessManagerNotScheduled-bytes32-)`AccessManagerNotScheduled(bytes32 operationId)` error
#### [](#IAccessManager-AccessManagerNotReady-bytes32-)`AccessManagerNotReady(bytes32 operationId)` error
#### [](#IAccessManager-AccessManagerExpired-bytes32-)`AccessManagerExpired(bytes32 operationId)` error
#### [](#IAccessManager-AccessManagerLockedRole-uint64-)`AccessManagerLockedRole(uint64 roleId)` error
#### [](#IAccessManager-AccessManagerBadConfirmation--)`AccessManagerBadConfirmation()` error
#### [](#IAccessManager-AccessManagerUnauthorizedAccount-address-uint64-)`AccessManagerUnauthorizedAccount(address msgsender, uint64 roleId)` error
#### [](#IAccessManager-AccessManagerUnauthorizedCall-address-address-bytes4-)`AccessManagerUnauthorizedCall(address caller, address target, bytes4 selector)` error
#### [](#IAccessManager-AccessManagerUnauthorizedConsume-address-)`AccessManagerUnauthorizedConsume(address target)` error
#### [](#IAccessManager-AccessManagerUnauthorizedCancel-address-address-address-bytes4-)`AccessManagerUnauthorizedCancel(address msgsender, address caller, address target, bytes4 selector)` error
#### [](#IAccessManager-AccessManagerInvalidInitialAdmin-address-)`AccessManagerInvalidInitialAdmin(address initialAdmin)` error
### [](#AccessManager)`AccessManager`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/manager/AccessManager.sol)
 import "@openzeppelin/contracts/access/manager/AccessManager.sol";
AccessManager is a central contract to store the permissions of a system.
A smart contract under the control of an AccessManager instance is known as a target, and will inherit from the [`AccessManaged`](#AccessManaged) contract, be connected to this contract as its manager and implement the [`AccessManaged.restricted`](#AccessManaged-restricted--) modifier on a set of functions selected to be permissioned. Note that any function without this setup won’t be effectively restricted.
The restriction rules for such functions are defined in terms of "roles" identified by an `uint64` and scoped by target (`address`) and function selectors (`bytes4`). These roles are stored in this contract and can be configured by admins (`ADMIN_ROLE` members) after a delay (see [`getTargetAdminDelay`](#AccessManager-getTargetAdminDelay-address-)).
For each target contract, admins can configure the following without any delay:
* The target’s [`AccessManaged.authority`](#AccessManaged-authority--) via [`updateAuthority`](#AccessManager-updateAuthority-address-address-).
 
* Close or open a target via [`setTargetClosed`](#AccessManager-setTargetClosed-address-bool-) keeping the permissions intact.
 
* The roles that are allowed (or disallowed) to call a given function (identified by its selector) through [`setTargetFunctionRole`](#AccessManager-setTargetFunctionRole-address-bytes4---uint64-).
 
By default every address is member of the `PUBLIC_ROLE` and every target function is restricted to the `ADMIN_ROLE` until configured otherwise. Additionally, each role has the following configuration options restricted to this manager’s admins:
* A role’s admin role via [`setRoleAdmin`](#AccessManager-setRoleAdmin-uint64-uint64-) who can grant or revoke roles.
 
* A role’s guardian role via [`setRoleGuardian`](#AccessManager-setRoleGuardian-uint64-uint64-) who’s allowed to cancel operations.
 
* A delay in which a role takes effect after being granted through [`setGrantDelay`](#AccessManager-setGrantDelay-uint64-uint32-).
 
* A delay of any target’s admin action via [`setTargetAdminDelay`](#AccessManager-setTargetAdminDelay-address-uint32-).
 
* A role label for discoverability purposes with [`labelRole`](#AccessManager-labelRole-uint64-string-).
 
Any account can be added and removed into any number of these roles by using the [`grantRole`](#AccessManager-grantRole-uint64-address-uint32-) and [`revokeRole`](#AccessManager-revokeRole-uint64-address-) functions restricted to each role’s admin (see [`getRoleAdmin`](#AccessManager-getRoleAdmin-uint64-)).
Since all the permissions of the managed system can be modified by the admins of this instance, it is expected that they will be highly secured (e.g., a multisig or a well-configured DAO).
This contract implements a form of the [`IAuthority`](#IAuthority) interface, but [`canCall`](#AccessManager-canCall-address-address-bytes4-) has additional return data so it doesn’t inherit `IAuthority`. It is however compatible with the `IAuthority` interface since the first 32 bytes of the return data are a boolean as expected by that interface.
Systems that implement other access control mechanisms (for example using [`Ownable`](#Ownable)) can be paired with an [`AccessManager`](#AccessManager) by transferring permissions (ownership in the case of [`Ownable`](#Ownable)) directly to the [`AccessManager`](#AccessManager). Users will be able to interact with these contracts through the [`execute`](#AccessManager-execute-address-bytes-) function, following the access rules registered in the [`AccessManager`](#AccessManager). Keep in mind that in that context, the msg.sender seen by restricted functions will be [`AccessManager`](#AccessManager) itself.
When granting permissions over an [`Ownable`](#Ownable) or [`AccessControl`](#AccessControl) contract to an [`AccessManager`](#AccessManager), be very mindful of the danger associated with functions such as [`Ownable.renounceOwnership`](#Ownable-renounceOwnership--) or [`AccessControl.renounceRole`](#AccessControl-renounceRole-bytes32-address-).
Modifiers
* [`onlyAuthorized()`](#AccessManager-onlyAuthorized--)
 
Functions
* [`constructor(initialAdmin)`](#AccessManager-constructor-address-)
 
* [`canCall(caller, target, selector)`](#AccessManager-canCall-address-address-bytes4-)
 
* [`expiration()`](#AccessManager-expiration--)
 
* [`minSetback()`](#AccessManager-minSetback--)
 
* [`isTargetClosed(target)`](#AccessManager-isTargetClosed-address-)
 
* [`getTargetFunctionRole(target, selector)`](#AccessManager-getTargetFunctionRole-address-bytes4-)
 
* [`getTargetAdminDelay(target)`](#AccessManager-getTargetAdminDelay-address-)
 
* [`getRoleAdmin(roleId)`](#AccessManager-getRoleAdmin-uint64-)
 
* [`getRoleGuardian(roleId)`](#AccessManager-getRoleGuardian-uint64-)
 
* [`getRoleGrantDelay(roleId)`](#AccessManager-getRoleGrantDelay-uint64-)
 
* [`getAccess(roleId, account)`](#AccessManager-getAccess-uint64-address-)
 
* [`hasRole(roleId, account)`](#AccessManager-hasRole-uint64-address-)
 
* [`labelRole(roleId, label)`](#AccessManager-labelRole-uint64-string-)
 
* [`grantRole(roleId, account, executionDelay)`](#AccessManager-grantRole-uint64-address-uint32-)
 
* [`revokeRole(roleId, account)`](#AccessManager-revokeRole-uint64-address-)
 
* [`renounceRole(roleId, callerConfirmation)`](#AccessManager-renounceRole-uint64-address-)
 
* [`setRoleAdmin(roleId, admin)`](#AccessManager-setRoleAdmin-uint64-uint64-)
 
* [`setRoleGuardian(roleId, guardian)`](#AccessManager-setRoleGuardian-uint64-uint64-)
 
* [`setGrantDelay(roleId, newDelay)`](#AccessManager-setGrantDelay-uint64-uint32-)
 
* [`_grantRole(roleId, account, grantDelay, executionDelay)`](#AccessManager-_grantRole-uint64-address-uint32-uint32-)
 
* [`_revokeRole(roleId, account)`](#AccessManager-_revokeRole-uint64-address-)
 
* [`_setRoleAdmin(roleId, admin)`](#AccessManager-_setRoleAdmin-uint64-uint64-)
 
* [`_setRoleGuardian(roleId, guardian)`](#AccessManager-_setRoleGuardian-uint64-uint64-)
 
* [`_setGrantDelay(roleId, newDelay)`](#AccessManager-_setGrantDelay-uint64-uint32-)
 
* [`setTargetFunctionRole(target, selectors, roleId)`](#AccessManager-setTargetFunctionRole-address-bytes4---uint64-)
 
* [`_setTargetFunctionRole(target, selector, roleId)`](#AccessManager-_setTargetFunctionRole-address-bytes4-uint64-)
 
* [`setTargetAdminDelay(target, newDelay)`](#AccessManager-setTargetAdminDelay-address-uint32-)
 
* [`_setTargetAdminDelay(target, newDelay)`](#AccessManager-_setTargetAdminDelay-address-uint32-)
 
* [`setTargetClosed(target, closed)`](#AccessManager-setTargetClosed-address-bool-)
 
* [`_setTargetClosed(target, closed)`](#AccessManager-_setTargetClosed-address-bool-)
 
* [`getSchedule(id)`](#AccessManager-getSchedule-bytes32-)
 
* [`getNonce(id)`](#AccessManager-getNonce-bytes32-)
 
* [`schedule(target, data, when)`](#AccessManager-schedule-address-bytes-uint48-)
 
* [`execute(target, data)`](#AccessManager-execute-address-bytes-)
 
* [`cancel(caller, target, data)`](#AccessManager-cancel-address-address-bytes-)
 
* [`consumeScheduledOp(caller, data)`](#AccessManager-consumeScheduledOp-address-bytes-)
 
* [`_consumeScheduledOp(operationId)`](#AccessManager-_consumeScheduledOp-bytes32-)
 
* [`hashOperation(caller, target, data)`](#AccessManager-hashOperation-address-address-bytes-)
 
* [`updateAuthority(target, newAuthority)`](#AccessManager-updateAuthority-address-address-)
 
* [`ADMIN_ROLE()`](#AccessManager-ADMIN_ROLE-uint64)
 
* [`PUBLIC_ROLE()`](#AccessManager-PUBLIC_ROLE-uint64)
 
Events
IAccessManager
* [`OperationScheduled(operationId, nonce, schedule, caller, target, data)`](#IAccessManager-OperationScheduled-bytes32-uint32-uint48-address-address-bytes-)
 
* [`OperationExecuted(operationId, nonce)`](#IAccessManager-OperationExecuted-bytes32-uint32-)
 
* [`OperationCanceled(operationId, nonce)`](#IAccessManager-OperationCanceled-bytes32-uint32-)
 
* [`RoleLabel(roleId, label)`](#IAccessManager-RoleLabel-uint64-string-)
 
* [`RoleGranted(roleId, account, delay, since, newMember)`](#IAccessManager-RoleGranted-uint64-address-uint32-uint48-bool-)
 
* [`RoleRevoked(roleId, account)`](#IAccessManager-RoleRevoked-uint64-address-)
 
* [`RoleAdminChanged(roleId, admin)`](#IAccessManager-RoleAdminChanged-uint64-uint64-)
 
* [`RoleGuardianChanged(roleId, guardian)`](#IAccessManager-RoleGuardianChanged-uint64-uint64-)
 
* [`RoleGrantDelayChanged(roleId, delay, since)`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-)
 
* [`TargetClosed(target, closed)`](#IAccessManager-TargetClosed-address-bool-)
 
* [`TargetFunctionRoleUpdated(target, selector, roleId)`](#IAccessManager-TargetFunctionRoleUpdated-address-bytes4-uint64-)
 
* [`TargetAdminDelayUpdated(target, delay, since)`](#IAccessManager-TargetAdminDelayUpdated-address-uint32-uint48-)
 
Errors
IAccessManager
* [`AccessManagerAlreadyScheduled(operationId)`](#IAccessManager-AccessManagerAlreadyScheduled-bytes32-)
 
* [`AccessManagerNotScheduled(operationId)`](#IAccessManager-AccessManagerNotScheduled-bytes32-)
 
* [`AccessManagerNotReady(operationId)`](#IAccessManager-AccessManagerNotReady-bytes32-)
 
* [`AccessManagerExpired(operationId)`](#IAccessManager-AccessManagerExpired-bytes32-)
 
* [`AccessManagerLockedRole(roleId)`](#IAccessManager-AccessManagerLockedRole-uint64-)
 
* [`AccessManagerBadConfirmation()`](#IAccessManager-AccessManagerBadConfirmation--)
 
* [`AccessManagerUnauthorizedAccount(msgsender, roleId)`](#IAccessManager-AccessManagerUnauthorizedAccount-address-uint64-)
 
* [`AccessManagerUnauthorizedCall(caller, target, selector)`](#IAccessManager-AccessManagerUnauthorizedCall-address-address-bytes4-)
 
* [`AccessManagerUnauthorizedConsume(target)`](#IAccessManager-AccessManagerUnauthorizedConsume-address-)
 
* [`AccessManagerUnauthorizedCancel(msgsender, caller, target, selector)`](#IAccessManager-AccessManagerUnauthorizedCancel-address-address-address-bytes4-)
 
* [`AccessManagerInvalidInitialAdmin(initialAdmin)`](#IAccessManager-AccessManagerInvalidInitialAdmin-address-)
 
#### [](#AccessManager-onlyAuthorized--)`onlyAuthorized()` modifier
Check that the caller is authorized to perform the operation. See [`AccessManager`](#AccessManager) description for a detailed breakdown of the authorization logic.
#### [](#AccessManager-constructor-address-)`constructor(address initialAdmin)` public
#### [](#AccessManager-canCall-address-address-bytes4-)`canCall(address caller, address target, bytes4 selector) → bool immediate, uint32 delay` public
Check if an address (`caller`) is authorised to call a given function on a given contract directly (with no restriction). Additionally, it returns the delay needed to perform the call indirectly through the [`schedule`](#AccessManager-schedule-address-bytes-uint48-) & [`execute`](#AccessManager-execute-address-bytes-) workflow.
This function is usually called by the targeted contract to control immediate execution of restricted functions. Therefore we only return true if the call can be performed without any delay. If the call is subject to a previously set delay (not zero), then the function should return false and the caller should schedule the operation for future execution.
If `immediate` is true, the delay can be disregarded and the operation can be immediately executed, otherwise the operation can be executed if and only if delay is greater than 0.
The IAuthority interface does not include the `uint32` delay. This is an extension of that interface that is backward compatible. Some contracts may thus ignore the second return argument. In that case they will fail to identify the indirect workflow, and will consider calls that require a delay to be forbidden.
This function does not report the permissions of the admin functions in the manager itself. These are defined by the [`AccessManager`](#AccessManager) documentation.
#### [](#AccessManager-expiration--)`expiration() → uint32` public
Expiration delay for scheduled proposals. Defaults to 1 week.
Avoid overriding the expiration with 0. Otherwise every contract proposal will be expired immediately, disabling any scheduling usage.
#### [](#AccessManager-minSetback--)`minSetback() → uint32` public
Minimum setback for all delay updates, with the exception of execution delays. It can be increased without setback (and reset via [`revokeRole`](#AccessManager-revokeRole-uint64-address-) in the case event of an accidental increase). Defaults to 5 days.
#### [](#AccessManager-isTargetClosed-address-)`isTargetClosed(address target) → bool` public
Get whether the contract is closed disabling any access. Otherwise role permissions are applied.
When the manager itself is closed, admin functions are still accessible to avoid locking the contract.
#### [](#AccessManager-getTargetFunctionRole-address-bytes4-)`getTargetFunctionRole(address target, bytes4 selector) → uint64` public
Get the role required to call a function.
#### [](#AccessManager-getTargetAdminDelay-address-)`getTargetAdminDelay(address target) → uint32` public
Get the admin delay for a target contract. Changes to contract configuration are subject to this delay.
#### [](#AccessManager-getRoleAdmin-uint64-)`getRoleAdmin(uint64 roleId) → uint64` public
Get the id of the role that acts as an admin for the given role.
The admin permission is required to grant the role, revoke the role and update the execution delay to execute an operation that is restricted to this role.
#### [](#AccessManager-getRoleGuardian-uint64-)`getRoleGuardian(uint64 roleId) → uint64` public
Get the role that acts as a guardian for a given role.
The guardian permission allows canceling operations that have been scheduled under the role.
#### [](#AccessManager-getRoleGrantDelay-uint64-)`getRoleGrantDelay(uint64 roleId) → uint32` public
Get the role current grant delay.
Its value may change at any point without an event emitted following a call to [`setGrantDelay`](#AccessManager-setGrantDelay-uint64-uint32-). Changes to this value, including effect timepoint are notified in advance by the [`RoleGrantDelayChanged`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-) event.
#### [](#AccessManager-getAccess-uint64-address-)`getAccess(uint64 roleId, address account) → uint48 since, uint32 currentDelay, uint32 pendingDelay, uint48 effect` public
Get the access details for a given account for a given role. These details include the timepoint at which membership becomes active, and the delay applied to all operation by this user that requires this permission level.
Returns: \[0\] Timestamp at which the account membership becomes valid. 0 means role is not granted. \[1\] Current execution delay for the account. \[2\] Pending execution delay for the account. \[3\] Timestamp at which the pending execution delay will become active. 0 means no delay update is scheduled.
#### [](#AccessManager-hasRole-uint64-address-)`hasRole(uint64 roleId, address account) → bool isMember, uint32 executionDelay` public
Check if a given account currently has the permission level corresponding to a given role. Note that this permission might be associated with an execution delay. [`getAccess`](#AccessManager-getAccess-uint64-address-) can provide more details.
#### [](#AccessManager-labelRole-uint64-string-)`labelRole(uint64 roleId, string label)` public
Give a label to a role, for improved role discoverability by UIs.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleLabel`](#IAccessManager-RoleLabel-uint64-string-) event.
#### [](#AccessManager-grantRole-uint64-address-uint32-)`grantRole(uint64 roleId, address account, uint32 executionDelay)` public
Add `account` to `roleId`, or change its execution delay.
This gives the account the authorization to call any function that is restricted to this role. An optional execution delay (in seconds) can be set. If that delay is non 0, the user is required to schedule any operation that is restricted to members of this role. The user will only be able to execute the operation after the delay has passed, before it has expired. During this period, admin and guardians can cancel the operation (see [`cancel`](#AccessManager-cancel-address-address-bytes-)).
If the account has already been granted this role, the execution delay will be updated. This update is not immediate and follows the delay rules. For example, if a user currently has a delay of 3 hours, and this is called to reduce that delay to 1 hour, the new delay will take some time to take effect, enforcing that any operation executed in the 3 hours that follows this update was indeed scheduled before this update.
Requirements:
* the caller must be an admin for the role (see [`getRoleAdmin`](#AccessManager-getRoleAdmin-uint64-))
 
* granted role must not be the `PUBLIC_ROLE`
 
Emits a [`RoleGranted`](#IAccessManager-RoleGranted-uint64-address-uint32-uint48-bool-) event.
#### [](#AccessManager-revokeRole-uint64-address-)`revokeRole(uint64 roleId, address account)` public
Remove an account from a role, with immediate effect. If the account does not have the role, this call has no effect.
Requirements:
* the caller must be an admin for the role (see [`getRoleAdmin`](#AccessManager-getRoleAdmin-uint64-))
 
* revoked role must not be the `PUBLIC_ROLE`
 
Emits a [`RoleRevoked`](#IAccessManager-RoleRevoked-uint64-address-) event if the account had the role.
#### [](#AccessManager-renounceRole-uint64-address-)`renounceRole(uint64 roleId, address callerConfirmation)` public
Renounce role permissions for the calling account with immediate effect. If the sender is not in the role this call has no effect.
Requirements:
* the caller must be `callerConfirmation`.
 
Emits a [`RoleRevoked`](#IAccessManager-RoleRevoked-uint64-address-) event if the account had the role.
#### [](#AccessManager-setRoleAdmin-uint64-uint64-)`setRoleAdmin(uint64 roleId, uint64 admin)` public
Change admin role for a given role.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleAdminChanged`](#IAccessManager-RoleAdminChanged-uint64-uint64-) event
#### [](#AccessManager-setRoleGuardian-uint64-uint64-)`setRoleGuardian(uint64 roleId, uint64 guardian)` public
Change guardian role for a given role.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleGuardianChanged`](#IAccessManager-RoleGuardianChanged-uint64-uint64-) event
#### [](#AccessManager-setGrantDelay-uint64-uint32-)`setGrantDelay(uint64 roleId, uint32 newDelay)` public
Update the delay for granting a `roleId`.
Requirements:
* the caller must be a global admin
 
Emits a [`RoleGrantDelayChanged`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-) event.
#### [](#AccessManager-_grantRole-uint64-address-uint32-uint32-)`_grantRole(uint64 roleId, address account, uint32 grantDelay, uint32 executionDelay) → bool` internal
Internal version of [`grantRole`](#AccessManager-grantRole-uint64-address-uint32-) without access control. Returns true if the role was newly granted.
Emits a [`RoleGranted`](#IAccessManager-RoleGranted-uint64-address-uint32-uint48-bool-) event.
#### [](#AccessManager-_revokeRole-uint64-address-)`_revokeRole(uint64 roleId, address account) → bool` internal
Internal version of [`revokeRole`](#AccessManager-revokeRole-uint64-address-) without access control. This logic is also used by [`renounceRole`](#AccessManager-renounceRole-uint64-address-). Returns true if the role was previously granted.
Emits a [`RoleRevoked`](#IAccessManager-RoleRevoked-uint64-address-) event if the account had the role.
#### [](#AccessManager-_setRoleAdmin-uint64-uint64-)`_setRoleAdmin(uint64 roleId, uint64 admin)` internal
Internal version of [`setRoleAdmin`](#AccessManager-setRoleAdmin-uint64-uint64-) without access control.
Emits a [`RoleAdminChanged`](#IAccessManager-RoleAdminChanged-uint64-uint64-) event.
Setting the admin role as the `PUBLIC_ROLE` is allowed, but it will effectively allow anyone to set grant or revoke such role.
#### [](#AccessManager-_setRoleGuardian-uint64-uint64-)`_setRoleGuardian(uint64 roleId, uint64 guardian)` internal
Internal version of [`setRoleGuardian`](#AccessManager-setRoleGuardian-uint64-uint64-) without access control.
Emits a [`RoleGuardianChanged`](#IAccessManager-RoleGuardianChanged-uint64-uint64-) event.
Setting the guardian role as the `PUBLIC_ROLE` is allowed, but it will effectively allow anyone to cancel any scheduled operation for such role.
#### [](#AccessManager-_setGrantDelay-uint64-uint32-)`_setGrantDelay(uint64 roleId, uint32 newDelay)` internal
Internal version of [`setGrantDelay`](#AccessManager-setGrantDelay-uint64-uint32-) without access control.
Emits a [`RoleGrantDelayChanged`](#IAccessManager-RoleGrantDelayChanged-uint64-uint32-uint48-) event.
#### [](#AccessManager-setTargetFunctionRole-address-bytes4---uint64-)`setTargetFunctionRole(address target, bytes4[] selectors, uint64 roleId)` public
Set the role required to call functions identified by the `selectors` in the `target` contract.
Requirements:
* the caller must be a global admin
 
Emits a [`TargetFunctionRoleUpdated`](#IAccessManager-TargetFunctionRoleUpdated-address-bytes4-uint64-) event per selector.
#### [](#AccessManager-_setTargetFunctionRole-address-bytes4-uint64-)`_setTargetFunctionRole(address target, bytes4 selector, uint64 roleId)` internal
Internal version of [`setTargetFunctionRole`](#AccessManager-setTargetFunctionRole-address-bytes4---uint64-) without access control.
Emits a [`TargetFunctionRoleUpdated`](#IAccessManager-TargetFunctionRoleUpdated-address-bytes4-uint64-) event.
#### [](#AccessManager-setTargetAdminDelay-address-uint32-)`setTargetAdminDelay(address target, uint32 newDelay)` public
Set the delay for changing the configuration of a given target contract.
Requirements:
* the caller must be a global admin
 
Emits a [`TargetAdminDelayUpdated`](#IAccessManager-TargetAdminDelayUpdated-address-uint32-uint48-) event.
#### [](#AccessManager-_setTargetAdminDelay-address-uint32-)`_setTargetAdminDelay(address target, uint32 newDelay)` internal
Internal version of [`setTargetAdminDelay`](#AccessManager-setTargetAdminDelay-address-uint32-) without access control.
Emits a [`TargetAdminDelayUpdated`](#IAccessManager-TargetAdminDelayUpdated-address-uint32-uint48-) event.
#### [](#AccessManager-setTargetClosed-address-bool-)`setTargetClosed(address target, bool closed)` public
Set the closed flag for a contract.
Closing the manager itself won’t disable access to admin methods to avoid locking the contract.
Requirements:
* the caller must be a global admin
 
Emits a [`TargetClosed`](#IAccessManager-TargetClosed-address-bool-) event.
#### [](#AccessManager-_setTargetClosed-address-bool-)`_setTargetClosed(address target, bool closed)` internal
Set the closed flag for a contract. This is an internal setter with no access restrictions.
Emits a [`TargetClosed`](#IAccessManager-TargetClosed-address-bool-) event.
#### [](#AccessManager-getSchedule-bytes32-)`getSchedule(bytes32 id) → uint48` public
Return the timepoint at which a scheduled operation will be ready for execution. This returns 0 if the operation is not yet scheduled, has expired, was executed, or was canceled.
#### [](#AccessManager-getNonce-bytes32-)`getNonce(bytes32 id) → uint32` public
Return the nonce for the latest scheduled operation with a given id. Returns 0 if the operation has never been scheduled.
#### [](#AccessManager-schedule-address-bytes-uint48-)`schedule(address target, bytes data, uint48 when) → bytes32 operationId, uint32 nonce` public
Schedule a delayed operation for future execution, and return the operation identifier. It is possible to choose the timestamp at which the operation becomes executable as long as it satisfies the execution delays required for the caller. The special value zero will automatically set the earliest possible time.
Returns the `operationId` that was scheduled. Since this value is a hash of the parameters, it can reoccur when the same parameters are used; if this is relevant, the returned `nonce` can be used to uniquely identify this scheduled operation from other occurrences of the same `operationId` in invocations of [`execute`](#AccessManager-execute-address-bytes-) and [`cancel`](#AccessManager-cancel-address-address-bytes-).
Emits a [`OperationScheduled`](#IAccessManager-OperationScheduled-bytes32-uint32-uint48-address-address-bytes-) event.
It is not possible to concurrently schedule more than one operation with the same `target` and `data`. If this is necessary, a random byte can be appended to `data` to act as a salt that will be ignored by the target contract if it is using standard Solidity ABI encoding.
#### [](#AccessManager-execute-address-bytes-)`execute(address target, bytes data) → uint32` public
Execute a function that is delay restricted, provided it was properly scheduled beforehand, or the execution delay is 0.
Returns the nonce that identifies the previously scheduled operation that is executed, or 0 if the operation wasn’t previously scheduled (if the caller doesn’t have an execution delay).
Emits an [`OperationExecuted`](#IAccessManager-OperationExecuted-bytes32-uint32-) event only if the call was scheduled and delayed.
#### [](#AccessManager-cancel-address-address-bytes-)`cancel(address caller, address target, bytes data) → uint32` public
Cancel a scheduled (delayed) operation. Returns the nonce that identifies the previously scheduled operation that is cancelled.
Requirements:
* the caller must be the proposer, a guardian of the targeted function, or a global admin
 
Emits a [`OperationCanceled`](#IAccessManager-OperationCanceled-bytes32-uint32-) event.
#### [](#AccessManager-consumeScheduledOp-address-bytes-)`consumeScheduledOp(address caller, bytes data)` public
Consume a scheduled operation targeting the caller. If such an operation exists, mark it as consumed (emit an [`OperationExecuted`](#IAccessManager-OperationExecuted-bytes32-uint32-) event and clean the state). Otherwise, throw an error.
This is useful for contract that want to enforce that calls targeting them were scheduled on the manager, with all the verifications that it implies.
Emit a [`OperationExecuted`](#IAccessManager-OperationExecuted-bytes32-uint32-) event.
#### [](#AccessManager-_consumeScheduledOp-bytes32-)`_consumeScheduledOp(bytes32 operationId) → uint32` internal
Internal variant of [`consumeScheduledOp`](#AccessManager-consumeScheduledOp-address-bytes-) that operates on bytes32 operationId.
Returns the nonce of the scheduled operation that is consumed.
#### [](#AccessManager-hashOperation-address-address-bytes-)`hashOperation(address caller, address target, bytes data) → bytes32` public
Hashing function for delayed operations.
#### [](#AccessManager-updateAuthority-address-address-)`updateAuthority(address target, address newAuthority)` public
Changes the authority of a target managed by this manager instance.
Requirements:
* the caller must be a global admin
 
#### [](#AccessManager-ADMIN_ROLE-uint64)`ADMIN_ROLE() → uint64` public
The identifier of the admin role. Required to perform most configuration operations including other roles' management and target restrictions.
#### [](#AccessManager-PUBLIC_ROLE-uint64)`PUBLIC_ROLE() → uint64` public
The identifier of the public role. Automatically granted to all addresses with no delay.
### [](#IAccessManaged)`IAccessManaged`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/manager/IAccessManaged.sol)
 import "@openzeppelin/contracts/access/manager/IAccessManaged.sol";
Errors
* [`AccessManagedUnauthorized(caller)`](#IAccessManaged-AccessManagedUnauthorized-address-)
 
* [`AccessManagedRequiredDelay(caller, delay)`](#IAccessManaged-AccessManagedRequiredDelay-address-uint32-)
 
* [`AccessManagedInvalidAuthority(authority)`](#IAccessManaged-AccessManagedInvalidAuthority-address-)
 
#### [](#IAccessManaged-authority--)`authority() → address` external
Returns the current authority.
#### [](#IAccessManaged-setAuthority-address-)`setAuthority(address)` external
Transfers control to a new authority. The caller must be the current authority.
#### [](#IAccessManaged-isConsumingScheduledOp--)`isConsumingScheduledOp() → bytes4` external
Returns true only in the context of a delayed restricted call, at the moment that the scheduled operation is being consumed. Prevents denial of service for delayed restricted calls in the case that the contract performs attacker controlled calls.
#### [](#IAccessManaged-AuthorityUpdated-address-)`AuthorityUpdated(address authority)` event
Authority that manages this contract was updated.
#### [](#IAccessManaged-AccessManagedUnauthorized-address-)`AccessManagedUnauthorized(address caller)` error
#### [](#IAccessManaged-AccessManagedRequiredDelay-address-uint32-)`AccessManagedRequiredDelay(address caller, uint32 delay)` error
#### [](#IAccessManaged-AccessManagedInvalidAuthority-address-)`AccessManagedInvalidAuthority(address authority)` error
### [](#AccessManaged)`AccessManaged`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/manager/AccessManaged.sol)
 import "@openzeppelin/contracts/access/manager/AccessManaged.sol";
This contract module makes available a [`restricted`](#AccessManaged-restricted--) modifier. Functions decorated with this modifier will be permissioned according to an "authority": a contract like [`AccessManager`](#AccessManager) that follows the [`IAuthority`](#IAuthority) interface, implementing a policy that allows certain callers to access certain functions.
The `restricted` modifier should never be used on `internal` functions, judiciously used in `public` functions, and ideally only used in `external` functions. See [`restricted`](#AccessManaged-restricted--).
Functions
* [`constructor(initialAuthority)`](#AccessManaged-constructor-address-)
 
* [`authority()`](#AccessManaged-authority--)
 
* [`setAuthority(newAuthority)`](#AccessManaged-setAuthority-address-)
 
* [`isConsumingScheduledOp()`](#AccessManaged-isConsumingScheduledOp--)
 
* [`_setAuthority(newAuthority)`](#AccessManaged-_setAuthority-address-)
 
* [`_checkCanCall(caller, data)`](#AccessManaged-_checkCanCall-address-bytes-)
 
Events
IAccessManaged
* [`AuthorityUpdated(authority)`](#IAccessManaged-AuthorityUpdated-address-)
 
#### [](#AccessManaged-restricted--)`restricted()` modifier
Restricts access to a function as defined by the connected Authority for this contract and the caller and selector of the function that entered the contract.
In general, this modifier should only be used on `external` functions. It is okay to use it on `public` functions that are used as external entry points and are not called internally. Unless you know what you’re doing, it should never be used on `internal` functions. Failure to follow these rules can have critical security implications! This is because the permissions are determined by the function that entered the contract, i.e. the function at the bottom of the call stack, and not the function where the modifier is visible in the source code.
Avoid adding this modifier to the [`receive()`](https://docs.soliditylang.org/en/v0.8.20/contracts.html#receive-ether-function) function or the [`fallback()`](https://docs.soliditylang.org/en/v0.8.20/contracts.html#fallback-function). These functions are the only execution paths where a function selector cannot be unambiguously determined from the calldata since the selector defaults to `0x00000000` in the `receive()` function and similarly in the `fallback()` function if no calldata is provided. (See [`_checkCanCall`](#AccessManaged-_checkCanCall-address-bytes-)).
The `receive()` function will always panic whereas the `fallback()` may panic depending on the calldata length.
#### [](#AccessManaged-constructor-address-)`constructor(address initialAuthority)` internal
Initializes the contract connected to an initial authority.
#### [](#AccessManaged-authority--)`authority() → address` public
Returns the current authority.
#### [](#AccessManaged-setAuthority-address-)`setAuthority(address newAuthority)` public
Transfers control to a new authority. The caller must be the current authority.
#### [](#AccessManaged-isConsumingScheduledOp--)`isConsumingScheduledOp() → bytes4` public
Returns true only in the context of a delayed restricted call, at the moment that the scheduled operation is being consumed. Prevents denial of service for delayed restricted calls in the case that the contract performs attacker controlled calls.
#### [](#AccessManaged-_setAuthority-address-)`_setAuthority(address newAuthority)` internal
Transfers control to a new authority. Internal function with no access restriction. Allows bypassing the permissions set by the current authority.
#### [](#AccessManaged-_checkCanCall-address-bytes-)`_checkCanCall(address caller, bytes data)` internal
Reverts if the caller is not allowed to call the function identified by a selector. Panics if the calldata is less than 4 bytes long.
### [](#AuthorityUtils)`AuthorityUtils`[](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v5.3.0/contracts/access/manager/AuthorityUtils.sol)
 import "@openzeppelin/contracts/access/manager/AuthorityUtils.sol";
#### [](#AuthorityUtils-canCallWithDelay-address-address-address-bytes4-)`canCallWithDelay(address authority, address caller, address target, bytes4 selector) → bool immediate, uint32 delay` internal
Since `AccessManager` implements an extended IAuthority interface, invoking `canCall` with backwards compatibility for the preexisting `IAuthority` interface requires special care to avoid reverting on insufficient return data. This helper function takes care of invoking `canCall` in a backwards compatible way without reverting.

